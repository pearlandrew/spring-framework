{
  ScheduledExecutorService executor=createExecutor(this.poolSize,threadFactory,rejectedExecutionHandler);
  if (executor instanceof ScheduledThreadPoolExecutor && this.removeOnCancelPolicy != null) {
    ((ScheduledThreadPoolExecutor)executor).setRemoveOnCancelPolicy(this.removeOnCancelPolicy);
  }
  if (!ObjectUtils.isEmpty(this.scheduledExecutorTasks)) {
    registerTasks(this.scheduledExecutorTasks,executor);
  }
  this.exposedExecutor=(this.exposeUnconfigurableExecutor ? Executors.unconfigurableScheduledExecutorService(executor) : executor);
  return executor;
}
