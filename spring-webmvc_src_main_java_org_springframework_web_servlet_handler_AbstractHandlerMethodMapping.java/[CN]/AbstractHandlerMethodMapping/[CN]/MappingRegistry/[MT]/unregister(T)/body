{
  this.readWriteLock.writeLock().lock();
  try {
    MappingDefinition<T> definition=this.definitionMap.remove(mapping);
    if (definition == null) {
      return;
    }
    this.mappingLookup.remove(definition.getMapping());
    for (    String url : definition.getDirectUrls()) {
      List<T> list=this.urlLookup.get(url);
      if (list != null) {
        list.remove(definition.getMapping());
        if (list.isEmpty()) {
          this.urlLookup.remove(url);
        }
      }
    }
    removeMappingName(definition);
    this.corsLookup.remove(definition.getHandlerMethod().getMethod());
  }
  finally {
    this.readWriteLock.writeLock().unlock();
  }
}
