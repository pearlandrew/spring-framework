{
  String lookupPath=this.urlPathHelper.getLookupPathForRequest(request);
  if (logger.isDebugEnabled()) {
    logger.debug("Looking up cache seconds for [" + lookupPath + "]");
  }
  CacheControl cacheControl=lookupCacheControl(lookupPath);
  Integer cacheSeconds=lookupCacheSeconds(lookupPath);
  if (cacheControl != null) {
    if (logger.isDebugEnabled()) {
      logger.debug("Applying CacheControl to [" + lookupPath + "]");
    }
    checkAndPrepare(request,response,cacheControl);
  }
 else   if (cacheSeconds != null) {
    if (logger.isDebugEnabled()) {
      logger.debug("Applying CacheControl to [" + lookupPath + "]");
    }
    checkAndPrepare(request,response,cacheSeconds);
  }
 else {
    if (logger.isDebugEnabled()) {
      logger.debug("Applying default cache seconds to [" + lookupPath + "]");
    }
    checkAndPrepare(request,response);
  }
  return true;
}
