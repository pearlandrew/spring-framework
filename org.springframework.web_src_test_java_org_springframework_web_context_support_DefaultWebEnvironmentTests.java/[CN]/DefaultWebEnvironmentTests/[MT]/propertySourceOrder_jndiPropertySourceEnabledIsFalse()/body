{
  System.setProperty(JndiPropertySource.JNDI_PROPERTY_SOURCE_ENABLED_FLAG,"false");
  ConfigurableEnvironment env=new DefaultWebEnvironment();
  MutablePropertySources sources=env.getPropertySources();
  assertThat(sources.precedenceOf(PropertySource.named(DefaultWebEnvironment.SERVLET_CONFIG_PROPERTY_SOURCE_NAME)),equalTo(0));
  assertThat(sources.precedenceOf(PropertySource.named(DefaultWebEnvironment.SERVLET_CONTEXT_PROPERTY_SOURCE_NAME)),equalTo(1));
  assertThat(sources.precedenceOf(PropertySource.named(DefaultEnvironment.SYSTEM_PROPERTIES_PROPERTY_SOURCE_NAME)),equalTo(2));
  assertThat(sources.precedenceOf(PropertySource.named(DefaultEnvironment.SYSTEM_ENVIRONMENT_PROPERTY_SOURCE_NAME)),equalTo(3));
  assertThat(sources.size(),is(4));
  System.clearProperty(JndiPropertySource.JNDI_PROPERTY_SOURCE_ENABLED_FLAG);
}
