{
  boolean containsRuntimeRefs=false;
  for (  Object element : map.values()) {
    if (element instanceof RuntimeBeanReference) {
      containsRuntimeRefs=true;
      break;
    }
  }
  if (containsRuntimeRefs) {
    Map<Object,Object> managedMap=new ManagedMap<Object,Object>();
    managedMap.putAll(map);
    return managedMap;
  }
  return map;
}
