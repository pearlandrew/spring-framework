{
  ConfigurationClass configClass=new ConfigurationClass();
  ClassReader reader=ConfigurationClassReaderUtils.newAsmClassReader(ClassUtils.convertClassNameToResourcePath(classToImport),classLoader);
  reader.accept(new ConfigurationClassVisitor(configClass,model,problemReporter,classLoader,importStack),false);
  if (configClass.getAnnotation(Configuration.class) == null) {
    problemReporter.error(new NonAnnotatedConfigurationProblem(configClass.getName(),configClass.getLocation()));
  }
 else {
    model.add(configClass);
  }
}
