{
  DataBinder binder=new DataBinder(tb);
  binder.getFormatterRegistry();
  MutablePropertyValues pvs=new MutablePropertyValues();
  pvs.addPropertyValue("number","1,2");
  LocaleContextHolder.setLocale(Locale.GERMAN);
  try {
    binder.bind(pvs);
    assertEquals(new Float("1.2"),binder.getBindingResult().getRawFieldValue("number"));
    assertEquals("1,2",binder.getBindingResult().getFieldValue("number"));
    PropertyEditor editor=binder.getBindingResult().findEditor("number",Float.class);
    assertNotNull(editor);
    editor.setValue(new Float("1.4"));
    assertEquals("1,4",editor.getAsText());
    editor=binder.getBindingResult().findEditor("number",null);
    assertNotNull(editor);
    editor.setAsText("1,6");
    assertEquals(new Float("1.6"),editor.getValue());
  }
  finally {
    LocaleContextHolder.resetLocaleContext();
  }
}
