{
  boolean allIntegerObjects=true;
  int total=0;
  int numberOfElements=0;
  for (  Object element : input) {
    if (element != null) {
      if (element instanceof Number) {
        allIntegerObjects=allIntegerObjects && (element.getClass() == Integer.class || element.getClass() == Integer.TYPE);
        total=total + ((Number)element).intValue();
        numberOfElements++;
      }
 else {
        throw new SpelException(SpelMessages.TYPE_NOT_SUPPORTED_BY_PROCESSOR,"average",element.getClass());
      }
    }
  }
  int result=total / numberOfElements;
  return result;
}
