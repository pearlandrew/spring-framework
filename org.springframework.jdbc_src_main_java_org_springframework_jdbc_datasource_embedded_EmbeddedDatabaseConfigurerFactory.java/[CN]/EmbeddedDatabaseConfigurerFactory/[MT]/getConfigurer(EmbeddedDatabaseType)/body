{
  Assert.notNull(type,"The EmbeddedDatabaseType is required");
  try {
switch (type) {
case HSQL:
      return HsqlEmbeddedDatabaseConfigurer.getInstance();
case H2:
    return H2EmbeddedDatabaseConfigurer.getInstance();
default :
  throw new UnsupportedOperationException("Other embedded database types not yet supported");
}
}
 catch (ClassNotFoundException e) {
throw new IllegalStateException("Drivers for test database type [" + type + "] are not available in the classpath",e);
}
}
