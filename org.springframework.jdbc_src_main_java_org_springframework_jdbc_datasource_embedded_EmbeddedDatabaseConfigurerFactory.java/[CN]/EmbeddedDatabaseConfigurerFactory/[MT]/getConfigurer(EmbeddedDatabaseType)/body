{
  Assert.notNull(type,"EmbeddedDatabaseType is required");
  try {
switch (type) {
case HSQL:
      return HsqlEmbeddedDatabaseConfigurer.getInstance();
case H2:
    return H2EmbeddedDatabaseConfigurer.getInstance();
case DERBY:
  return DerbyEmbeddedDatabaseConfigurer.getInstance();
default :
throw new UnsupportedOperationException("Other embedded database types not yet supported");
}
}
 catch (ClassNotFoundException ex) {
throw new IllegalStateException("Driver for test database type [" + type + "] is not available in the classpath",ex);
}
}
