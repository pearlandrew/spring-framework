{
  if (source == null) {
    return null;
  }
  Class targetCollectionImpl=getCollectionImplClass(targetClass);
  Collection targetCollection=(Collection)targetCollectionImpl.getConstructor((Class[])null).newInstance((Object[])null);
  ConversionExecutor elementConverter=getElementConverter(source,targetClass);
  Collection sourceCollection=(Collection)source;
  Iterator it=sourceCollection.iterator();
  while (it.hasNext()) {
    Object value=it.next();
    if (elementConverter != null) {
      value=elementConverter.execute(value);
    }
    targetCollection.add(value);
  }
  return targetCollection;
}
