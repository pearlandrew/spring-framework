{
  this.originalHeaders=null;
  Assert.notNull(messageType,"messageType is required");
  this.headers.put(MESSAGE_TYPE,messageType);
  if (protocolMessageType != null) {
    this.headers.put(PROTOCOL_MESSAGE_TYPE,protocolMessageType);
  }
  if (externalSourceHeaders == null) {
    this.externalSourceHeaders=emptyMultiValueMap;
  }
 else {
    this.externalSourceHeaders=Collections.unmodifiableMap(externalSourceHeaders);
    this.headers.put(EXTERNAL_SOURCE_HEADERS,this.externalSourceHeaders);
  }
}
