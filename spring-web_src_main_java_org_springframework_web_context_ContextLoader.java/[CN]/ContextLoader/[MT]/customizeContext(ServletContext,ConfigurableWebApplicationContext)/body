{
  List<Class<ApplicationContextInitializer<ConfigurableApplicationContext>>> initializerClasses=determineContextInitializerClasses(servletContext);
  if (initializerClasses.size() == 0) {
    return;
  }
  Class<?> contextClass=applicationContext.getClass();
  ArrayList<ApplicationContextInitializer<ConfigurableApplicationContext>> initializerInstances=new ArrayList<ApplicationContextInitializer<ConfigurableApplicationContext>>();
  for (  Class<ApplicationContextInitializer<ConfigurableApplicationContext>> initializerClass : initializerClasses) {
    Class<?> initializerContextClass=GenericTypeResolver.resolveTypeArgument(initializerClass,ApplicationContextInitializer.class);
    if (initializerContextClass != null) {
      Assert.isAssignable(initializerContextClass,contextClass,String.format("Could not add context initializer [%s] as its generic parameter [%s] " + "is not assignable from the type of application context used by this " + "context loader [%s]: ",initializerClass.getName(),initializerContextClass.getName(),contextClass.getName()));
    }
    initializerInstances.add(BeanUtils.instantiateClass(initializerClass));
  }
  ConfigurableEnvironment env=applicationContext.getEnvironment();
  if (env instanceof ConfigurableWebEnvironment) {
    ((ConfigurableWebEnvironment)env).initPropertySources(servletContext,null);
  }
  Collections.sort(initializerInstances,new AnnotationAwareOrderComparator());
  for (  ApplicationContextInitializer<ConfigurableApplicationContext> initializer : initializerInstances) {
    initializer.initialize(applicationContext);
  }
}
