{
  Class classToIntrospect=currentClass;
  while (classToIntrospect != null) {
    Type[] ifcs=classToIntrospect.getGenericInterfaces();
    for (    Type ifc : ifcs) {
      if (ifc instanceof ParameterizedType) {
        ParameterizedType paramIfc=(ParameterizedType)ifc;
        Type rawType=paramIfc.getRawType();
        if (ApplicationListener.class.equals(rawType)) {
          Type arg=paramIfc.getActualTypeArguments()[0];
          if (arg instanceof TypeVariable) {
            arg=GenericTypeResolver.resolveTypeVariable((TypeVariable)arg,this.delegate.getClass());
          }
          if (arg instanceof Class) {
            return (Class)arg;
          }
        }
 else         if (ApplicationListener.class.isAssignableFrom((Class)rawType)) {
          return getGenericEventType((Class)rawType);
        }
      }
 else       if (ApplicationListener.class.isAssignableFrom((Class)ifc)) {
        return getGenericEventType((Class)ifc);
      }
    }
    classToIntrospect=classToIntrospect.getSuperclass();
  }
  return ApplicationEvent.class;
}
