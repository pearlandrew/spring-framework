{
  MockHttpOutputMessage outputMessage=new MockHttpOutputMessage();
  Resource body=new ClassPathResource("byterangeresource.txt",getClass());
  List<HttpRange> httpRangeList=HttpRange.parseRanges("bytes=-50");
  converter.write(new HttpRangeResource(httpRangeList,body),MediaType.TEXT_PLAIN,outputMessage);
  HttpHeaders headers=outputMessage.getHeaders();
  assertThat(headers.getContentType(),is(MediaType.TEXT_PLAIN));
  assertThat(headers.getContentLength(),is(39L));
  assertThat(headers.get(HttpHeaders.CONTENT_RANGE).size(),is(1));
  assertThat(headers.get(HttpHeaders.CONTENT_RANGE).get(0),is("bytes 0-38/39"));
  assertThat(outputMessage.getBodyAsString(Charset.forName("UTF-8")),is("Spring Framework test resource content."));
}
