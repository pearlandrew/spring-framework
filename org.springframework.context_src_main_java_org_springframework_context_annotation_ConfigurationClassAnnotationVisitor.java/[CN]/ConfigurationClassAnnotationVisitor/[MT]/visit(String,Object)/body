{
  Class<?> attribReturnType=mutableAnno.getAttributeType(attribName);
  if (attribReturnType.equals(Class.class)) {
    String className=((Type)attribValue).getClassName();
    try {
      Class<?> classVal=classLoader.loadClass(className);
      if (classVal != null) {
        mutableAnno.setAttributeValue(attribName,classVal);
      }
    }
 catch (    ClassNotFoundException ex) {
      throw new IllegalStateException("Cannot resolve attribute type [" + className + "]",ex);
    }
  }
 else {
    mutableAnno.setAttributeValue(attribName,attribValue);
  }
}
