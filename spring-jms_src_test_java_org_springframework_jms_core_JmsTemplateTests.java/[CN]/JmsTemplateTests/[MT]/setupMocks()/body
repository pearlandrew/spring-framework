{
  jndiContext=mock(Context.class);
  connectionFactory=mock(ConnectionFactory.class);
  connection=mock(Connection.class);
  session=mock(Session.class);
  queue=mock(Queue.class);
  given(connectionFactory.createConnection()).willReturn(connection);
  given(connection.createSession(useTransactedTemplate(),Session.AUTO_ACKNOWLEDGE)).willReturn(session);
  given(session.getTransacted()).willReturn(useTransactedSession());
  given(jndiContext.lookup("testDestination")).willReturn(queue);
}
