{
  if (this.objectMapper == null) {
    this.objectMapper=new ObjectMapper();
  }
  if (this.annotationIntrospector != null) {
    this.objectMapper.getSerializationConfig().setAnnotationIntrospector(annotationIntrospector);
    this.objectMapper.getDeserializationConfig().setAnnotationIntrospector(annotationIntrospector);
  }
  if (this.dateFormat != null) {
    this.objectMapper.getSerializationConfig().setDateFormat(this.dateFormat);
  }
  for (  Map.Entry<Object,Boolean> entry : features.entrySet()) {
    setFeatureEnabled(entry.getKey(),entry.getValue().booleanValue());
  }
}
