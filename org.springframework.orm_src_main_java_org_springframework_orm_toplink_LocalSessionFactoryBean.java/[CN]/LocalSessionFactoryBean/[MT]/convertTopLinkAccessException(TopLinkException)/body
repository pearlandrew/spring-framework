{
  if (getJdbcExceptionTranslator() != null && ex instanceof DatabaseException) {
    Throwable internalEx=ex.getInternalException();
    if (internalEx instanceof SQLException) {
      return getJdbcExceptionTranslator().translate("TopLink operation: " + ex.getMessage(),null,(SQLException)internalEx);
    }
  }
  return SessionFactoryUtils.convertTopLinkAccessException(ex);
}
