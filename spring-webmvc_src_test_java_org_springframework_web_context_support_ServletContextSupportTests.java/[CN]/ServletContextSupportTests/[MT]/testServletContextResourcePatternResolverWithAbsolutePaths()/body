{
  final Set<String> paths=new HashSet<String>();
  paths.add("C:/webroot/WEB-INF/context1.xml");
  paths.add("C:/webroot/WEB-INF/context2.xml");
  paths.add("C:/webroot/someOtherDirThatDoesntContainPath");
  MockServletContext sc=new MockServletContext("classpath:org/springframework/web/context"){
    @Override public Set<String> getResourcePaths(    String path){
      if ("/WEB-INF/".equals(path)) {
        return paths;
      }
      return null;
    }
  }
;
  ServletContextResourcePatternResolver rpr=new ServletContextResourcePatternResolver(sc);
  Resource[] found=rpr.getResources("/WEB-INF/*.xml");
  Set<String> foundPaths=new HashSet<String>();
  for (int i=0; i < found.length; i++) {
    foundPaths.add(((ServletContextResource)found[i]).getPath());
  }
  assertEquals(2,foundPaths.size());
  assertTrue(foundPaths.contains("/WEB-INF/context1.xml"));
  assertTrue(foundPaths.contains("/WEB-INF/context2.xml"));
}
