{
  final NioEventLoopGroup nioEventLoopGroup=initEventLoopGroup();
  this.eventLoopGroup=nioEventLoopGroup;
  this.tcpClientSpecFactory=new TcpClientFactory<Message<P>,Message<P>>(){
    @Override public TcpClientSpec<Message<P>,Message<P>> apply(    TcpClientSpec<Message<P>,Message<P>> spec){
      return spec.env(new Environment(new SynchronousDispatcherConfigReader())).codec(codec).connect(host,port).options(new NettyClientSocketOptions().eventLoopGroup(nioEventLoopGroup));
    }
  }
;
}
