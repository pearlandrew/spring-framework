{
  Class<?> testClass=testContext.getTestClass();
  Assert.notNull(testClass,"The test class of the supplied TestContext must not be null");
  final String annotationType=DirtiesContext.class.getName();
  AnnotationAttributes annAttrs=AnnotatedElementUtils.getAnnotationAttributes(testClass,annotationType);
  boolean dirtiesContext=annAttrs != null;
  if (logger.isDebugEnabled()) {
    logger.debug(String.format("After test class: context %s, dirtiesContext [%s].",testContext,dirtiesContext));
  }
  if (dirtiesContext) {
    HierarchyMode hierarchyMode=annAttrs.<HierarchyMode>getEnum("hierarchyMode");
    dirtyContext(testContext,hierarchyMode);
  }
}
