{
  for (  Annotation annotation : annotations) {
    if (!AnnotationUtils.isInJavaLangAnnotationPackage(annotation) && ((annotation.annotationType() == annotationType || annotation.annotationType().getName().equals(annotationName)) || metaDepth > 0)) {
      T result=processor.process(annotatedElement,annotation,metaDepth);
      if (result != null) {
        if (processor.aggregates() && metaDepth == 0) {
          processor.getAggregatedResults().add(result);
        }
 else {
          return result;
        }
      }
    }
  }
  for (  Annotation annotation : annotations) {
    if (!AnnotationUtils.isInJavaLangAnnotationPackage(annotation)) {
      T result=searchWithGetSemantics(annotation.annotationType(),annotationType,annotationName,processor,visited,metaDepth + 1);
      if (result != null) {
        processor.postProcess(annotatedElement,annotation,result);
        if (processor.aggregates() && metaDepth == 0) {
          processor.getAggregatedResults().add(result);
        }
 else {
          return result;
        }
      }
    }
  }
  return null;
}
