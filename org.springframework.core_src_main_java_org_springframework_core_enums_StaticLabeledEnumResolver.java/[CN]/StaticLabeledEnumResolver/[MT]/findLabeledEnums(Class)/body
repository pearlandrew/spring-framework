{
  Set typeEnums=new TreeSet();
  Field[] fields=type.getFields();
  for (int i=0; i < fields.length; i++) {
    Field field=fields[i];
    if (Modifier.isStatic(field.getModifiers()) && Modifier.isPublic(field.getModifiers())) {
      if (type.isAssignableFrom(field.getType())) {
        try {
          Object value=field.get(null);
          Assert.isTrue(value instanceof LabeledEnum,"Field value must be a LabeledEnum instance");
          typeEnums.add(value);
        }
 catch (        IllegalAccessException ex) {
          logger.warn("Unable to access field value: " + field,ex);
        }
      }
    }
  }
  return typeEnums;
}
