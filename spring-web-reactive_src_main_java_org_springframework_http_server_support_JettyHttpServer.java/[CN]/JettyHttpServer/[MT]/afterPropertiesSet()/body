{
  if (getPort() == -1) {
    setPort(SocketUtils.findAvailableTcpPort(8080));
  }
  this.jettyServer=new Server();
  Assert.notNull(getHttpHandler());
  Servlet31HttpHandlerAdapter servlet=new Servlet31HttpHandlerAdapter();
  servlet.setHandler(getHttpHandler());
  ServletHolder servletHolder=new ServletHolder(servlet);
  ServletContextHandler contextHandler=new ServletContextHandler(this.jettyServer,"",false,false);
  contextHandler.addServlet(servletHolder,"/");
  ServerConnector connector=new ServerConnector(this.jettyServer);
  connector.setPort(getPort());
  this.jettyServer.addConnector(connector);
}
