{
  topicConnectionFactory=mock(TopicConnectionFactory.class);
  topicConnection=mock(TopicConnection.class);
  topic=mock(Topic.class);
  topicSession=mock(TopicSession.class);
  given(topicConnectionFactory.createTopicConnection()).willReturn(topicConnection);
  given(topicConnection.createTopicSession(useTransactedTemplate(),Session.AUTO_ACKNOWLEDGE)).willReturn(topicSession);
  given(topicSession.getTransacted()).willReturn(useTransactedSession());
  given(jndiContext.lookup("testTopic")).willReturn(topic);
}
