{
synchronized (this.lifecycleMonitor) {
    this.environment=new Environment();
    this.tcpClient=new TcpClient.Spec<String,String>(NettyTcpClient.class).using(this.environment).codec(new DelimitedCodec<String,String>((byte)0,true,StandardCodecs.STRING_CODEC)).connect(this.relayHost,this.relayPort).get();
    StompHeaderAccessor headers=StompHeaderAccessor.create(StompCommand.CONNECT);
    headers.setAcceptVersion("1.1,1.2");
    headers.setLogin(this.systemLogin);
    headers.setPasscode(this.systemPasscode);
    headers.setHeartbeat(0,0);
    Message<?> message=MessageBuilder.withPayload(new byte[0]).copyHeaders(headers.toNativeHeaderMap()).build();
    RelaySession session=new RelaySession(message,headers){
      @Override protected void sendMessageToClient(      Message<?> message){
      }
    }
;
    this.relaySessions.put(STOMP_RELAY_SYSTEM_SESSION_ID,session);
    this.running=true;
  }
}
