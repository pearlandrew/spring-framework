{
  try {
    new XmlBeanFactory(new ClassPathResource("testWithDuplicateNames.xml",getClass()));
    fail("Duplicate name not detected");
  }
 catch (  BeansException ex) {
    assertTrue(ex.getMessage().indexOf("Bean name 'foo'") > -1);
  }
}
