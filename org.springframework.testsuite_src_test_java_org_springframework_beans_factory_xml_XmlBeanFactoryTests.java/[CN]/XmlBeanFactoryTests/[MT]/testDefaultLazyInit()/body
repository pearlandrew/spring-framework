{
  InitAndIB.constructed=false;
  XmlBeanFactory xbf=new XmlBeanFactory(new ClassPathResource("default-lazy-init.xml",getClass()));
  assertFalse(InitAndIB.constructed);
  xbf.preInstantiateSingletons();
  assertTrue(InitAndIB.constructed);
  try {
    xbf.getBean("lazy-and-bad");
  }
 catch (  BeanCreationException ex) {
    assertTrue(ex.getCause() instanceof ServletException);
  }
}
