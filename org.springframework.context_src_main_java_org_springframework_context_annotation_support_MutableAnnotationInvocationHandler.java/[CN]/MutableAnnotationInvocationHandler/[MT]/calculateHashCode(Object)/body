{
  int sum=0;
  for (  String attribName : attributes.keySet()) {
    Object attribValue=attributes.get(attribName);
    final int attribNameHashCode=attribName.hashCode();
    final int attribValueHashCode;
    if (attribValue == null)     attribValueHashCode=0;
 else     if (attribValue.getClass().isArray())     attribValueHashCode=Arrays.hashCode((Object[])attribValue);
 else     attribValueHashCode=attribValue.hashCode();
    sum+=(127 * attribNameHashCode) ^ attribValueHashCode;
  }
  return sum;
}
