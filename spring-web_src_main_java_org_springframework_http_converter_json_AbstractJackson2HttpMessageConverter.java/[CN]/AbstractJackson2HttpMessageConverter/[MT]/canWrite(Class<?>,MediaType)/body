{
  if (!canWrite(mediaType)) {
    return false;
  }
  if (!logger.isWarnEnabled()) {
    return this.objectMapper.canSerialize(clazz);
  }
  AtomicReference<Throwable> causeRef=new AtomicReference<Throwable>();
  if (this.objectMapper.canSerialize(clazz,causeRef)) {
    return true;
  }
  Throwable cause=causeRef.get();
  if (cause != null) {
    String msg="Failed to evaluate serialization for type [" + clazz + "]";
    if (logger.isDebugEnabled()) {
      logger.warn(msg,cause);
    }
 else {
      logger.warn(msg + ": " + cause);
    }
  }
  return false;
}
