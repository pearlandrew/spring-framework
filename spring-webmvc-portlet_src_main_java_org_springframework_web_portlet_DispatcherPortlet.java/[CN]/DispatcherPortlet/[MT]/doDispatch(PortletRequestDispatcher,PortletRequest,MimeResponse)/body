{
  if (PortletRequest.RESOURCE_PHASE.equals(request.getAttribute(PortletRequest.LIFECYCLE_PHASE)) && !dispatcher.getClass().getName().startsWith("com.liferay")) {
    dispatcher.forward(request,response);
  }
 else {
    dispatcher.include(request,response);
  }
}
