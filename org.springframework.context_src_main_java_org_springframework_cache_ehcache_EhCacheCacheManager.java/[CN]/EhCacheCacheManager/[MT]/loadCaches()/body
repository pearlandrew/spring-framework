{
  Assert.notNull(cacheManager,"a backing Ehcache cache manager is required");
  Status status=cacheManager.getStatus();
  Assert.isTrue(Status.STATUS_ALIVE.equals(status),"an 'alive' Ehcache cache manager is required - current cache is " + status.toString());
  String[] names=cacheManager.getCacheNames();
  Collection<Cache> caches=new LinkedHashSet<Cache>(names.length);
  for (  String name : names) {
    caches.add(new EhCacheCache(cacheManager.getEhcache(name)));
  }
  return caches;
}
