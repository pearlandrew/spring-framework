{
  super(destinationPrefixes);
  Assert.notNull(clientInboundChannel,"'clientInboundChannel' must not be null");
  Assert.notNull(clientOutboundChannel,"'clientOutboundChannel' must not be null");
  Assert.notNull(brokerChannel,"'brokerChannel' must not be null");
  this.clientInboundChannel=clientInboundChannel;
  this.clientOutboundChannel=clientOutboundChannel;
  this.brokerChannel=brokerChannel;
  DefaultSubscriptionRegistry subscriptionRegistry=new DefaultSubscriptionRegistry();
  if (pathMatcher != null) {
    subscriptionRegistry.setPathMatcher(pathMatcher);
  }
  this.subscriptionRegistry=subscriptionRegistry;
}
