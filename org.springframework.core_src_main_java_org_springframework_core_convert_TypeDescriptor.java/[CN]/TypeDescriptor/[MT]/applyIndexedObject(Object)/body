{
  if (object == null) {
    return TypeDescriptor.valueOf(Object.class);
  }
  if (object instanceof Collection<?>) {
    Collection<?> collection=(Collection<?>)object;
    if (collection.size() == 0) {
      return TypeDescriptor.valueOf(Object.class);
    }
    return new TypeDescriptor(object.getClass(),findCommonElement((Collection<?>)object));
  }
 else   if (object instanceof Map<?,?>) {
    Map<?,?> map=(Map<?,?>)object;
    if (map.size() == 0) {
      return TypeDescriptor.valueOf(Object.class);
    }
    return new TypeDescriptor(object.getClass(),findCommonElement(map.keySet()),findCommonElement(map.values()));
  }
 else {
    return TypeDescriptor.valueOf(object.getClass());
  }
}
