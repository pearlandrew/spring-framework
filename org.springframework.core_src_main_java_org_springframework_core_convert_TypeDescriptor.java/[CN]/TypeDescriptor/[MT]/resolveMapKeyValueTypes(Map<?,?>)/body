{
  if (!isMap()) {
    throw new IllegalStateException("Not a java.util.Map");
  }
  return new TypeDescriptor(type,elementType,CommonElement.typeDescriptor(map.keySet()),CommonElement.typeDescriptor(map.values()),annotations);
}
