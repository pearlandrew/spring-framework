{
  if (registrar instanceof Aware) {
    if (registrar instanceof ResourceLoaderAware) {
      ((ResourceLoaderAware)registrar).setResourceLoader(this.resourceLoader);
    }
    if (registrar instanceof BeanClassLoaderAware) {
      ClassLoader classLoader=(this.registry instanceof ConfigurableBeanFactory ? ((ConfigurableBeanFactory)this.registry).getBeanClassLoader() : this.resourceLoader.getClassLoader());
      ((BeanClassLoaderAware)registrar).setBeanClassLoader(classLoader);
    }
    if (registrar instanceof BeanFactoryAware && this.registry instanceof BeanFactory) {
      ((BeanFactoryAware)registrar).setBeanFactory((BeanFactory)this.registry);
    }
  }
}
