{
  ConfigurationClassApplicationContext context=new ConfigurationClassApplicationContext(TwoTestBeanConfig.class);
  try {
    context.getBean(TestBean.class);
  }
 catch (  RuntimeException ex) {
    assertThat(ex.getMessage(),equalTo("No unique bean of type [" + TestBean.class.getName() + "] is defined: "+ "2 matching bean definitions found (tb1,tb2). Consider qualifying with "+ "getBean(Class<T> beanType, String beanName) or declaring one bean definition as "+ "@"+ Primary.class.getSimpleName()));
  }
}
