{
  ConfigurationClassApplicationContext context=new ConfigurationClassApplicationContext(Config.class);
  Class<?> targetType=java.util.regex.Pattern.class;
  try {
    Object bean=context.getBean(targetType);
    fail("should have thrown NoSuchBeanDefinitionException, instead got: " + bean);
  }
 catch (  NoSuchBeanDefinitionException ex) {
    assertThat(ex.getMessage(),equalTo(format("No unique bean of type [%s] is defined",targetType.getName())));
  }
}
