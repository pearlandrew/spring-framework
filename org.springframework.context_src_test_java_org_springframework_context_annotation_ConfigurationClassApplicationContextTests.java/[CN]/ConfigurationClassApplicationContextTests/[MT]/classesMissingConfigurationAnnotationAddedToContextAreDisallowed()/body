{
  ConfigurationClassApplicationContext ctx=new ConfigurationClassApplicationContext(Config.class);
  ctx.addConfigurationClass(ConfigWithCustomName.class);
  try {
    ctx.addConfigurationClass(ConfigMissingAnnotation.class);
    fail("expected exception");
  }
 catch (  IllegalArgumentException ex) {
    assertThat(ex.getMessage(),equalTo("Class [" + ConfigMissingAnnotation.class.getName() + "] "+ "is not annotated with @Configuration"));
  }
}
