{
  DeferredResult<String> deferredResult=new DeferredResult<String>(1000L);
  String concurrentResult="abc";
  DeferredResultProcessingInterceptor interceptor=createStrictMock(DeferredResultProcessingInterceptor.class);
  interceptor.beforeConcurrentHandling(this.asyncWebRequest,deferredResult);
  interceptor.preProcess(this.asyncWebRequest,deferredResult);
  interceptor.postProcess(asyncWebRequest,deferredResult,concurrentResult);
  replay(interceptor);
  this.asyncWebRequest.setTimeout(1000L);
  setupDefaultAsyncScenario();
  this.asyncManager.registerDeferredResultInterceptor("interceptor",interceptor);
  this.asyncManager.startDeferredResultProcessing(deferredResult);
  deferredResult.setResult(concurrentResult);
  assertEquals(concurrentResult,this.asyncManager.getConcurrentResult());
  verify(this.asyncWebRequest,interceptor);
}
