{
  if (this.mappings.containsKey(method)) {
    return true;
  }
  RequestMapping mapping=AnnotationUtils.findAnnotation(method,RequestMapping.class);
  if (mapping != null) {
    String[] patterns=mapping.value();
    RequestMethod[] methods=new RequestMethod[0];
    String[] params=new String[0];
    String[] headers=new String[0];
    if (!hasTypeLevelMapping() || !Arrays.equals(mapping.method(),getTypeLevelMapping().method())) {
      methods=mapping.method();
    }
    if (!hasTypeLevelMapping() || !Arrays.equals(mapping.params(),getTypeLevelMapping().params())) {
      params=mapping.params();
    }
    if (!hasTypeLevelMapping() || !Arrays.equals(mapping.headers(),getTypeLevelMapping().headers())) {
      headers=mapping.headers();
    }
    RequestMappingInfo mappingInfo=new RequestMappingInfo(patterns,methods,params,headers);
    this.mappings.put(method,mappingInfo);
    return true;
  }
  return false;
}
