{
  Map<String,String> variables=(Map<String,String>)request.getAttribute(HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE);
  if (CollectionUtils.isEmpty(variables) && pathMatcher.match(mappedPattern,lookupPath)) {
    variables=pathMatcher.extractUriTemplateVariables(mappedPattern,lookupPath);
    request.setAttribute(HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE,variables);
  }
}
