{
  if (responseEntity == null) {
    return;
  }
  HttpInputMessage inputMessage=createHttpInputMessage(webRequest);
  HttpOutputMessage outputMessage=createHttpOutputMessage(webRequest);
  if (responseEntity instanceof ResponseEntity && outputMessage instanceof ServerHttpResponse) {
    ((ServerHttpResponse)outputMessage).setStatusCode(((ResponseEntity)responseEntity).getStatusCode());
  }
  HttpHeaders entityHeaders=responseEntity.getHeaders();
  if (!entityHeaders.isEmpty()) {
    outputMessage.getHeaders().putAll(entityHeaders);
  }
  writeWithMessageConverters(responseEntity.getBody(),inputMessage,outputMessage);
}
