{
  String resolvedLocation=SystemPropertyUtils.resolvePlaceholders(location);
  URL url=ResourceUtils.getURL(resolvedLocation);
  if (ResourceUtils.URL_PROTOCOL_FILE.equals(url.getProtocol()) && !ResourceUtils.getFile(url).exists()) {
    throw new FileNotFoundException("Log4j config file [" + resolvedLocation + "] not found");
  }
  if (resolvedLocation.toLowerCase().endsWith(XML_FILE_EXTENSION)) {
    DOMConfigurator.configure(url);
  }
 else {
    PropertyConfigurator.configure(url);
  }
}
