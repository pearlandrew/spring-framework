{
  if (logger.isDebugEnabled()) {
    logger.debug("Message received: " + message);
  }
  try {
    WebMessageHeaderAccesssor headers=WebMessageHeaderAccesssor.wrap(message);
    byte[] payload=payloadConverter.convertToPayload(message.getPayload(),headers.getContentType());
    Message<?> m=MessageBuilder.withPayload(payload).copyHeaders(message.getHeaders()).build();
    this.reactor.notify(getPublishKey(headers.getDestination()),Event.wrap(m));
  }
 catch (  Exception ex) {
    logger.error("Failed to publish " + message,ex);
  }
}
