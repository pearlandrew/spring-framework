{
  if (collection instanceof LinkedList) {
    return new LinkedList<E>();
  }
 else   if (collection instanceof List) {
    return new ArrayList<E>(capacity);
  }
 else   if (collection instanceof EnumSet) {
    return EnumSet.copyOf((Collection)collection);
  }
 else   if (collection instanceof SortedSet) {
    return new TreeSet<E>(((SortedSet<E>)collection).comparator());
  }
 else {
    return new LinkedHashSet<E>(capacity);
  }
}
