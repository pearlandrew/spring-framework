{
  if (map instanceof EnumMap) {
    EnumMap enumMap=new EnumMap((EnumMap)map);
    enumMap.clear();
    return enumMap;
  }
 else   if (map instanceof SortedMap) {
    return new TreeMap<K,V>(((SortedMap<K,V>)map).comparator());
  }
 else {
    return new LinkedHashMap<K,V>(capacity);
  }
}
