{
  Assert.notNull(message,"Message must not be null");
  if (logger.isTraceEnabled()) {
    logger.trace("[" + this.beanName + "] sending message "+ message);
  }
  message=this.interceptorChain.preSend(message,this);
  if (message == null) {
    return false;
  }
  try {
    boolean sent=sendInternal(message,timeout);
    this.interceptorChain.postSend(message,this,sent);
    return sent;
  }
 catch (  Exception e) {
    if (e instanceof MessagingException) {
      throw (MessagingException)e;
    }
    throw new MessageDeliveryException(message,"Failed to send message to channel '" + this.getBeanName() + "'",e);
  }
}
