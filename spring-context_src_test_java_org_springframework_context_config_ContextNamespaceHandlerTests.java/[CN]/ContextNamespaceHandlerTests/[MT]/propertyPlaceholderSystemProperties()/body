{
  String value=System.setProperty("foo","spam");
  try {
    ApplicationContext applicationContext=new ClassPathXmlApplicationContext("contextNamespaceHandlerTests-system.xml",getClass());
    Map<String,PropertyPlaceholderConfigurer> beans=applicationContext.getBeansOfType(PropertyPlaceholderConfigurer.class);
    assertFalse("No PropertyPlaceholderConfigurer found",beans.isEmpty());
    assertEquals("spam",applicationContext.getBean("string"));
    assertEquals("none",applicationContext.getBean("fallback"));
  }
  finally {
    if (value != null) {
      System.setProperty("foo",value);
    }
  }
}
