{
  registry.registerBeanDefinition(IMPORT_AWARE_PROCESSOR_BEAN_NAME,new RootBeanDefinition(ImportAwareBeanPostProcessor.class));
  int registryId=System.identityHashCode(registry);
  if (this.registriesPostProcessed.contains(registryId)) {
    throw new IllegalStateException("postProcessBeanDefinitionRegistry already called for this post-processor against " + registry);
  }
  if (this.factoriesPostProcessed.contains(registryId)) {
    throw new IllegalStateException("postProcessBeanFactory already called for this post-processor against " + registry);
  }
  this.registriesPostProcessed.add(registryId);
  processConfigBeanDefinitions(registry);
}
