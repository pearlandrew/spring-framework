{
  Assume.group(TestGroup.CUSTOM_COMPILATION);
  assumeTrue(canCompileReport);
  JasperReportsMultiFormatView view=(JasperReportsMultiFormatView)getView(UNCOMPILED_REPORT);
  Map<String,Class<? extends AbstractJasperReportsView>> mappings=new HashMap<>();
  mappings.put("test",ExporterParameterTestView.class);
  Map<String,String> exporterParameters=new HashMap<>();
  exporterParameters.put(ExporterParameterTestView.TEST_PARAM,"foo");
  view.setExporterParameters(exporterParameters);
  view.setFormatMappings(mappings);
  view.initApplicationContext();
  Map<String,Object> model=getBaseModel();
  model.put(getDiscriminatorKey(),"test");
  view.render(model,request,response);
}
