{
  Class<?> paramType=parameter.getParameterType();
  Object result=adaptee.resolveArgument(parameter,webRequest);
  if (result == WebArgumentResolver.UNRESOLVED || !ClassUtils.isAssignableValue(paramType,result)) {
    throw new IllegalStateException("Standard argument type [" + paramType.getName() + "] resolved to incompatible value of type ["+ (result != null ? result.getClass() : null)+ "]. Consider declaring the argument type in a less specific fashion.");
  }
  return result;
}
