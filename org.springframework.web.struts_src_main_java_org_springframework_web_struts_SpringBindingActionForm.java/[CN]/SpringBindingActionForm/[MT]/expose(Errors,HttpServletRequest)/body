{
  this.errors=errors;
  this.locale=(Locale)request.getSession().getAttribute(Globals.LOCALE_KEY);
  this.messageResources=(MessageResources)request.getAttribute(Globals.MESSAGES_KEY);
  if (errors != null && errors.hasErrors()) {
    ActionMessages actionMessages=(ActionMessages)request.getAttribute(Globals.ERROR_KEY);
    if (actionMessages == null) {
      request.setAttribute(Globals.ERROR_KEY,getActionMessages());
    }
 else {
      actionMessages.add(getActionMessages());
    }
  }
}
