{
  if (this.redirectedUrl != null) {
    throw new IllegalStateException("Cannot set render parameters after sendRedirect has been called");
  }
  Assert.notNull(parameters,"Parameters Map must not be null");
  this.renderParameters.clear();
  for (Iterator it=parameters.entrySet().iterator(); it.hasNext(); ) {
    Map.Entry entry=(Map.Entry)it.next();
    Assert.isTrue(entry.getKey() instanceof String,"Key must be of type String");
    Assert.isTrue(entry.getValue() instanceof String[],"Value must be of type String[]");
    this.renderParameters.put(entry.getKey(),entry.getValue());
  }
}
