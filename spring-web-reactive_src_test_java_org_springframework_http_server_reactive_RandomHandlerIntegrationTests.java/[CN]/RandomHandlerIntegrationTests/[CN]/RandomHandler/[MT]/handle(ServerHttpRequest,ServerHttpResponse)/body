{
  requestError=null;
  request.getBody().subscribe(new Subscriber<DataBuffer>(){
    @Override public void onSubscribe(    Subscription s){
      requestComplete=false;
      requestSize=0;
      requestError=null;
      s.request(Long.MAX_VALUE);
    }
    @Override public void onNext(    DataBuffer bytes){
      requestSize+=bytes.readableByteCount();
    }
    @Override public void onError(    Throwable t){
      requestComplete=true;
      requestError=t;
    }
    @Override public void onComplete(){
      requestComplete=true;
    }
  }
);
  response.getHeaders().setContentLength(RESPONSE_SIZE);
  return response.setBody(multipleChunks());
}
