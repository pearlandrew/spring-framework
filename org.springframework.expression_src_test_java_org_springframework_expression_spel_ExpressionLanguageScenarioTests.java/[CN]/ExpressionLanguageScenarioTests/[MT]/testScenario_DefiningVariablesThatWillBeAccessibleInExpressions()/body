{
  SpelAntlrExpressionParser parser=new SpelAntlrExpressionParser();
  StandardEvaluationContext ctx=new StandardEvaluationContext();
  ctx.setVariable("favouriteColour","blue");
  List<Integer> primes=new ArrayList<Integer>();
  primes.addAll(Arrays.asList(2,3,5,7,11,13,17));
  ctx.setVariable("primes",primes);
  Expression expr=parser.parseExpression("#favouriteColour");
  Object value=expr.getValue(ctx);
  assertEquals("blue",value);
  expr=parser.parseExpression("#primes.get(1)");
  value=expr.getValue(ctx);
  assertEquals(3,value);
  expr=parser.parseExpression("#primes.?[#this>10]");
  value=expr.getValue(ctx);
  assertEquals("[11, 13, 17]",value.toString());
}
