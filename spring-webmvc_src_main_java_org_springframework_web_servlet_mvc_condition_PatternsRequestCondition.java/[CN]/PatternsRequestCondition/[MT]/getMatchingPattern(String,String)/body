{
  if (pattern.equals(lookupPath)) {
    return pattern;
  }
  if (this.useSuffixPatternMatch) {
    if (useSmartSuffixPatternMatch(pattern,lookupPath)) {
      for (      String extension : this.fileExtensions) {
        if (this.pathMatcher.match(pattern + extension,lookupPath)) {
          return pattern + extension;
        }
      }
    }
 else {
      boolean hasSuffix=pattern.indexOf('.') != -1;
      if (!hasSuffix && this.pathMatcher.match(pattern + ".*",lookupPath)) {
        return pattern + ".*";
      }
    }
  }
  if (this.pathMatcher.match(pattern,lookupPath)) {
    return pattern;
  }
  boolean endsWithSlash=pattern.endsWith("/");
  if (this.useTrailingSlashMatch) {
    if (!endsWithSlash && this.pathMatcher.match(pattern + "/",lookupPath)) {
      return pattern + "/";
    }
  }
  return null;
}
