{
  MockHttpOutputMessage outputMessage=new MockHttpOutputMessage();
  JacksonViewBean bean=new JacksonViewBean();
  bean.setWithView1("with");
  bean.setWithView2("with");
  bean.setWithoutView("without");
  MappingJacksonValue jacksonValue=new MappingJacksonValue(bean);
  jacksonValue.setSerializationView(MyJacksonView1.class);
  this.writeInternal(jacksonValue,outputMessage);
  String result=outputMessage.getBodyAsString(Charset.forName("UTF-8"));
  assertThat(result,containsString("<withView1>with</withView1>"));
  assertThat(result,containsString("<withoutView>without</withoutView>"));
  assertThat(result,not(containsString("<withView2>with</withView2>")));
}
