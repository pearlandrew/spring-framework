{
  if (logger.isInfoEnabled()) {
    logger.info("Initializing portlet '" + getPortletName() + "'");
  }
  try {
    PropertyValues pvs=new PortletConfigPropertyValues(getPortletConfig(),this.requiredProperties);
    BeanWrapper bw=PropertyAccessorFactory.forBeanPropertyAccess(this);
    ResourceLoader resourceLoader=new PortletContextResourceLoader(getPortletContext());
    bw.registerCustomEditor(Resource.class,new ResourceEditor(resourceLoader,this.getEnvironment()));
    initBeanWrapper(bw);
    bw.setPropertyValues(pvs,true);
  }
 catch (  BeansException ex) {
    logger.error("Failed to set bean properties on portlet '" + getPortletName() + "'",ex);
    throw ex;
  }
  initPortletBean();
  if (logger.isInfoEnabled()) {
    logger.info("Portlet '" + getPortletName() + "' configured successfully");
  }
}
