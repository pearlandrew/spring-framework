{
  ModelFactory modelFactory=new ModelFactory(null,null,sessionAttrsHandler,flashAttrsHandler);
  try {
    modelFactory.initModel(webRequest,mavContainer,handleSessionAttrMethod);
    fail("Expected HttpSessionRequiredException");
  }
 catch (  HttpSessionRequiredException e) {
  }
  sessionAttributeStore.storeAttribute(webRequest,"sessionAttr","sessionAttrValue");
  modelFactory.initModel(webRequest,mavContainer,handleSessionAttrMethod);
  assertEquals("sessionAttrValue",mavContainer.getAttribute("sessionAttr"));
}
