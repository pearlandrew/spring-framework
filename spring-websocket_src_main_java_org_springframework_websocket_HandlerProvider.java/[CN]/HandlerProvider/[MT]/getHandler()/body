{
  if (this.handlerBean != null) {
    if (logger != null && logger.isTraceEnabled()) {
      logger.trace("Returning handler singleton " + this.handlerBean);
    }
    return this.handlerBean;
  }
  Assert.isTrue(this.beanFactory != null,"BeanFactory is required to initialize handler instances.");
  if (logger != null && logger.isTraceEnabled()) {
    logger.trace("Creating handler of type " + this.handlerClass);
  }
  return this.beanFactory.createBean(this.handlerClass);
}
