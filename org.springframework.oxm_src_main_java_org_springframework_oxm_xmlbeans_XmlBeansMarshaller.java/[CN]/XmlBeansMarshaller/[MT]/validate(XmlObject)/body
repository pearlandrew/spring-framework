{
  if (isValidating() && object != null) {
    XmlOptions validateOptions=getXmlOptions() != null ? getXmlOptions() : new XmlOptions();
    List errorsList=new ArrayList();
    validateOptions.setErrorListener(errorsList);
    if (!object.validate(validateOptions)) {
      StringBuilder builder=new StringBuilder("Could not validate XmlObject :");
      for (Iterator iterator=errorsList.iterator(); iterator.hasNext(); ) {
        XmlError xmlError=(XmlError)iterator.next();
        if (xmlError instanceof XmlValidationError) {
          builder.append(xmlError.toString());
        }
      }
      XmlException ex=new XmlException(builder.toString(),null,errorsList);
      throw new XmlBeansValidationFailureException(ex);
    }
  }
}
