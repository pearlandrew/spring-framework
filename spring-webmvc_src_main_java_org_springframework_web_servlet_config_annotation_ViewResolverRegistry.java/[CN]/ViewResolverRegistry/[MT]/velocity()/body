{
  if (this.applicationContext != null && !hasBeanOfType(org.springframework.web.servlet.view.velocity.VelocityConfigurer.class)) {
    throw new BeanInitializationException("In addition to a Velocity view resolver " + "there must also be a single VelocityConfig bean in this web application context " + "(or its parent): VelocityConfigurer is the usual implementation. "+ "This bean may be given any name.");
  }
  VelocityRegistration registration=new VelocityRegistration();
  this.viewResolvers.add(registration.getViewResolver());
  return registration;
}
