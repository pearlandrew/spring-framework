{
  String[] requiredFields=getRequiredFields();
  if (!ObjectUtils.isEmpty(requiredFields)) {
    Map<String,PropertyValue> propertyValues=new HashMap<String,PropertyValue>();
    PropertyValue[] pvs=mpvs.getPropertyValues();
    for (    PropertyValue pv : pvs) {
      String canonicalName=PropertyAccessorUtils.canonicalPropertyName(pv.getName());
      propertyValues.put(canonicalName,pv);
    }
    for (    String field : requiredFields) {
      PropertyValue pv=propertyValues.get(field);
      if (pv == null || pv.getValue() == null || (pv.getValue() instanceof String && !StringUtils.hasText((String)pv.getValue()))) {
        getBindingErrorProcessor().processMissingFieldError(field,getInternalBindingResult());
        if (pv != null) {
          mpvs.removePropertyValue(pv);
          propertyValues.remove(field);
        }
      }
    }
  }
}
