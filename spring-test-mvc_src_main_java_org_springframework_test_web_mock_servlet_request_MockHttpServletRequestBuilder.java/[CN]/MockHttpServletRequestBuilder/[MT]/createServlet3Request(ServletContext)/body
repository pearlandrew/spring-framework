{
  try {
    String className="org.springframework.test.web.mock.servlet.request.Servlet3MockHttpServletRequest";
    Class<?> clazz=ClassUtils.forName(className,MockHttpServletRequestBuilder.class.getClassLoader());
    Constructor<?> constructor=clazz.getConstructor(ServletContext.class);
    return (MockHttpServletRequest)BeanUtils.instantiateClass(constructor,servletContext);
  }
 catch (  Throwable t) {
    throw new IllegalStateException("Failed to instantiate MockHttpServletRequest",t);
  }
}
