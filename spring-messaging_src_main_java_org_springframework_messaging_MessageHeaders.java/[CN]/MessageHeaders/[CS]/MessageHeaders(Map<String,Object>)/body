{
  this.headers=(headers != null) ? new HashMap<String,Object>(headers) : new HashMap<String,Object>();
  if (MessageHeaders.idGenerator == null) {
    this.headers.put(ID,UUID.randomUUID());
  }
 else {
    this.headers.put(ID,MessageHeaders.idGenerator.generateId());
  }
  this.headers.put(TIMESTAMP,new Long(System.currentTimeMillis()));
}
