{
  List<String> keysToRemove=new ArrayList<String>();
  for (  Map.Entry<String,Object> entry : this.headers.entrySet()) {
    if (!(entry.getValue() instanceof Serializable)) {
      keysToRemove.add(entry.getKey());
    }
  }
  for (  String key : keysToRemove) {
    if (logger.isInfoEnabled()) {
      logger.info("Removing non-serializable header: " + key);
    }
    this.headers.remove(key);
  }
  out.defaultWriteObject();
}
