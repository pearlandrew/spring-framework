{
  DeferredResultHandler handler=createMock(DeferredResultHandler.class);
  handler.handleResult("hello");
  replay(handler);
  DeferredResult<String> result=new DeferredResult<String>();
  result.setResultHandler(handler);
  assertFalse(result.isSetOrExpired());
  result.setResult("hello");
  assertTrue(result.isSetOrExpired());
  verify(handler);
}
