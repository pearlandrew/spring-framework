{
  DeferredResultHandler handler=createMock(DeferredResultHandler.class);
  handler.handleResult("hello");
  replay(handler);
  DeferredResult<String> result=new DeferredResult<String>();
  result.setResultHandler(handler);
  assertTrue(result.setResult("hello"));
  assertFalse(result.setResult("hi"));
  verify(handler);
}
