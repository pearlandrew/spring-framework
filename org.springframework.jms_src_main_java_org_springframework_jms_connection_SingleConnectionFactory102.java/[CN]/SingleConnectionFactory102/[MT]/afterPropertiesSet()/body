{
  super.afterPropertiesSet();
  if (isPubSubDomain()) {
    if (!(getTargetConnectionFactory() instanceof TopicConnectionFactory)) {
      throw new IllegalArgumentException("Specified a Spring JMS 1.0.2 SingleConnectionFactory for topics " + "but did not supply an instance of TopicConnectionFactory");
    }
  }
 else {
    if (!(getTargetConnectionFactory() instanceof QueueConnectionFactory)) {
      throw new IllegalArgumentException("Specified a Spring JMS 1.0.2 SingleConnectionFactory for queues " + "but did not supply an instance of QueueConnectionFactory");
    }
  }
}
