{
  if (this.beanPostProcessors != null && !this.beanPostProcessors.isEmpty()) {
    for (int i=this.beanPostProcessors.size() - 1; i >= 0; i--) {
      this.beanPostProcessors.get(i).postProcessBeforeDestruction(this.bean,this.beanName);
    }
  }
  if (this.invokeDisposableBean) {
    if (logger.isDebugEnabled()) {
      logger.debug("Invoking destroy() on bean with name '" + this.beanName + "'");
    }
    try {
      ((DisposableBean)this.bean).destroy();
    }
 catch (    Throwable ex) {
      String msg="Invocation of destroy method failed on bean with name '" + this.beanName + "'";
      if (logger.isDebugEnabled()) {
        logger.warn(msg,ex);
      }
 else {
        logger.warn(msg + ": " + ex);
      }
    }
  }
  if (this.destroyMethod != null) {
    invokeCustomDestroyMethod(this.destroyMethod);
  }
 else   if (this.destroyMethodName != null) {
    Method destroyMethod=BeanUtils.findMethodWithMinimalParameters(this.bean.getClass(),this.destroyMethodName);
    invokeCustomDestroyMethod(destroyMethod);
  }
}
