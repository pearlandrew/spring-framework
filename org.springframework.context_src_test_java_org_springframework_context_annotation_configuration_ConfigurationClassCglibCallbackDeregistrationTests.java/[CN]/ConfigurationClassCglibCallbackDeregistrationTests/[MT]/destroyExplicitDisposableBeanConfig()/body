{
  AnnotationConfigApplicationContext ctx=new AnnotationConfigApplicationContext(DisposableConfig.class);
  DisposableConfig config=ctx.getBean(DisposableConfig.class);
  assertThat(config.destroyed,is(false));
  ctx.destroy();
  assertThat("DisposableConfig.destroy() was not invoked",config.destroyed,is(true));
}
