{
  HandlerMethodArgumentResolver resolver=mock(HandlerMethodArgumentResolver.class);
  when(resolver.supportsParameter(any())).thenReturn(true);
  when(resolver.resolveArgument(any(),any(),any())).thenThrow(new IllegalStateException("boo"));
  InvocableHandlerMethod hm=createHandlerMethod("singleArg",String.class);
  hm.setHandlerMethodArgumentResolvers(Collections.singletonList(resolver));
  Publisher<HandlerResult> publisher=hm.invokeForRequest(this.exchange,this.model);
  Throwable ex=awaitErrorSignal(publisher);
  assertEquals(IllegalStateException.class,ex.getClass());
  assertEquals("Exception not wrapped with helpful argument details","Error resolving argument [0] of type [java.lang.String] on method " + "[" + hm.getMethod().toGenericString() + "]",ex.getMessage());
}
