{
  TestBean bean=new TestBean();
  Set set=new LinkedHashSet<>(2);
  set.add(new TestBean("test1"));
  set.add(new TestBean("test2"));
  bean.setSomeSet(set);
  MockPortletRequest request=new MockPortletRequest();
  request.addParameter("someSet[0].age","35");
  request.addParameter("someSet[1].age","36");
  PortletRequestDataBinder binder=new PortletRequestDataBinder(bean);
  binder.bind(request);
  assertNotNull(bean.getSomeSet());
  assertEquals(2,bean.getSomeSet().size());
  Iterator iter=bean.getSomeSet().iterator();
  TestBean bean1=(TestBean)iter.next();
  assertEquals("test1",bean1.getName());
  assertEquals(35,bean1.getAge());
  TestBean bean2=(TestBean)iter.next();
  assertEquals("test2",bean2.getName());
  assertEquals(36,bean2.getAge());
}
