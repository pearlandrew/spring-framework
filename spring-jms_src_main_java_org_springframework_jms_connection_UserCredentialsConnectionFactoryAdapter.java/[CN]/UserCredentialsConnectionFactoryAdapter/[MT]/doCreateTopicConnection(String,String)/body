{
  Assert.state(this.targetConnectionFactory != null,"'targetConnectionFactory' is required");
  if (!(this.targetConnectionFactory instanceof TopicConnectionFactory)) {
    throw new javax.jms.IllegalStateException("'targetConnectionFactory' is not a TopicConnectionFactory");
  }
  TopicConnectionFactory queueFactory=(TopicConnectionFactory)this.targetConnectionFactory;
  if (StringUtils.hasLength(username)) {
    return queueFactory.createTopicConnection(username,password);
  }
 else {
    return queueFactory.createTopicConnection();
  }
}
