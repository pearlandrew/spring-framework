{
  int count=0;
  while ((!daysOfMonth.get(dayOfMonth) || !daysOfWeek.get(dayOfWeek - 1)) && count++ < max) {
    calendar.add(Calendar.DAY_OF_MONTH,1);
    dayOfMonth=calendar.get(Calendar.DAY_OF_MONTH);
    dayOfWeek=calendar.get(Calendar.DAY_OF_WEEK);
    reset(calendar,Calendar.HOUR_OF_DAY,Calendar.MINUTE,Calendar.SECOND);
  }
  if (count > max) {
    throw new IllegalStateException("Overflow in day for expression=" + this.expression);
  }
}
