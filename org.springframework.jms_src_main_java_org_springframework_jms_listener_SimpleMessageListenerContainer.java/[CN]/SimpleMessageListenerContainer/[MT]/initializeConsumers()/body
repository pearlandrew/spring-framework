{
synchronized (this.consumersMonitor) {
    if (this.consumers == null) {
      this.sessions=new HashSet<Session>(this.concurrentConsumers);
      this.consumers=new HashSet<MessageConsumer>(this.concurrentConsumers);
      Connection con=getSharedConnection();
      for (int i=0; i < this.concurrentConsumers; i++) {
        Session session=createSession(con);
        MessageConsumer consumer=createListenerConsumer(session);
        this.sessions.add(session);
        this.consumers.add(consumer);
      }
    }
  }
}
