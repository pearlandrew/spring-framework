{
  if (headers == null) {
    return null;
  }
 else   if (headers.containsKey(NativeMessageHeaderAccessor.NATIVE_HEADERS)) {
    return headers;
  }
 else {
    MultiValueMap<String,String> nativeHeaders=new LinkedMultiValueMap<String,String>(headers.size());
    for (    String key : headers.keySet()) {
      Object value=headers.get(key);
      nativeHeaders.set(key,(value != null ? value.toString() : null));
    }
    headers=new HashMap<String,Object>(1);
    headers.put(NativeMessageHeaderAccessor.NATIVE_HEADERS,nativeHeaders);
    return headers;
  }
}
