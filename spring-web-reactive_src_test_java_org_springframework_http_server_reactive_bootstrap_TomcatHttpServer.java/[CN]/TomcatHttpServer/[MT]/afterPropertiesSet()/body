{
  this.tomcatServer=new Tomcat();
  if (this.baseDir != null) {
    this.tomcatServer.setBaseDir(baseDir);
  }
  this.tomcatServer.setHostname(getHost());
  this.tomcatServer.setPort(getPort());
  Assert.notNull(getHttpHandler());
  ServletHttpHandlerAdapter servlet=new ServletHttpHandlerAdapter();
  servlet.setHandler(getHttpHandler());
  File base=new File(System.getProperty("java.io.tmpdir"));
  Context rootContext=tomcatServer.addContext("",base.getAbsolutePath());
  Tomcat.addServlet(rootContext,"httpHandlerServlet",servlet);
  rootContext.addServletMapping("/","httpHandlerServlet");
}
