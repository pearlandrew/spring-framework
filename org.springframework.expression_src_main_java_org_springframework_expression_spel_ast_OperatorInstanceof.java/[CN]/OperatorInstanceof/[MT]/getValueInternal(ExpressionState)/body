{
  Object left=getLeftOperand().getValueInternal(state);
  Object right=getRightOperand().getValueInternal(state);
  if (left == null) {
    return false;
  }
  if (right == null || !(right instanceof Class<?>)) {
    throw new SpelException(getRightOperand().getCharPositionInLine(),SpelMessages.INSTANCEOF_OPERATOR_NEEDS_CLASS_OPERAND,(right == null ? "null" : right.getClass().getName()));
  }
  Class<?> rightClass=(Class<?>)right;
  return rightClass.isAssignableFrom(left.getClass());
}
