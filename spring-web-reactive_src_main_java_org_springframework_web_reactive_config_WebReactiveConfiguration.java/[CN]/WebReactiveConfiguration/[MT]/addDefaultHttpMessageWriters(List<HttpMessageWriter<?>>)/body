{
  List<Encoder<?>> sseDataEncoders=new ArrayList<>();
  writers.add(new EncoderHttpMessageWriter<>(new ByteBufferEncoder()));
  writers.add(new EncoderHttpMessageWriter<>(new StringEncoder()));
  writers.add(new ResourceHttpMessageWriter());
  if (jaxb2Present) {
    writers.add(new EncoderHttpMessageWriter<>(new Jaxb2Encoder()));
  }
  if (jackson2Present) {
    JacksonJsonEncoder jacksonEncoder=new JacksonJsonEncoder();
    writers.add(new EncoderHttpMessageWriter<>(jacksonEncoder));
    sseDataEncoders.add(jacksonEncoder);
  }
  writers.add(new EncoderHttpMessageWriter<>(new SseEventEncoder(sseDataEncoders)));
}
