{
  ResourceHandlerRegistry registry=new ResourceHandlerRegistry(this.applicationContext,mvcContentTypeResolver());
  addResourceHandlers(registry);
  AbstractHandlerMapping handlerMapping=registry.getHandlerMapping();
  if (handlerMapping != null) {
    if (getPathMatchConfigurer() != null) {
      handlerMapping.setPathMatcher(getPathMatchConfigurer().getPathMatcher());
    }
    if (getPathMatchConfigurer() != null) {
      handlerMapping.setPathHelper(getPathMatchConfigurer().getPathHelper());
    }
  }
 else {
    handlerMapping=new EmptyHandlerMapping();
  }
  return handlerMapping;
}
