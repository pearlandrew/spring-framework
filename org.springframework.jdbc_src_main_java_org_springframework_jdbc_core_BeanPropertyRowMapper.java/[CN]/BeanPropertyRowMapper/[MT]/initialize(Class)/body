{
  this.mappedClass=mappedClass;
  this.mappedFields=new HashMap();
  this.mappedProperties=new HashSet();
  PropertyDescriptor[] pds=BeanUtils.getPropertyDescriptors(mappedClass);
  for (int i=0; i < pds.length; i++) {
    PropertyDescriptor pd=pds[i];
    if (pd.getWriteMethod() != null) {
      this.mappedFields.put(pd.getName().toLowerCase(),pd);
      String underscoredName=underscoreName(pd.getName());
      if (!pd.getName().toLowerCase().equals(underscoredName)) {
        this.mappedFields.put(underscoredName,pd);
      }
      this.mappedProperties.add(pd.getName());
    }
  }
}
