{
  int age=25;
  MethodInterceptor mi=mock(MethodInterceptor.class);
  AdvisedSupport pc=new AdvisedSupport(new Class<?>[]{ITestBean.class});
  pc.addAdvice(mi);
  AopProxy aop=createAopProxy(pc);
  given(mi.invoke(null)).willReturn(age);
  ITestBean tb=(ITestBean)aop.getProxy();
  assertTrue("correct return value",tb.getAge() == age);
}
