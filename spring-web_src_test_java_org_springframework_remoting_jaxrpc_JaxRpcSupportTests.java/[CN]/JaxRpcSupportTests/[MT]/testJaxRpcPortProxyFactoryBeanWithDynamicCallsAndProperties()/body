{
  JaxRpcPortProxyFactoryBean factory=new JaxRpcPortProxyFactoryBean();
  factory.setServiceFactoryClass(CallMockServiceFactory.class);
  factory.setNamespaceUri("myNamespace");
  factory.setServiceName("myService1");
  factory.setPortName("myPort");
  factory.setUsername("user");
  factory.setPassword("pw");
  factory.setEndpointAddress("ea");
  factory.setMaintainSession(true);
  factory.setServiceInterface(IBusinessBean.class);
  factory.afterPropertiesSet();
  assertNull(factory.getPortStub());
  assertTrue(factory.getObject() instanceof IBusinessBean);
  IBusinessBean proxy=(IBusinessBean)factory.getObject();
  proxy.setName("myName");
  verify(CallMockServiceFactory.call1).setProperty(Call.USERNAME_PROPERTY,"user");
  verify(CallMockServiceFactory.call1).setProperty(Call.PASSWORD_PROPERTY,"pw");
  verify(CallMockServiceFactory.call1).setTargetEndpointAddress("ea");
  verify(CallMockServiceFactory.call1).setProperty(Call.SESSION_MAINTAIN_PROPERTY,Boolean.TRUE);
}
