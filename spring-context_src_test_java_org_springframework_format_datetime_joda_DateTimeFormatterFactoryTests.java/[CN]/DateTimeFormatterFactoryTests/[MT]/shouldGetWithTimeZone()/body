{
  TimeZone zurich=TimeZone.getTimeZone("Europe/Zurich");
  TimeZone newYork=TimeZone.getTimeZone("America/New_York");
  TimeZone testTimeZone;
  String offset;
  if (zurich.equals(TimeZone.getDefault())) {
    testTimeZone=newYork;
    offset="-0400";
  }
 else {
    testTimeZone=zurich;
    offset="+0200";
  }
  factory.setPattern("yyyyMMddHHmmss Z");
  factory.setTimeZone(testTimeZone);
  DateTimeZone dateTimeZone=DateTimeZone.forTimeZone(testTimeZone);
  DateTime dateTime=new DateTime(2009,10,21,12,10,00,00,dateTimeZone);
  assertThat(factory.getDateTimeFormatter().print(dateTime),is("20091021121000 " + offset));
}
