{
  if (getChildCount() == 1) {
    return children[0].getValueRef(state);
  }
  TypedValue result=null;
  SpelNodeImpl nextNode=null;
  try {
    nextNode=children[0];
    result=nextNode.getValueInternal(state);
    int cc=getChildCount();
    for (int i=1; i < cc - 1; i++) {
      try {
        state.pushActiveContextObject(result);
        nextNode=children[i];
        result=nextNode.getValueInternal(state);
      }
  finally {
        state.popActiveContextObject();
      }
    }
    try {
      state.pushActiveContextObject(result);
      nextNode=children[cc - 1];
      return nextNode.getValueRef(state);
    }
  finally {
      state.popActiveContextObject();
    }
  }
 catch (  SpelEvaluationException ee) {
    ee.setPosition(nextNode.getStartPosition());
    throw ee;
  }
}
