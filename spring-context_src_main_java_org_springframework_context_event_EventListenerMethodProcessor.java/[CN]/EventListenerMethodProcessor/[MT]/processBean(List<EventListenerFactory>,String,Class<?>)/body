{
  Class<?> targetType=getTargetClass(beanName,type);
  if (!this.nonAnnotatedClasses.contains(targetType)) {
    final Set<Method> annotatedMethods=new LinkedHashSet<Method>(1);
    Method[] methods=ReflectionUtils.getUniqueDeclaredMethods(targetType);
    for (    Method method : methods) {
      EventListener eventListener=AnnotationUtils.findAnnotation(method,EventListener.class);
      if (eventListener == null) {
        continue;
      }
      for (      EventListenerFactory factory : factories) {
        if (factory.supportsMethod(method)) {
          if (!type.equals(targetType)) {
            method=getProxyMethod(type,method);
          }
          ApplicationListener<?> applicationListener=factory.createApplicationListener(beanName,type,method);
          if (applicationListener instanceof ApplicationListenerMethodAdapter) {
            ((ApplicationListenerMethodAdapter)applicationListener).init(this.applicationContext,this.evaluator);
          }
          this.applicationContext.addApplicationListener(applicationListener);
          annotatedMethods.add(method);
          break;
        }
      }
    }
    if (annotatedMethods.isEmpty()) {
      this.nonAnnotatedClasses.add(type);
      if (logger.isDebugEnabled()) {
        logger.debug("No @EventListener annotations found on bean class: " + type);
      }
    }
 else {
      if (logger.isDebugEnabled()) {
        logger.debug(annotatedMethods.size() + " @EventListener methods processed on bean '" + beanName+ "': "+ annotatedMethods);
      }
    }
  }
}
