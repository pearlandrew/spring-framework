{
  long clientRead=this.connectHeaders.getHeartbeat()[0];
  long serverWrite=connectedHeaders.getHeartbeat()[1];
  if (clientRead > 0 && serverWrite > 0) {
    long interval=Math.max(clientRead,serverWrite);
    this.connection.onWriteInactivity(new WriteInactivityTask(),interval);
  }
  long clientWrite=this.connectHeaders.getHeartbeat()[1];
  long serverRead=connectedHeaders.getHeartbeat()[0];
  if (clientWrite > 0 && serverRead > 0) {
    final long interval=Math.max(clientWrite,serverRead) * HEARTBEAT_MULTIPLIER;
    this.connection.onReadInactivity(new ReadInactivityTask(),interval);
  }
}
