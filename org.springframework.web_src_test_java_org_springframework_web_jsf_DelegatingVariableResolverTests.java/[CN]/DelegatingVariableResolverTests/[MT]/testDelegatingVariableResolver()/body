{
  final StaticWebApplicationContext wac=new StaticWebApplicationContext();
  wac.registerSingleton("bean1",TestBean.class,null);
  wac.registerSingleton("var1",TestBean.class,null);
  wac.refresh();
  TestBean bean1=(TestBean)wac.getBean("bean1");
  DelegatingVariableResolver resolver=new DelegatingVariableResolver(new OriginalVariableResolver()){
    protected WebApplicationContext getWebApplicationContext(    FacesContext facesContext){
      return wac;
    }
  }
;
  assertEquals(bean1,resolver.resolveVariable(null,"bean1"));
  assertEquals("val1",resolver.resolveVariable(null,"var1"));
}
