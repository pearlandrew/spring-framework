{
  TestController mc=new TestController(){
    protected Object getCommand(    HttpServletRequest request) throws Exception {
      return new TestBean("original",99);
    }
    protected void initBinder(    HttpServletRequest request,    ServletRequestDataBinder binder){
      binder.setFieldMarkerPrefix(null);
    }
  }
;
  MockHttpServletRequest request=new MockHttpServletRequest("GET","/welcome.html");
  request.addParameter("_name","visible");
  request.addParameter("name","test");
  MockHttpServletResponse response=new MockHttpServletResponse();
  ModelAndView mv=mc.handleRequest(request,response);
  TestBean tb=(TestBean)mv.getModel().get("command");
  Errors errors=(Errors)mv.getModel().get("errors");
  assertTrue("Correct name property","test".equals(tb.getName()));
  assertTrue("Correct name value","test".equals(errors.getFieldValue("name")));
  request=new MockHttpServletRequest("GET","/welcome.html");
  request.addParameter("_name","true");
  mv=mc.handleRequest(request,response);
  tb=(TestBean)mv.getModel().get("command");
  errors=(Errors)mv.getModel().get("errors");
  assertTrue("Correct name property","original".equals(tb.getName()));
  assertTrue("Correct name value","original".equals(errors.getFieldValue("name")));
}
