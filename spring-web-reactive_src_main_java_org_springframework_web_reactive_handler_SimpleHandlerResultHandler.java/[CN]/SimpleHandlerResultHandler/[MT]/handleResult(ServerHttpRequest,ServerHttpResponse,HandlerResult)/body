{
  Object value=result.getResult();
  if (Void.TYPE.equals(result.getResultType().getRawClass())) {
    return response.writeHeaders();
  }
  Publisher<Void> completion=(value instanceof Publisher ? (Publisher<Void>)value : this.conversionService.convert(value,Publisher.class));
  return Publishers.concat(Publishers.from(Arrays.asList(completion,response.writeHeaders())));
}
