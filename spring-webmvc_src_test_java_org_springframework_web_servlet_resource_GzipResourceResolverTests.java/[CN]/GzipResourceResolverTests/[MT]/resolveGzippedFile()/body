{
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.addHeader("Accept-Encoding","gzip");
  String file="js/foo.js";
  String gzFile=file + ".gz";
  Resource resource=new ClassPathResource("test/" + gzFile,getClass());
  Resource resolved=resolver.resolveAndTransform(request,file,locations);
  assertEquals(resource.getDescription(),resolved.getDescription());
  assertEquals(new ClassPathResource("test/" + file).getFilename(),resolved.getFilename());
  assertTrue("Expected " + resolved + " to be of type "+ EncodedResource.class,resolved instanceof EncodedResource);
}
