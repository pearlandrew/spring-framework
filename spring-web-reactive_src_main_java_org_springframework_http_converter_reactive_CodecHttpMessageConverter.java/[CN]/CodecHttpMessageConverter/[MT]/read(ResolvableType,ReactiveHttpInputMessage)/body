{
  if (this.decoder == null) {
    return Flux.error(new IllegalStateException("No decoder set"));
  }
  MediaType contentType=inputMessage.getHeaders().getContentType();
  if (contentType == null) {
    contentType=MediaType.APPLICATION_OCTET_STREAM;
  }
  Flux<DataBuffer> body=inputMessage.getBody();
  return this.decoder.decode(body,type,contentType);
}
