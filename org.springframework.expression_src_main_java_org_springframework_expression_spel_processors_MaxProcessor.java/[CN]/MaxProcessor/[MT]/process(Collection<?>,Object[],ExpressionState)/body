{
  Object max=null;
  TypeComparator comparator=state.getTypeComparator();
  for (  Object element : input) {
    if (max == null) {
      max=element;
    }
 else {
      if (comparator.compare(element,max) > 0)       max=element;
    }
  }
  return max;
}
