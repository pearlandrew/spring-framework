{
  T wireFeed=newFeed();
  buildFeedMetadata(model,wireFeed,request);
  buildFeedEntries(model,wireFeed,request,response);
  response.setContentType(getContentType());
  if (!StringUtils.hasText(wireFeed.getEncoding())) {
    wireFeed.setEncoding("UTF-8");
  }
  WireFeedOutput feedOutput=new WireFeedOutput();
  ServletOutputStream out=response.getOutputStream();
  feedOutput.output(wireFeed,new OutputStreamWriter(out,wireFeed.getEncoding()));
  out.flush();
}
