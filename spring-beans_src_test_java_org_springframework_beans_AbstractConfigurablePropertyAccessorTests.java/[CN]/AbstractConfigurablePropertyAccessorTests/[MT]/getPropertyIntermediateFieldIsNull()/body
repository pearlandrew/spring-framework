{
  Person person=createPerson("John","London","UK");
  person.address=null;
  ConfigurablePropertyAccessor accessor=createAccessor(person);
  try {
    accessor.getPropertyValue("address.country.name");
    fail("Should have failed to get value with null intermediate path");
  }
 catch (  NullValueInNestedPathException e) {
    assertEquals("address",e.getPropertyName());
    assertEquals(Person.class,e.getBeanClass());
  }
}
