{
  PropsTester target=new PropsTester();
  AbstractPropertyAccessor accessor=createAccessor(target);
  accessor.setPropertyValue("intArray",new int[]{4,5,2,3});
  assertTrue("intArray length = 4",target.intArray.length == 4);
  assertTrue("correct values",target.intArray[0] == 4 && target.intArray[1] == 5 && target.intArray[2] == 2 && target.intArray[3] == 3);
  accessor.setPropertyValue("intArray",new String[]{"4","5","2","3"});
  assertTrue("intArray length = 4",target.intArray.length == 4);
  assertTrue("correct values",target.intArray[0] == 4 && target.intArray[1] == 5 && target.intArray[2] == 2 && target.intArray[3] == 3);
  List<Object> list=new ArrayList<>();
  list.add(4);
  list.add("5");
  list.add(2);
  list.add("3");
  accessor.setPropertyValue("intArray",list);
  assertTrue("intArray length = 4",target.intArray.length == 4);
  assertTrue("correct values",target.intArray[0] == 4 && target.intArray[1] == 5 && target.intArray[2] == 2 && target.intArray[3] == 3);
  Set<Object> set=new HashSet<>();
  set.add("4");
  set.add(5);
  set.add("3");
  accessor.setPropertyValue("intArray",set);
  assertTrue("intArray length = 3",target.intArray.length == 3);
  List<Integer> result=new ArrayList<>();
  result.add(target.intArray[0]);
  result.add(target.intArray[1]);
  result.add(target.intArray[2]);
  assertTrue("correct values",result.contains(new Integer(4)) && result.contains(new Integer(5)) && result.contains(new Integer(3)));
  accessor.setPropertyValue("intArray",new Integer[]{1});
  assertTrue("intArray length = 4",target.intArray.length == 1);
  assertTrue("correct values",target.intArray[0] == 1);
  accessor.setPropertyValue("intArray",new Integer(1));
  assertTrue("intArray length = 4",target.intArray.length == 1);
  assertTrue("correct values",target.intArray[0] == 1);
  accessor.setPropertyValue("intArray",new String[]{"1"});
  assertTrue("intArray length = 4",target.intArray.length == 1);
  assertTrue("correct values",target.intArray[0] == 1);
  accessor.setPropertyValue("intArray","1");
  assertTrue("intArray length = 4",target.intArray.length == 1);
  assertTrue("correct values",target.intArray[0] == 1);
}
