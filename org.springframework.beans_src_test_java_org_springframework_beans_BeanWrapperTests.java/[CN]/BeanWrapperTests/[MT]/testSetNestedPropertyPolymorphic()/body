{
  ITestBean rod=new TestBean("rod",31);
  ITestBean kerry=new Employee();
  BeanWrapper bw=new BeanWrapperImpl(rod);
  bw.setPropertyValue("spouse",kerry);
  bw.setPropertyValue("spouse.age",new Integer(35));
  bw.setPropertyValue("spouse.name","Kerry");
  bw.setPropertyValue("spouse.company","Lewisham");
  assertTrue("kerry name is Kerry",kerry.getName().equals("Kerry"));
  assertTrue("nested set worked",rod.getSpouse() == kerry);
  assertTrue("no back relation",kerry.getSpouse() == null);
  bw.setPropertyValue(new PropertyValue("spouse.spouse",rod));
  assertTrue("nested set worked",kerry.getSpouse() == rod);
  BeanWrapper kbw=new BeanWrapperImpl(kerry);
  assertTrue("spouse.spouse.spouse.spouse.company=Lewisham","Lewisham".equals(kbw.getPropertyValue("spouse.spouse.spouse.spouse.company")));
}
