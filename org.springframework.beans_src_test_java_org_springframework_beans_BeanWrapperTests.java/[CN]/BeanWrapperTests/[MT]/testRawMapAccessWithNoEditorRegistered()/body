{
  IndexedTestBean bean=new IndexedTestBean();
  BeanWrapper bw=new BeanWrapperImpl(bean);
  Map inputMap=new HashMap();
  inputMap.put(new Integer(1),"rod");
  inputMap.put(new Integer(2),"rob");
  ReadOnlyMap readOnlyMap=new ReadOnlyMap(inputMap);
  MutablePropertyValues pvs=new MutablePropertyValues();
  pvs.addPropertyValue("map",readOnlyMap);
  bw.setPropertyValues(pvs);
  assertSame(readOnlyMap,bean.getMap());
  assertFalse(readOnlyMap.isAccessed());
}
