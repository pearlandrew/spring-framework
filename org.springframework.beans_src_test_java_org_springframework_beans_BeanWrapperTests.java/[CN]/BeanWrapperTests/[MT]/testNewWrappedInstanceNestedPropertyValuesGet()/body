{
  BeanWrapper bw=new BeanWrapperImpl();
  TestBean t=new TestBean("Tony",50);
  t.setSpouse(new TestBean("Sue",40));
  bw.setWrappedInstance(t);
  assertEquals("Bean wrapper returns wrong nested property value",new Integer(t.getSpouse().getAge()),bw.getPropertyValue("spouse.age"));
  TestBean u=new TestBean("Udo",30);
  u.setSpouse(new TestBean("Vera",20));
  bw.setWrappedInstance(u);
  assertEquals("Bean wrapper returns cached nested property value",new Integer(u.getSpouse().getAge()),bw.getPropertyValue("spouse.age"));
}
