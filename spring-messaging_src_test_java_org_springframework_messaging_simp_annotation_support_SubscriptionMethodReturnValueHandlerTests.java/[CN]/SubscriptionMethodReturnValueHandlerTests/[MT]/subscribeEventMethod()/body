{
  when(this.messageChannel.send(any(Message.class))).thenReturn(true);
  String sessionId="sess1";
  String subscriptionId="subs1";
  String destination="/dest";
  Message<?> inputMessage=createInputMessage(sessionId,subscriptionId,destination,null);
  this.handler.handleReturnValue(payloadContent,this.subscribeEventReturnType,inputMessage);
  verify(this.messageChannel).send(this.messageCaptor.capture());
  assertNotNull(this.messageCaptor.getValue());
  Message<?> message=this.messageCaptor.getValue();
  SimpMessageHeaderAccessor headers=SimpMessageHeaderAccessor.wrap(message);
  assertEquals("sessionId should always be copied",sessionId,headers.getSessionId());
  assertEquals(subscriptionId,headers.getSubscriptionId());
  assertEquals(destination,headers.getDestination());
}
