{
  final PublisherReactorServerHttpRequest adaptedRequest;
  final PublisherReactorServerHttpResponse adaptedResponse;
  if (DependencyUtils.hasReactorStream()) {
    adaptedRequest=new ReactorServerHttpRequest(channel);
    adaptedResponse=new ReactorServerHttpResponse(channel);
  }
 else {
    adaptedRequest=new PublisherReactorServerHttpRequest(channel);
    adaptedResponse=new PublisherReactorServerHttpResponse(channel);
  }
  return this.httpHandler.handle(adaptedRequest,adaptedResponse);
}
