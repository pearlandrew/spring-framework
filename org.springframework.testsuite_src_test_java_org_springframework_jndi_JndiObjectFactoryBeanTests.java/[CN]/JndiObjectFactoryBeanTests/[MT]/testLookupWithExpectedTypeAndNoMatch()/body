{
  JndiObjectFactoryBean jof=new JndiObjectFactoryBean();
  Object o=new Object();
  jof.setJndiTemplate(new ExpectedLookupTemplate("foo",o));
  jof.setJndiName("foo");
  jof.setExpectedType(String.class);
  try {
    jof.afterPropertiesSet();
    fail("Should have thrown NamingException");
  }
 catch (  NamingException ex) {
    assertTrue(ex.getMessage().indexOf("java.lang.String") != -1);
  }
}
