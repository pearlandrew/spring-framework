{
  Assert.notNull(testClass,"Test class must not be null");
  Assert.notNull(contextCache,"ContextCache must not be null");
  ContextConfiguration contextConfiguration=testClass.getAnnotation(ContextConfiguration.class);
  ContextLoader contextLoader=null;
  String[] locations=null;
  if (contextConfiguration == null) {
    if (logger.isInfoEnabled()) {
      logger.info(String.format("@ContextConfiguration not found for class [%s]",testClass));
    }
  }
 else {
    if (logger.isTraceEnabled()) {
      logger.trace(String.format("Retrieved @ContextConfiguration [%s] for class [%s]",contextConfiguration,testClass));
    }
    contextLoader=ContextLoaderUtils.resolveContextLoader(testClass,defaultContextLoaderClassName);
    locations=ContextLoaderUtils.resolveContextLocations(contextLoader,testClass);
  }
  this.testClass=testClass;
  this.contextCache=contextCache;
  this.contextLoader=contextLoader;
  this.locations=locations;
}
