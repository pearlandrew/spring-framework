{
synchronized (this.contextCache) {
    ApplicationContext context=this.contextCache.get(contextKeyString(this.locations));
    if (context == null) {
      try {
        context=loadApplicationContext();
        this.contextCache.put(contextKeyString(this.locations),context);
      }
 catch (      Exception ex) {
        throw new IllegalStateException("Failed to load ApplicationContext",ex);
      }
    }
    return context;
  }
}
