{
synchronized (contextCache) {
    ApplicationContext context=contextCache.get(contextKey);
    if (context == null) {
      try {
        context=loadApplicationContext();
        contextCache.put(contextKey,context);
      }
 catch (      Exception ex) {
        throw new IllegalStateException("Failed to load ApplicationContext",ex);
      }
    }
    return context;
  }
}
