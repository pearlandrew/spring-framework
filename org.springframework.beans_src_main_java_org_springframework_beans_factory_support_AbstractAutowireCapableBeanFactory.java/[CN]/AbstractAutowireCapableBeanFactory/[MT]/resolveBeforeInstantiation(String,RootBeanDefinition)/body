{
  Object bean=null;
  if (!Boolean.FALSE.equals(mbd.beforeInstantiationResolved)) {
    if (mbd.hasBeanClass() && !mbd.isSynthetic() && hasInstantiationAwareBeanPostProcessors()) {
      bean=applyBeanPostProcessorsBeforeInstantiation(mbd.getBeanClass(),beanName);
      if (bean != null) {
        bean=applyBeanPostProcessorsAfterInitialization(bean,beanName);
      }
    }
    mbd.beforeInstantiationResolved=Boolean.valueOf(bean != null);
  }
  return bean;
}
