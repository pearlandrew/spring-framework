{
  Assert.notNull(session,"Session must not be null");
  Object sessionObject=session.getAttribute(name,scope);
  if (sessionObject == null) {
    Assert.notNull(clazz,"Class must not be null if attribute value is to be instantiated");
    try {
      sessionObject=clazz.newInstance();
    }
 catch (    InstantiationException ex) {
      throw new IllegalArgumentException("Could not instantiate class [" + clazz.getName() + "] for session attribute '"+ name+ "': "+ ex.getMessage());
    }
catch (    IllegalAccessException ex) {
      throw new IllegalArgumentException("Could not access default constructor of class [" + clazz.getName() + "] for session attribute '"+ name+ "': "+ ex.getMessage());
    }
    session.setAttribute(name,sessionObject,scope);
  }
  return sessionObject;
}
