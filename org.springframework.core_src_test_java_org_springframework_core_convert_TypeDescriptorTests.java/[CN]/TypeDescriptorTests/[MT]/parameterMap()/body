{
  MethodParameter methodParameter=new MethodParameter(getClass().getMethod("testParameterMap",Map.class),0);
  TypeDescriptor desc=new TypeDescriptor(methodParameter);
  assertEquals(Map.class,desc.getType());
  assertEquals(Map.class,desc.getObjectType());
  assertEquals("java.util.Map",desc.getName());
  assertEquals("java.util.Map<java.lang.Integer, java.util.List<java.lang.String>>",desc.toString());
  assertTrue(!desc.isPrimitive());
  assertEquals(0,desc.getAnnotations().length);
  assertFalse(desc.isCollection());
  assertFalse(desc.isArray());
  assertTrue(desc.isMap());
  assertEquals(TypeDescriptor.nested(methodParameter,1),desc.getMapValueType());
  assertEquals(TypeDescriptor.nested(methodParameter,2),desc.getMapValueType().getElementType());
  assertEquals(Integer.class,desc.getMapKeyType().getType());
  assertEquals(List.class,desc.getMapValueType().getType());
  assertEquals(String.class,desc.getMapValueType().getElementType().getType());
}
