{
  BeanDefinitionRegistry configBeanDefs=getConfigurationBeanDefinitions(false);
  if (configBeanDefs.getBeanDefinitionCount() == 0)   return configBeanDefs;
  if (Package.getPackage(CGLIB_PACKAGE) == null)   throw new RuntimeException("CGLIB is required to process @Configuration classes. " + "Either add CGLIB v2.2.3 to the classpath or remove the following " + "@Configuration bean definitions: [" + arrayToCommaDelimitedString(configBeanDefs.getBeanDefinitionNames()) + "]");
  ConfigurationModel configModel=createConfigurationModelFor(configBeanDefs);
  validateModel(configModel);
  return renderModelAsBeanDefinitions(configModel);
}
