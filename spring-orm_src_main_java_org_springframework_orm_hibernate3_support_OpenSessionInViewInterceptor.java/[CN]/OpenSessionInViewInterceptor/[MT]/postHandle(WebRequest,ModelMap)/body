{
  if (isSingleSession()) {
    org.springframework.orm.hibernate3.SessionHolder sessionHolder=(org.springframework.orm.hibernate3.SessionHolder)TransactionSynchronizationManager.getResource(getSessionFactory());
    logger.debug("Flushing single Hibernate Session in OpenSessionInViewInterceptor");
    try {
      flushIfNecessary(sessionHolder.getSession(),false);
    }
 catch (    HibernateException ex) {
      throw convertHibernateAccessException(ex);
    }
  }
}
