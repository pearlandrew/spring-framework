{
  String attributeName=getParticipateAttributeName();
  if ((request.getAttribute(attributeName,WebRequest.SCOPE_REQUEST) != null) || !isSingleSession()) {
    return null;
  }
  final SessionHolder sessionHolder=(SessionHolder)TransactionSynchronizationManager.getResource(getSessionFactory());
  return new AbstractDelegatingCallable(){
    public Object call() throws Exception {
      TransactionSynchronizationManager.bindResource(getSessionFactory(),sessionHolder);
      getNextCallable().call();
      return null;
    }
  }
;
}
