{
  FlashMap flashMap=new FlashMap("key","_flashKey");
  flashMap.put("name","value");
  Map<String,FlashMap> allFlashMaps=new HashMap<String,FlashMap>();
  allFlashMaps.put(flashMap.getKey(),flashMap);
  this.request.getSession().setAttribute(DefaultFlashMapManager.FLASH_MAPS_SESSION_ATTRIBUTE,allFlashMaps);
  this.request.addParameter("_flashKey",flashMap.getKey());
  this.flashMapManager.requestStarted(this.request);
  assertSame(flashMap,request.getAttribute(DefaultFlashMapManager.PREVIOUS_FLASH_MAP_ATTRIBUTE));
  assertEquals("value",request.getAttribute("name"));
}
