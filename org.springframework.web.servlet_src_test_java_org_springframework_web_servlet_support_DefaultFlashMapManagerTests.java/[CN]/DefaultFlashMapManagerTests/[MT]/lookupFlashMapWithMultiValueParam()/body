{
  FlashMap flashMap=new FlashMap();
  flashMap.put("name","value");
  flashMap.addTargetRequestParam("id","1");
  flashMap.addTargetRequestParam("id","2");
  List<FlashMap> allMaps=createFlashMaps();
  allMaps.add(flashMap);
  this.request.setParameter("id","1");
  this.flashMapManager.requestStarted(this.request);
  assertNull(RequestContextUtils.getInputFlashMap(this.request));
  assertEquals("FlashMap should not have been removed",1,getFlashMaps().size());
  clearFlashMapRequestAttributes();
  this.request.addParameter("id","2");
  this.flashMapManager.requestStarted(this.request);
  assertEquals(flashMap,RequestContextUtils.getInputFlashMap(this.request));
  assertEquals("Input FlashMap should have been removed",0,getFlashMaps().size());
}
