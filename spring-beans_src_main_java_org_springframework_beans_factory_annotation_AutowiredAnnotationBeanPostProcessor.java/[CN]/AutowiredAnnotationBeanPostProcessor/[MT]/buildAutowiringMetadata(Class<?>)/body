{
  LinkedList<InjectionMetadata.InjectedElement> elements=new LinkedList<InjectionMetadata.InjectedElement>();
  Class<?> targetClass=clazz;
  do {
    LinkedList<InjectionMetadata.InjectedElement> currElements=new LinkedList<InjectionMetadata.InjectedElement>();
    for (    Field field : targetClass.getDeclaredFields()) {
      Annotation annotation=findAutowiredAnnotation(field);
      if (annotation != null) {
        if (Modifier.isStatic(field.getModifiers())) {
          if (logger.isWarnEnabled()) {
            logger.warn("Autowired annotation is not supported on static fields: " + field);
          }
          continue;
        }
        boolean required=determineRequiredStatus(annotation);
        currElements.add(new AutowiredFieldElement(field,required));
      }
    }
    for (    Method method : targetClass.getDeclaredMethods()) {
      Method bridgedMethod=BridgeMethodResolver.findBridgedMethod(method);
      Annotation annotation=BridgeMethodResolver.isVisibilityBridgeMethodPair(method,bridgedMethod) ? findAutowiredAnnotation(bridgedMethod) : findAutowiredAnnotation(method);
      if (annotation != null && method.equals(ClassUtils.getMostSpecificMethod(method,clazz))) {
        if (Modifier.isStatic(method.getModifiers())) {
          if (logger.isWarnEnabled()) {
            logger.warn("Autowired annotation is not supported on static methods: " + method);
          }
          continue;
        }
        if (method.getParameterTypes().length == 0) {
          if (logger.isWarnEnabled()) {
            logger.warn("Autowired annotation should be used on methods with actual parameters: " + method);
          }
        }
        boolean required=determineRequiredStatus(annotation);
        PropertyDescriptor pd=BeanUtils.findPropertyForMethod(method);
        currElements.add(new AutowiredMethodElement(method,required,pd));
      }
    }
    elements.addAll(0,currElements);
    targetClass=targetClass.getSuperclass();
  }
 while (targetClass != null && targetClass != Object.class);
  return new InjectionMetadata(clazz,elements);
}
