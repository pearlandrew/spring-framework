{
  WebSocketHandler handler=new TextWebSocketHandler();
  HttpSessionHandshakeInterceptor interceptor=new HttpSessionHandshakeInterceptor();
  this.registration.addHandler(handler,"/foo").addInterceptors(interceptor).withSockJS();
  List<Mapping> mappings=this.registration.getMappings();
  assertEquals(1,mappings.size());
  Mapping mapping=mappings.get(0);
  assertEquals(handler,mapping.webSocketHandler);
  assertEquals("/foo/**",mapping.path);
  assertNotNull(mapping.sockJsService);
  assertEquals(Arrays.asList(interceptor),mapping.sockJsService.getHandshakeInterceptors());
}
