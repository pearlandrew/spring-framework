{
  if (customProperties != null) {
    Iterator it=customProperties.entrySet().iterator();
    while (it.hasNext()) {
      Map.Entry entry=(Map.Entry)it.next();
      if (!(entry.getKey() instanceof String)) {
        throw new IllegalArgumentException("Illegal property key [" + entry.getKey() + "]: only Strings allowed");
      }
      addCustomProperty((String)entry.getKey(),entry.getValue());
    }
  }
}
