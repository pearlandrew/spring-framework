{
  List beanNames=Arrays.asList(getListableBeanFactory().getBeanDefinitionNames());
  TestBean tb1=(TestBean)getBeanFactory().getBean("aliased");
  TestBean alias1=(TestBean)getBeanFactory().getBean("myalias");
  Assert.assertTrue(tb1 == alias1);
  List tb1Aliases=Arrays.asList(getBeanFactory().getAliases("aliased"));
  Assert.assertEquals(2,tb1Aliases.size());
  Assert.assertTrue(tb1Aliases.contains("myalias"));
  Assert.assertTrue(tb1Aliases.contains("youralias"));
  Assert.assertTrue(beanNames.contains("aliased"));
  Assert.assertFalse(beanNames.contains("myalias"));
  Assert.assertFalse(beanNames.contains("youralias"));
  TestBean tb2=(TestBean)getBeanFactory().getBean("multiAliased");
  TestBean alias2=(TestBean)getBeanFactory().getBean("alias1");
  TestBean alias3=(TestBean)getBeanFactory().getBean("alias2");
  TestBean alias3a=(TestBean)getBeanFactory().getBean("alias3");
  TestBean alias3b=(TestBean)getBeanFactory().getBean("alias4");
  Assert.assertTrue(tb2 == alias2);
  Assert.assertTrue(tb2 == alias3);
  Assert.assertTrue(tb2 == alias3a);
  Assert.assertTrue(tb2 == alias3b);
  List tb2Aliases=Arrays.asList(getBeanFactory().getAliases("multiAliased"));
  Assert.assertEquals(4,tb2Aliases.size());
  Assert.assertTrue(tb2Aliases.contains("alias1"));
  Assert.assertTrue(tb2Aliases.contains("alias2"));
  Assert.assertTrue(tb2Aliases.contains("alias3"));
  Assert.assertTrue(tb2Aliases.contains("alias4"));
  Assert.assertTrue(beanNames.contains("multiAliased"));
  Assert.assertFalse(beanNames.contains("alias1"));
  Assert.assertFalse(beanNames.contains("alias2"));
  Assert.assertFalse(beanNames.contains("alias3"));
  Assert.assertFalse(beanNames.contains("alias4"));
  TestBean tb3=(TestBean)getBeanFactory().getBean("aliasWithoutId1");
  TestBean alias4=(TestBean)getBeanFactory().getBean("aliasWithoutId2");
  TestBean alias5=(TestBean)getBeanFactory().getBean("aliasWithoutId3");
  Assert.assertTrue(tb3 == alias4);
  Assert.assertTrue(tb3 == alias5);
  List tb3Aliases=Arrays.asList(getBeanFactory().getAliases("aliasWithoutId1"));
  Assert.assertEquals(2,tb3Aliases.size());
  Assert.assertTrue(tb3Aliases.contains("aliasWithoutId2"));
  Assert.assertTrue(tb3Aliases.contains("aliasWithoutId3"));
  Assert.assertTrue(beanNames.contains("aliasWithoutId1"));
  Assert.assertFalse(beanNames.contains("aliasWithoutId2"));
  Assert.assertFalse(beanNames.contains("aliasWithoutId3"));
  TestBean tb4=(TestBean)getBeanFactory().getBean(TestBean.class.getName() + "#0");
  Assert.assertEquals(null,tb4.getName());
  Map drs=getListableBeanFactory().getBeansOfType(DummyReferencer.class,false,false);
  Assert.assertEquals(5,drs.size());
  Assert.assertTrue(drs.containsKey(DummyReferencer.class.getName() + "#0"));
  Assert.assertTrue(drs.containsKey(DummyReferencer.class.getName() + "#1"));
  Assert.assertTrue(drs.containsKey(DummyReferencer.class.getName() + "#2"));
}
