{
  DummyFactory factory=(DummyFactory)getBeanFactory().getBean("&singletonFactory");
  DummyReferencer ref=(DummyReferencer)getBeanFactory().getBean("factoryReferencer");
  Assert.assertTrue(ref.getTestBean1() == ref.getTestBean2());
  Assert.assertTrue(ref.getDummyFactory() == factory);
  DummyReferencer ref2=(DummyReferencer)getBeanFactory().getBean("factoryReferencerWithConstructor");
  Assert.assertTrue(ref2.getTestBean1() == ref2.getTestBean2());
  Assert.assertTrue(ref2.getDummyFactory() == factory);
}
