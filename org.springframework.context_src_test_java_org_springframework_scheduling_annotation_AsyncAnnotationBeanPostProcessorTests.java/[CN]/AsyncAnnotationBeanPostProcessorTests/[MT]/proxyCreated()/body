{
  StaticApplicationContext context=new StaticApplicationContext();
  BeanDefinition processorDefinition=new RootBeanDefinition(AsyncAnnotationBeanPostProcessor.class);
  BeanDefinition targetDefinition=new RootBeanDefinition(AsyncAnnotationBeanPostProcessorTests.TestBean.class);
  context.registerBeanDefinition("postProcessor",processorDefinition);
  context.registerBeanDefinition("target",targetDefinition);
  context.refresh();
  Object target=context.getBean("target");
  assertTrue(AopUtils.isAopProxy(target));
}
