{
  RedirectView rv=new RedirectView();
  rv.setUrl("http://url.somewhere.com/path");
  rv.setHttp10Compatible(false);
  HttpServletRequest request=new MockHttpServletRequest();
  HttpServletResponse response=new MockHttpServletResponse();
  FlashMap flashMap=new FlashMap();
  flashMap.put("successMessage","yay!");
  request.setAttribute(FlashMapManager.OUTPUT_FLASH_MAP_ATTRIBUTE,flashMap);
  ModelMap model=new ModelMap("id","1");
  rv.render(model,request,response);
  assertEquals(303,response.getStatus());
  assertEquals("http://url.somewhere.com/path?id=1",response.getHeader("Location"));
  assertEquals("/path",flashMap.getTargetRequestPath());
  assertEquals(model,flashMap.getTargetRequestParams().toSingleValueMap());
}
