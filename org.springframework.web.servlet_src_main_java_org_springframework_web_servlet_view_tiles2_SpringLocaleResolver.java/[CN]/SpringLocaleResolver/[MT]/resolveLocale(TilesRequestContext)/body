{
  if (context instanceof ServletTilesRequestContext) {
    return RequestContextUtils.getLocale(((ServletTilesRequestContext)context).getRequest());
  }
 else   if (context instanceof JspTilesRequestContext) {
    PageContext pc=((JspTilesRequestContext)context).getPageContext();
    return RequestContextUtils.getLocale((HttpServletRequest)pc.getRequest());
  }
 else {
    return super.resolveLocale(context);
  }
}
