{
  TestBean raw=new TestBean();
  assertTrue(!(raw instanceof TimeStamped));
  ProxyFactory factory=new ProxyFactory(raw);
  MockControl tsControl=MockControl.createControl(SubTimeStamped.class);
  SubTimeStamped ts=(SubTimeStamped)tsControl.getMock();
  ts.getTimeStamp();
  long timestamp=111L;
  tsControl.setReturnValue(timestamp,1);
  tsControl.replay();
  factory.addAdvisor(0,new DefaultIntroductionAdvisor(new DelegatingIntroductionInterceptor(ts),TimeStamped.class));
  TimeStamped tsp=(TimeStamped)factory.getProxy();
  assertTrue(!(tsp instanceof SubTimeStamped));
  assertTrue(tsp.getTimeStamp() == timestamp);
  tsControl.verify();
}
