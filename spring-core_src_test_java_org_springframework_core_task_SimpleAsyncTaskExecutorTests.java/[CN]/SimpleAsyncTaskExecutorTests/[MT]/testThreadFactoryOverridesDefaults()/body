{
  final Object monitor=new Object();
  SimpleAsyncTaskExecutor executor=new SimpleAsyncTaskExecutor(new ThreadFactory(){
    @Override public Thread newThread(    Runnable r){
      return new Thread(r,"test");
    }
  }
);
  ThreadNameHarvester task=new ThreadNameHarvester(monitor);
  executeAndWait(executor,task,monitor);
  assertTrue(task.getThreadName().equals("test"));
}
