{
  Map<String,Object> jpaProperties=new HashMap<String,Object>();
  if (getDatabasePlatform() != null) {
    jpaProperties.put("openjpa.jdbc.DBDictionary",getDatabasePlatform());
  }
 else   if (getDatabase() != null) {
    String databaseDictonary=determineDatabaseDictionary(getDatabase());
    if (databaseDictonary != null) {
      jpaProperties.put("openjpa.jdbc.DBDictionary",databaseDictonary);
    }
  }
  if (isGenerateDdl()) {
    jpaProperties.put("openjpa.jdbc.SynchronizeMappings","buildSchema(ForeignKeys=true)");
  }
  if (isShowSql()) {
    jpaProperties.put("openjpa.Log","DefaultLevel=WARN, Runtime=INFO, Tool=INFO, SQL=TRACE");
  }
  return jpaProperties;
}
