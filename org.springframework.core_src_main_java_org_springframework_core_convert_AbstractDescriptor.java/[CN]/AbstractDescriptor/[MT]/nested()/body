{
  if (isCollection()) {
    return nested(wildcard(getCollectionElementClass()),0);
  }
 else   if (isArray()) {
    return nested(getType().getComponentType(),0);
  }
 else   if (isMap()) {
    return nested(wildcard(getMapValueClass()),1);
  }
 else {
    throw new IllegalStateException("Not a collection, array, or map: cannot resolve nested value types");
  }
}
