{
  int count=0;
  try {
    if (this.logger.isDebugEnabled()) {
      this.logger.debug("Loading from YAML: " + resource);
    }
    InputStream stream=resource.getInputStream();
    try {
      for (      Object object : yaml.loadAll(stream)) {
        if (object != null && process(asMap(object),callback)) {
          count++;
          if (this.resolutionMethod == ResolutionMethod.FIRST_FOUND) {
            break;
          }
        }
      }
      if (this.logger.isDebugEnabled()) {
        this.logger.debug("Loaded " + count + " document"+ (count > 1 ? "s" : "")+ " from YAML resource: "+ resource);
      }
    }
  finally {
      stream.close();
    }
  }
 catch (  IOException ex) {
    handleProcessError(resource,ex);
  }
  return (count > 0);
}
