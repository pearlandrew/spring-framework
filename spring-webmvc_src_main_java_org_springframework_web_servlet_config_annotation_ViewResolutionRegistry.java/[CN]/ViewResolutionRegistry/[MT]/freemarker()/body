{
  if (!hasBeanOfType(FreeMarkerConfigurer.class)) {
    throw new BeanInitializationException("It looks like you're trying to configure FreeMarker view resolution. " + "If not using @EnableWebMvc you must import WebMvcFreeMarkerConfiguration, " + "or declare your own FreeMarkerConfigurer bean.");
  }
  FreeMarkerRegistration registration=new FreeMarkerRegistration(this);
  addAndCheckViewResolution(registration);
  return registration;
}
