{
  CachedIntrospectionResults results=strongClassCache.get(beanClass);
  if (results != null) {
    return results;
  }
  results=softClassCache.get(beanClass);
  if (results != null) {
    return results;
  }
  results=new CachedIntrospectionResults(beanClass);
  if (ClassUtils.isCacheSafe(beanClass,CachedIntrospectionResults.class.getClassLoader()) || isClassLoaderAccepted(beanClass.getClassLoader())) {
    strongClassCache.putIfAbsent(beanClass,results);
  }
 else {
    if (logger.isDebugEnabled()) {
      logger.debug("Not strongly caching class [" + beanClass.getName() + "] because it is not cache-safe");
    }
    softClassCache.putIfAbsent(beanClass,results);
  }
  return results;
}
