{
  RequestMapping annotation;
  AnnotationAttributes attributes;
  RequestCondition<?> customCondition;
  String annotationType=RequestMapping.class.getName();
  if (annotatedElement instanceof Class<?>) {
    Class<?> type=(Class<?>)annotatedElement;
    annotation=AnnotationUtils.findAnnotation(type,RequestMapping.class);
    attributes=AnnotatedElementUtils.getAnnotationAttributes(type,annotationType);
    customCondition=getCustomTypeCondition(type);
  }
 else {
    Method method=(Method)annotatedElement;
    annotation=AnnotationUtils.findAnnotation(method,RequestMapping.class);
    attributes=AnnotatedElementUtils.getAnnotationAttributes(method,annotationType);
    customCondition=getCustomMethodCondition(method);
  }
  RequestMappingInfo info=null;
  if (annotation != null) {
    info=createRequestMappingInfo(annotation,customCondition);
    if (info == null) {
      info=createRequestMappingInfo(attributes,customCondition);
    }
  }
  return info;
}
