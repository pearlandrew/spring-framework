{
  Map<String,?> attributesInSession=this.sessionAttributesHandler.retrieveAttributes(request);
  mavContainer.mergeAttributes(attributesInSession);
  invokeModelAttributeMethods(request,mavContainer);
  for (  String name : findSessionAttributeArguments(handlerMethod)) {
    if (!mavContainer.containsAttribute(name)) {
      Object value=this.sessionAttributesHandler.retrieveAttribute(request,name);
      if (value == null) {
        throw new HttpSessionRequiredException("Expected session attribute '" + name + "'");
      }
      mavContainer.addAttribute(name,value);
    }
  }
}
