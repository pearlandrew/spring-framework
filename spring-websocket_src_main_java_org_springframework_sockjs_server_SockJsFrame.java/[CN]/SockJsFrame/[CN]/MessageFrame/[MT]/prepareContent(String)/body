{
  Assert.notNull(messages,"messages required");
  StringBuilder sb=new StringBuilder();
  sb.append("a[");
  for (int i=0; i < messages.length; i++) {
    sb.append('"');
    char[] quotedChars=JsonStringEncoder.getInstance().quoteAsString(messages[i]);
    sb.append(escapeSockJsCharacters(quotedChars));
    sb.append('"');
    if (i < messages.length - 1) {
      sb.append(',');
    }
  }
  sb.append(']');
  return sb.toString();
}
