{
  String sessId="sess01";
  String subsId="subs01";
  String destPattern="/topic/PRICE.STOCK.*.{ticker:(IBM|MSFT)}";
  this.registry.addSubscription(subscribeMessage(sessId,subsId,destPattern));
  Message<?> message=message("/topic/PRICE.STOCK.NASDAQ.IBM");
  MultiValueMap<String,String> actual=this.registry.findSubscriptions(message);
  assertEquals("Expected one element " + actual,1,actual.size());
  assertEquals(Arrays.asList(subsId),actual.get(sessId));
  message=message("/topic/PRICE.STOCK.NASDAQ.MSFT");
  actual=this.registry.findSubscriptions(message);
  assertEquals("Expected one element " + actual,1,actual.size());
  assertEquals(Arrays.asList(subsId),actual.get(sessId));
  message=message("/topic/PRICE.STOCK.NASDAQ.VMW");
  actual=this.registry.findSubscriptions(message);
  assertEquals("Expected no elements " + actual,0,actual.size());
}
