{
  runTestClassAndAssertStats(CleanTestCase.class,1);
  assertCacheStats("after clean test class",1,cacheHits.get(),cacheMisses.incrementAndGet());
  runTestClassAndAssertStats(ClassLevelDirtiesContextWithCleanMethodsAndDefaultModeTestCase.class,1);
  assertCacheStats("after class-level @DirtiesContext with clean test method and default class mode",0,cacheHits.incrementAndGet(),cacheMisses.get());
  runTestClassAndAssertStats(CleanTestCase.class,1);
  assertCacheStats("after clean test class",1,cacheHits.get(),cacheMisses.incrementAndGet());
  runTestClassAndAssertStats(ClassLevelDirtiesContextWithCleanMethodsAndAfterClassModeTestCase.class,1);
  assertCacheStats("after class-level @DirtiesContext with clean test method and AFTER_CLASS mode",0,cacheHits.incrementAndGet(),cacheMisses.get());
  runTestClassAndAssertStats(CleanTestCase.class,1);
  assertCacheStats("after clean test class",1,cacheHits.get(),cacheMisses.incrementAndGet());
  runTestClassAndAssertStats(ClassLevelDirtiesContextWithAfterEachTestMethodModeTestCase.class,3);
  assertCacheStats("after class-level @DirtiesContext with clean test method and AFTER_EACH_TEST_METHOD mode",0,cacheHits.incrementAndGet(),cacheMisses.addAndGet(2));
  runTestClassAndAssertStats(CleanTestCase.class,1);
  assertCacheStats("after clean test class",1,cacheHits.get(),cacheMisses.incrementAndGet());
  runTestClassAndAssertStats(ClassLevelDirtiesContextWithDirtyMethodsTestCase.class,1);
  assertCacheStats("after class-level @DirtiesContext with dirty test method",0,cacheHits.incrementAndGet(),cacheMisses.get());
  runTestClassAndAssertStats(ClassLevelDirtiesContextWithDirtyMethodsTestCase.class,1);
  assertCacheStats("after class-level @DirtiesContext with dirty test method",0,cacheHits.get(),cacheMisses.incrementAndGet());
  runTestClassAndAssertStats(ClassLevelDirtiesContextWithDirtyMethodsTestCase.class,1);
  assertCacheStats("after class-level @DirtiesContext with dirty test method",0,cacheHits.get(),cacheMisses.incrementAndGet());
  runTestClassAndAssertStats(CleanTestCase.class,1);
  assertCacheStats("after clean test class",1,cacheHits.get(),cacheMisses.incrementAndGet());
  runTestClassAndAssertStats(ClassLevelDirtiesContextWithCleanMethodsAndAfterClassModeTestCase.class,1);
  assertCacheStats("after class-level @DirtiesContext with clean test method and AFTER_CLASS mode",0,cacheHits.incrementAndGet(),cacheMisses.get());
}
