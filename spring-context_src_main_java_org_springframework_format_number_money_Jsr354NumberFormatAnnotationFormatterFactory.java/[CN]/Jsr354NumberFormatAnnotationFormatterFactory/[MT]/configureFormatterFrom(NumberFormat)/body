{
  if (StringUtils.hasLength(annotation.pattern())) {
    return new NumberDecoratingFormatter(null,resolveEmbeddedValue(annotation.pattern()));
  }
 else {
    Style style=annotation.style();
    if (style == Style.PERCENT) {
      return new NumberDecoratingFormatter(new PercentStyleFormatter(),null);
    }
 else     if (style == Style.NUMBER) {
      return new NumberDecoratingFormatter(new NumberStyleFormatter(),null);
    }
 else {
      return new NumberDecoratingFormatter(null,null);
    }
  }
}
