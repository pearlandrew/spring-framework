{
  StubHandler handler=new StubHandler();
  TestFilter filter1=new TestFilter();
  ShortcircuitingFilter filter2=new ShortcircuitingFilter();
  TestFilter filter3=new TestFilter();
  FilterChainHttpHandler filterHandler=new FilterChainHttpHandler(handler,filter1,filter2,filter3);
  Publisher<Void> voidPublisher=filterHandler.handle(this.request,this.response);
  Streams.wrap(voidPublisher).toList().await(10,TimeUnit.SECONDS);
  assertTrue(filter1.invoked());
  assertTrue(filter2.invoked());
  assertFalse(filter3.invoked());
  assertFalse(handler.invoked());
}
