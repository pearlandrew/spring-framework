{
  BytesMessage bytesMessage=mock(BytesMessage.class);
  given(bytesMessage.readBytes(any(byte[].class))).willAnswer(new Answer<Integer>(){
    @Override public Integer answer(    InvocationOnMock invocation) throws Throwable {
      byte[] bytes=(byte[])invocation.getArguments()[0];
      ByteArrayInputStream inputStream=new ByteArrayInputStream(TEXT.getBytes());
      return inputStream.read(bytes);
    }
  }
);
  MessageContentsDelegate delegate=mock(MessageContentsDelegate.class);
  MessageListenerAdapter102 adapter=new MessageListenerAdapter102(delegate);
  adapter.onMessage(bytesMessage);
  verify(delegate).handleMessage(TEXT.getBytes());
}
