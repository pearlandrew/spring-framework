{
  Class<?>[] handlerTypes=Proxy.isProxyClass(handlerType) ? handlerType.getInterfaces() : new Class<?>[]{handlerType};
  for (  final Class<?> currentHandlerType : handlerTypes) {
    ReflectionUtils.doWithMethods(currentHandlerType,new ReflectionUtils.MethodCallback(){
      public void doWith(      Method method){
        if (isHandlerMethod(ClassUtils.getMostSpecificMethod(method,currentHandlerType))) {
          handlerMethods.add(ClassUtils.getMostSpecificMethod(method,currentHandlerType));
        }
 else         if (method.isAnnotationPresent(InitBinder.class)) {
          initBinderMethods.add(ClassUtils.getMostSpecificMethod(method,currentHandlerType));
        }
 else         if (method.isAnnotationPresent(ModelAttribute.class)) {
          modelAttributeMethods.add(ClassUtils.getMostSpecificMethod(method,currentHandlerType));
        }
      }
    }
);
  }
  this.typeLevelMapping=AnnotationUtils.findAnnotation(handlerType,RequestMapping.class);
  SessionAttributes sessionAttributes=handlerType.getAnnotation(SessionAttributes.class);
  this.sessionAttributesFound=(sessionAttributes != null);
  if (this.sessionAttributesFound) {
    this.sessionAttributeNames.addAll(Arrays.asList(sessionAttributes.value()));
    this.sessionAttributeTypes.addAll(Arrays.asList(sessionAttributes.types()));
  }
}
