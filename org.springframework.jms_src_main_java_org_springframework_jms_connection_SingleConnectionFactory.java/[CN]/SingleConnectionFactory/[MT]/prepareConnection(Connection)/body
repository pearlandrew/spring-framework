{
  if (getClientId() != null) {
    con.setClientID(getClientId());
  }
  if (getExceptionListener() != null || isReconnectOnException()) {
    ExceptionListener listenerToUse=getExceptionListener();
    if (isReconnectOnException()) {
      listenerToUse=new InternalChainedExceptionListener(this,listenerToUse);
    }
    con.setExceptionListener(listenerToUse);
  }
}
