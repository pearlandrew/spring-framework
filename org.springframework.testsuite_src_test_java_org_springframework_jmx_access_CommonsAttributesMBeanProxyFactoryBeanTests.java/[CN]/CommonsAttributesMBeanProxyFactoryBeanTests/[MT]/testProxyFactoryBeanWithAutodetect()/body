{
  try {
    XmlBeanFactory bf=new XmlBeanFactory(new ClassPathResource("proxyFactoryBean.xml",getClass()));
    bf.preInstantiateSingletons();
  }
 catch (  BeanCreationException ex) {
    if (ex.getCause().getClass() == MBeanInfoRetrievalException.class) {
      fail("MBeanProxyFactoryBean should be ignored by MBeanExporter when running autodetect process");
    }
 else {
      throw ex;
    }
  }
}
