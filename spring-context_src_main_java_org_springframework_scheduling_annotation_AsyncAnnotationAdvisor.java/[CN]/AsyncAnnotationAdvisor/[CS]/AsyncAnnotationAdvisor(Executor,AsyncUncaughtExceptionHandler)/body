{
  Set<Class<? extends Annotation>> asyncAnnotationTypes=new LinkedHashSet<Class<? extends Annotation>>(2);
  asyncAnnotationTypes.add(Async.class);
  ClassLoader cl=AsyncAnnotationAdvisor.class.getClassLoader();
  try {
    asyncAnnotationTypes.add((Class<? extends Annotation>)cl.loadClass("javax.ejb.Asynchronous"));
  }
 catch (  ClassNotFoundException ex) {
  }
  if (executor == null) {
    executor=new SimpleAsyncTaskExecutor();
  }
  if (exceptionHandler != null) {
    this.exceptionHandler=exceptionHandler;
  }
 else {
    this.exceptionHandler=new SimpleAsyncUncaughtExceptionHandler();
  }
  this.advice=buildAdvice(executor,this.exceptionHandler);
  this.pointcut=buildPointcut(asyncAnnotationTypes);
}
