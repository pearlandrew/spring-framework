{
  int[] sqlTypes=new int[]{Types.NUMERIC};
  PreparedStatement preparedStatement=setupBatchOperation();
  List<Object[]> ids=new ArrayList<Object[]>();
  ids.add(new Object[]{100});
  ids.add(new Object[]{200});
  int[] actualRowsAffected=template.batchUpdate(SQL,ids,sqlTypes);
  assertTrue("executed 2 updates",actualRowsAffected.length == 2);
  assertEquals(1,actualRowsAffected[0]);
  assertEquals(2,actualRowsAffected[1]);
  verify(preparedStatement).setObject(1,100,Types.NUMERIC);
  verify(preparedStatement).setObject(1,200,Types.NUMERIC);
  verify(preparedStatement,times(2)).addBatch();
  verify(preparedStatement).close();
}
