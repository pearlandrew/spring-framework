{
  Assert.notNull(propertySources,"propertySources must not be null");
  if (servletContext != null && propertySources.contains(SERVLET_CONTEXT_PROPERTY_SOURCE_NAME) && propertySources.get(SERVLET_CONTEXT_PROPERTY_SOURCE_NAME) instanceof StubPropertySource) {
    propertySources.replace(SERVLET_CONTEXT_PROPERTY_SOURCE_NAME,new ServletContextPropertySource(SERVLET_CONTEXT_PROPERTY_SOURCE_NAME,servletContext));
  }
  if (servletConfig != null && propertySources.contains(SERVLET_CONFIG_PROPERTY_SOURCE_NAME) && propertySources.get(SERVLET_CONFIG_PROPERTY_SOURCE_NAME) instanceof StubPropertySource) {
    propertySources.replace(SERVLET_CONFIG_PROPERTY_SOURCE_NAME,new ServletConfigPropertySource(SERVLET_CONFIG_PROPERTY_SOURCE_NAME,servletConfig));
  }
}
