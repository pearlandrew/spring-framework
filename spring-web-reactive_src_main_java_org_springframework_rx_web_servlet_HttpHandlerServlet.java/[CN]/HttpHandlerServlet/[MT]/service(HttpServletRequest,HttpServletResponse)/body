{
  AsyncContext context=request.startAsync();
  final AsyncContextSynchronizer contextSynchronizer=new AsyncContextSynchronizer(context);
  RequestBodyPublisher requestPublisher=new RequestBodyPublisher(contextSynchronizer,BUFFER_SIZE);
  request.getInputStream().setReadListener(requestPublisher);
  ResponseBodySubscriber responseSubscriber=new ResponseBodySubscriber(contextSynchronizer);
  response.getOutputStream().setWriteListener(responseSubscriber);
  Publisher<byte[]> responsePublisher=this.handler.handle(requestPublisher);
  responsePublisher.subscribe(responseSubscriber);
}
