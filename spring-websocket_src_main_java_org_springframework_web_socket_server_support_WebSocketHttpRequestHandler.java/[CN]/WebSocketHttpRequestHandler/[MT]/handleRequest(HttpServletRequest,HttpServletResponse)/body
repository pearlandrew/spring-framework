{
  ServerHttpRequest httpRequest=new ServletServerHttpRequest(request);
  ServerHttpResponse httpResponse=new ServletServerHttpResponse(response);
  try {
    this.handshakeHandler.doHandshake(httpRequest,httpResponse,this.webSocketHandler);
    httpResponse.flush();
  }
 catch (  IOException ex) {
    throw ex;
  }
}
