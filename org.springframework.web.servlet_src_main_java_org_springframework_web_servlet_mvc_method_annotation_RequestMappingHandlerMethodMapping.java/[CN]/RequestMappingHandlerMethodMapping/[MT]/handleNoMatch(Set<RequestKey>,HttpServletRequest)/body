{
  String lookupPath=urlPathHelper.getLookupPathForRequest(request);
  Set<String> allowedMethods=new HashSet<String>(6);
  for (  RequestKey requestKey : requestKeys) {
    for (    String pattern : requestKey.getPatterns()) {
      if (pathMatcher.match(pattern,lookupPath)) {
        for (        RequestMethod method : requestKey.getMethods()) {
          allowedMethods.add(method.name());
        }
      }
    }
  }
  if (!allowedMethods.isEmpty()) {
    throw new HttpRequestMethodNotSupportedException(request.getMethod(),allowedMethods.toArray(new String[allowedMethods.size()]));
  }
 else {
    return null;
  }
}
