{
  Map<String,String> vars=new HashMap<String,String>(2);
  vars.put("hotel","1");
  vars.put("publicpath","pics/logo.png");
  vars.put("scale","150x150");
  String template="http://example.com/hotels/{hotel}/pic/{publicpath}/size/{scale}";
  this.handler.setParsePath(true);
  URI actual=this.handler.expand(template,vars);
  URI expected=new URI("http://example.com/hotels/1/pic/pics%2Flogo.png/size/150x150");
  assertEquals("Invalid expanded template",expected,actual);
}
