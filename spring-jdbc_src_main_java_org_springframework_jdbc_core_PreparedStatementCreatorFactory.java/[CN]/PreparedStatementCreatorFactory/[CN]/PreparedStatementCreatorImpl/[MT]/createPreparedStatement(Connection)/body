{
  PreparedStatement ps;
  if (generatedKeysColumnNames != null || returnGeneratedKeys) {
    try {
      if (generatedKeysColumnNames != null) {
        ps=con.prepareStatement(this.actualSql,generatedKeysColumnNames);
      }
 else {
        ps=con.prepareStatement(this.actualSql,PreparedStatement.RETURN_GENERATED_KEYS);
      }
    }
 catch (    AbstractMethodError err) {
      throw new InvalidDataAccessResourceUsageException("Your JDBC driver is not compliant with JDBC 3.0 - " + "it does not support retrieval of auto-generated keys",err);
    }
  }
 else   if (resultSetType == ResultSet.TYPE_FORWARD_ONLY && !updatableResults) {
    ps=con.prepareStatement(this.actualSql);
  }
 else {
    ps=con.prepareStatement(this.actualSql,resultSetType,updatableResults ? ResultSet.CONCUR_UPDATABLE : ResultSet.CONCUR_READ_ONLY);
  }
  setValues(ps);
  return ps;
}
