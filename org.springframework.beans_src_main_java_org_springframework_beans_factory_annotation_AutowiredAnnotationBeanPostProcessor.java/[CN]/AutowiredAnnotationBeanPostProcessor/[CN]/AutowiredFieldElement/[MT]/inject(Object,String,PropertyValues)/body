{
  Field field=(Field)this.member;
  try {
    Object value;
    if (this.cached) {
      value=resolvedCachedArgument(beanName,this.cachedFieldValue);
    }
 else {
      DependencyDescriptor descriptor=new DependencyDescriptor(field,this.required);
      Set<String> autowiredBeanNames=new LinkedHashSet<String>(1);
      TypeConverter typeConverter=beanFactory.getTypeConverter();
      value=beanFactory.resolveDependency(descriptor,beanName,autowiredBeanNames,typeConverter);
synchronized (this) {
        if (!this.cached) {
          if (value != null) {
            this.cachedFieldValue=descriptor;
            registerDependentBeans(beanName,autowiredBeanNames);
            if (autowiredBeanNames.size() == 1) {
              String autowiredBeanName=autowiredBeanNames.iterator().next();
              if (beanFactory.containsBean(autowiredBeanName)) {
                if (beanFactory.isTypeMatch(autowiredBeanName,field.getType())) {
                  this.cachedFieldValue=new RuntimeBeanReference(autowiredBeanName);
                }
              }
            }
          }
 else {
            this.cachedFieldValue=null;
          }
          this.cached=true;
        }
      }
    }
    if (value != null) {
      ReflectionUtils.makeAccessible(field);
      field.set(bean,value);
    }
  }
 catch (  Throwable ex) {
    throw new BeanCreationException("Could not autowire field: " + field,ex);
  }
}
