{
  conversionService.addGenericConverter(new ObjectToMapConverter(conversionService));
  conversionService.addGenericConverter(new MapToMapConverter(conversionService));
  conversionService.addConverterFactory(new StringToNumberConverterFactory());
  conversionService.addConverterFactory(new StringToEnumConverterFactory());
  Map result=(Map)conversionService.convert("1=BAR\n 2=BAZ",TypeDescriptor.valueOf(String.class),new TypeDescriptor(getClass().getField("genericMap")));
  assertEquals(FooEnum.BAR,result.get(1));
  assertEquals(FooEnum.BAZ,result.get(2));
}
