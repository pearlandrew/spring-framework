{
  StaticPortletApplicationContext ctx=new StaticPortletApplicationContext();
  assertHasStandardPortletEnvironment(ctx);
  registerEnvironmentBeanDefinition(ctx);
  ctx.setEnvironment(prodEnv);
  ctx.refresh();
  assertHasEnvironment(ctx,prodEnv);
  assertEnvironmentBeanRegistered(ctx);
  assertEnvironmentAwareInvoked(ctx,prodEnv);
}
