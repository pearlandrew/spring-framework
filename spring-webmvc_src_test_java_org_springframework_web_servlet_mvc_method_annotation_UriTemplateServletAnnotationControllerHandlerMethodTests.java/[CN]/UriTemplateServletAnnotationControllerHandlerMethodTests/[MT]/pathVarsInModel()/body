{
  final Map<String,Object> pathVars=new HashMap<String,Object>();
  pathVars.put("hotel","42");
  pathVars.put("booking",21);
  pathVars.put("other","other");
  WebApplicationContext wac=initServlet(new ApplicationContextInitializer<GenericWebApplicationContext>(){
    public void initialize(    GenericWebApplicationContext context){
      RootBeanDefinition beanDef=new RootBeanDefinition(ModelValidatingViewResolver.class);
      beanDef.getConstructorArgumentValues().addGenericArgumentValue(pathVars);
      context.registerBeanDefinition("viewResolver",beanDef);
    }
  }
,ViewRenderingController.class);
  MockHttpServletRequest request=new MockHttpServletRequest("GET","/hotels/42/bookings/21-other");
  getServlet().service(request,new MockHttpServletResponse());
  ModelValidatingViewResolver resolver=wac.getBean(ModelValidatingViewResolver.class);
  assertEquals(3,resolver.validatedAttrCount);
}
