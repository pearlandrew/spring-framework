{
  if (locale != null) {
    request.setAttribute(LOCALE_REQUEST_ATTRIBUTE_NAME,locale);
    addCookie(response,locale.toString());
  }
 else {
    request.setAttribute(LOCALE_REQUEST_ATTRIBUTE_NAME,determineDefaultLocale(request));
    removeCookie(response);
  }
}
