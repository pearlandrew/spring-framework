{
  Session nativeSession=Mockito.mock(Session.class);
  when(nativeSession.getUserPrincipal()).thenReturn(null);
  StandardWebSocketSession session=new StandardWebSocketSession(this.headers,this.attributes,null,null);
  session.initializeNativeSession(nativeSession);
  reset(nativeSession);
  assertNull(session.getPrincipal());
  verify(nativeSession).isOpen();
  verifyNoMoreInteractions(nativeSession);
}
