{
  if (value == null) {
    return null;
  }
  Object result="";
  int prefixIndex=value.indexOf(this.expressionPrefix);
  int endIndex=0;
  while (prefixIndex != -1) {
    int exprStart=prefixIndex + this.expressionPrefix.length();
    int suffixIndex=value.indexOf(this.expressionSuffix,exprStart);
    if (suffixIndex != -1) {
      if (prefixIndex > 0) {
        result=result + value.substring(endIndex,prefixIndex);
      }
      endIndex=suffixIndex + this.expressionSuffix.length();
      String expr=value.substring(exprStart,suffixIndex);
      Object exprResult=evaluateExpression(expr,evalContext);
      if (result != null && !"".equals(result)) {
        result=result.toString() + exprResult.toString();
      }
 else {
        result=exprResult;
      }
      prefixIndex=value.indexOf(this.expressionPrefix,suffixIndex);
    }
 else {
      prefixIndex=-1;
    }
  }
  if (endIndex < value.length()) {
    return result + value.substring(endIndex);
  }
 else {
    return result;
  }
}
