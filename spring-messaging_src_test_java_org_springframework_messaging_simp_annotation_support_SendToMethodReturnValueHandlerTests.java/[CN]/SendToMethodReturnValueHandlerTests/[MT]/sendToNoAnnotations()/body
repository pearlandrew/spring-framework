{
  given(this.messageChannel.send(any(Message.class))).willReturn(true);
  Message<?> inputMessage=createInputMessage("sess1","sub1","/app","/dest",null);
  this.handler.handleReturnValue(PAYLOAD,this.noAnnotationsReturnType,inputMessage);
  verify(this.messageChannel,times(1)).send(this.messageCaptor.capture());
  SimpMessageHeaderAccessor accessor=getCapturedAccessor(0);
  assertEquals("sess1",accessor.getSessionId());
  assertEquals("/topic/dest",accessor.getDestination());
  assertEquals(MIME_TYPE,accessor.getContentType());
  assertNull("Subscription id should not be copied",accessor.getSubscriptionId());
  assertEquals(this.noAnnotationsReturnType,accessor.getHeader(SimpMessagingTemplate.CONVERSION_HINT_HEADER));
}
