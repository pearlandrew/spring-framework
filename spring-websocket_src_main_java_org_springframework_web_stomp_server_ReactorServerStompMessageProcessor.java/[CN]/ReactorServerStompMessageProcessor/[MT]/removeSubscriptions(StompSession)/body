{
  String sessionId=session.getId();
  List<Registration<?>> registrations=this.registrationsBySession.remove(sessionId);
  if (CollectionUtils.isEmpty(registrations)) {
    return false;
  }
  if (logger.isTraceEnabled()) {
    logger.trace("Cancelling " + registrations.size() + " subscriptions for session="+ sessionId);
  }
  for (  Registration<?> registration : registrations) {
    registration.cancel();
  }
  return true;
}
