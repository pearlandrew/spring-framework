{
  StompCommand command=message.getCommand();
  Assert.notNull(command,"STOMP command not found");
  if (StompCommand.CONNECT.equals(command) || StompCommand.STOMP.equals(command)) {
    connect(session,message);
  }
 else   if (StompCommand.SUBSCRIBE.equals(command)) {
    subscribe(session,message);
  }
 else   if (StompCommand.UNSUBSCRIBE.equals(command)) {
    unsubscribe(session,message);
  }
 else   if (StompCommand.SEND.equals(command)) {
    send(session,message);
  }
 else   if (StompCommand.DISCONNECT.equals(command)) {
    disconnect(session);
  }
 else {
    throw new IllegalStateException("Unexpected command: " + command);
  }
}
