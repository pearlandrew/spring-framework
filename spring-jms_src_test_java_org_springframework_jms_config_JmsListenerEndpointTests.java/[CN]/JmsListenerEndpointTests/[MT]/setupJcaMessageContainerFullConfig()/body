{
  JmsMessageEndpointManager container=new JmsMessageEndpointManager();
  MessageListener messageListener=new MessageListenerAdapter();
  SimpleJmsListenerEndpoint endpoint=new SimpleJmsListenerEndpoint();
  endpoint.setDestination("myQueue");
  endpoint.setQueue(true);
  endpoint.setSelector("foo = 'bar'");
  endpoint.setSubscription("mySubscription");
  endpoint.setMessageListener(messageListener);
  endpoint.setupMessageContainer(container);
  JmsActivationSpecConfig config=container.getActivationSpecConfig();
  assertEquals("myQueue",config.getDestinationName());
  assertFalse(config.isPubSubDomain());
  assertEquals("foo = 'bar'",config.getMessageSelector());
  assertEquals("mySubscription",config.getDurableSubscriptionName());
  assertEquals(messageListener,container.getMessageListener());
}
