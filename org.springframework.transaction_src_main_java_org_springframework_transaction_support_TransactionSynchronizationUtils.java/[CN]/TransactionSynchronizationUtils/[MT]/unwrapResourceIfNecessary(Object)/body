{
  Assert.notNull(resource,"Resource must not be null");
  Object resourceRef=resource;
  if (resource instanceof ScopedObject) {
    resourceRef=((ScopedObject)resource).getTargetObject();
  }
  return (resourceRef instanceof InfrastructureProxy ? ((InfrastructureProxy)resourceRef).getWrappedObject() : resourceRef);
}
