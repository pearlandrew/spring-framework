{
  String actualPath=(path.endsWith("/") ? path : path + "/");
  Resource resource=this.resourceLoader.getResource(getResourceLocation(actualPath));
  try {
    File file=resource.getFile();
    String[] fileList=file.list();
    if (ObjectUtils.isEmpty(fileList)) {
      return null;
    }
    Set resourcePaths=new LinkedHashSet(fileList.length);
    for (int i=0; i < fileList.length; i++) {
      String resultPath=actualPath + fileList[i];
      if (resource.createRelative(fileList[i]).getFile().isDirectory()) {
        resultPath+="/";
      }
      resourcePaths.add(resultPath);
    }
    return resourcePaths;
  }
 catch (  IOException ex) {
    logger.warn("Couldn't get resource paths for " + resource,ex);
    return null;
  }
}
