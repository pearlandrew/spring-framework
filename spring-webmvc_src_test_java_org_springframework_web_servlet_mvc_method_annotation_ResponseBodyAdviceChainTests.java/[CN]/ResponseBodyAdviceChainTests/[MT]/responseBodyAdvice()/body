{
  @SuppressWarnings("unchecked") ResponseBodyAdvice<String> advice=Mockito.mock(ResponseBodyAdvice.class);
  ResponseBodyAdviceChain chain=new ResponseBodyAdviceChain(Arrays.asList(advice));
  String expected="body++";
  given(advice.supports(this.returnType,this.converterType)).willReturn(true);
  given(advice.beforeBodyWrite(eq(this.body),eq(this.returnType),eq(this.contentType),eq(this.converterType),same(this.request),same(this.response))).willReturn(expected);
  String actual=chain.invoke(this.body,this.returnType,this.contentType,this.converterType,this.request,this.response);
  assertEquals(expected,actual);
}
