{
  if (transactionSynchronizationRegistryClass == null) {
    throw new TransactionSystemException("JTA 1.1 [" + TRANSACTION_SYNCHRONIZATION_REGISTRY_CLASS_NAME + "] API not available");
  }
  try {
    if (logger.isDebugEnabled()) {
      logger.debug("Retrieving JTA TransactionSynchronizationRegistry from JNDI location [" + registryName + "]");
    }
    return getJndiTemplate().lookup(registryName,transactionSynchronizationRegistryClass);
  }
 catch (  NamingException ex) {
    throw new TransactionSystemException("JTA TransactionSynchronizationRegistry is not available at JNDI location [" + registryName + "]",ex);
  }
}
