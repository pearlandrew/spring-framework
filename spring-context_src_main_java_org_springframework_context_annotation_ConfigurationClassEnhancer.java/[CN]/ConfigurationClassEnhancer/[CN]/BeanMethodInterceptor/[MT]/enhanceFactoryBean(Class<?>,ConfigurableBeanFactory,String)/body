{
  Enhancer enhancer=new Enhancer();
  enhancer.setSuperclass(fbClass);
  enhancer.setUseFactory(false);
  enhancer.setCallback(new MethodInterceptor(){
    public Object intercept(    Object obj,    Method method,    Object[] args,    MethodProxy proxy) throws Throwable {
      if (method.getName().equals("getObject") && args.length == 0) {
        return beanFactory.getBean(beanName);
      }
      return proxy.invokeSuper(obj,args);
    }
  }
);
  return enhancer.create();
}
