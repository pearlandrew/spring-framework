{
  Assert.notNull(deferredResult,"DeferredResult must not be null");
  Long timeout=deferredResult.getTimeoutMilliseconds();
  if (timeout != null) {
    this.asyncWebRequest.setTimeout(timeout);
  }
  this.asyncWebRequest.addCompletionHandler(new Runnable(){
    public void run(){
      deferredResult.setExpired();
    }
  }
);
  if (deferredResult.hasTimeoutResult()) {
    this.asyncWebRequest.setTimeoutHandler(new Runnable(){
      public void run(){
        deferredResult.applyTimeoutResult();
      }
    }
);
  }
  startAsyncProcessing(processingContext);
  deferredResult.setResultHandler(new DeferredResultHandler(){
    public void handleResult(    Object result){
      concurrentResult=result;
      if (logger.isDebugEnabled()) {
        logger.debug("Deferred result value [" + concurrentResult + "]");
      }
      Assert.state(!asyncWebRequest.isAsyncComplete(),"Cannot handle DeferredResult [ " + deferredResult + " ] due to a timeout or network error");
      logger.debug("Dispatching request to complete processing");
      asyncWebRequest.dispatch();
    }
  }
);
}
