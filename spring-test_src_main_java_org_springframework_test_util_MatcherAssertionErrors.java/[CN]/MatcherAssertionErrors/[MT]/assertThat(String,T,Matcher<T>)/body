{
  if (!matcher.matches(actual)) {
    Description description=new StringDescription();
    description.appendText(reason);
    description.appendText("\nExpected: ");
    description.appendDescriptionOf(matcher);
    if (describeMismatchMethod != null) {
      description.appendText("\n     but: ");
      ReflectionUtils.invokeMethod(describeMismatchMethod,matcher,actual,description);
    }
 else {
      description.appendText("\n     got: ");
      description.appendValue(actual);
      description.appendText("\n");
    }
    throw new AssertionError(description.toString());
  }
}
