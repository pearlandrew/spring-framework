{
  String[] value=componentScan.getStringArray("value");
  String[] basePackages=componentScan.getStringArray("basePackages");
  boolean valueDeclared=!ObjectUtils.isEmpty(value);
  boolean basePackagesDeclared=!ObjectUtils.isEmpty(basePackages);
  if (valueDeclared && basePackagesDeclared && !ObjectUtils.nullSafeEquals(value,basePackages)) {
    String msg=String.format("In @ComponentScan declared on [%s], attribute [value] " + "and its alias [basePackages] are present with values of [%s] and [%s], " + "but only one is permitted.",declaringClass,ObjectUtils.nullSafeToString(value),ObjectUtils.nullSafeToString(basePackages));
    throw new AnnotationConfigurationException(msg);
  }
  if (!basePackagesDeclared) {
    basePackages=value;
  }
  return basePackages;
}
