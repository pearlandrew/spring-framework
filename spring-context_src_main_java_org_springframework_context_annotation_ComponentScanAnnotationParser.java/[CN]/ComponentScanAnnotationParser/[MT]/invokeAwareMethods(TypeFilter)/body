{
  if (filter instanceof Aware) {
    if (filter instanceof EnvironmentAware) {
      ((EnvironmentAware)filter).setEnvironment(this.environment);
    }
    if (filter instanceof ResourceLoaderAware) {
      ((ResourceLoaderAware)filter).setResourceLoader(this.resourceLoader);
    }
    if (filter instanceof BeanClassLoaderAware) {
      ClassLoader classLoader=(this.registry instanceof ConfigurableBeanFactory ? ((ConfigurableBeanFactory)this.registry).getBeanClassLoader() : this.resourceLoader.getClassLoader());
      ((BeanClassLoaderAware)filter).setBeanClassLoader(classLoader);
    }
    if (filter instanceof BeanFactoryAware && this.registry instanceof BeanFactory) {
      ((BeanFactoryAware)filter).setBeanFactory((BeanFactory)this.registry);
    }
  }
}
