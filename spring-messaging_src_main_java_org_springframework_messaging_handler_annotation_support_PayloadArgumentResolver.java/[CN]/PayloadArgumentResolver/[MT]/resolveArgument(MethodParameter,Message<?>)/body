{
  Payload annot=parameter.getParameterAnnotation(Payload.class);
  if ((annot != null) && StringUtils.hasText(annot.value())) {
    throw new IllegalStateException("@Payload SpEL expressions not supported by this resolver.");
  }
  Object target=getTargetPayload(parameter,message);
  if (annot != null && isEmptyPayload(target)) {
    if (annot.required()) {
      throw new MethodArgumentNotValidException(message,createPayloadRequiredExceptionMessage(parameter,target));
    }
 else {
      return null;
    }
  }
  if (annot != null) {
    validate(message,parameter,target);
  }
  return target;
}
