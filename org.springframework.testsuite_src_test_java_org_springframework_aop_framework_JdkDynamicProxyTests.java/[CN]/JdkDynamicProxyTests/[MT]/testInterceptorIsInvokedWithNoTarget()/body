{
  int age=25;
  MethodInterceptor mi=createMock(MethodInterceptor.class);
  AdvisedSupport pc=new AdvisedSupport(new Class[]{ITestBean.class});
  pc.addAdvice(mi);
  AopProxy aop=createAopProxy(pc);
  expect(mi.invoke(null)).andReturn(age);
  replay(mi);
  ITestBean tb=(ITestBean)aop.getProxy();
  assertTrue("correct return value",tb.getAge() == age);
  verify(mi);
}
