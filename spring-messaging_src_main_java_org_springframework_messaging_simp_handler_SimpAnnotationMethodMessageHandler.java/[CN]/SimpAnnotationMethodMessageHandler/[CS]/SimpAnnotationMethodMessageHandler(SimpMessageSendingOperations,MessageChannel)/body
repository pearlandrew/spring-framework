{
  Assert.notNull(brokerTemplate,"brokerTemplate is required");
  Assert.notNull(webSocketResponseChannel,"webSocketReplyChannel is required");
  this.brokerTemplate=brokerTemplate;
  this.webSocketResponseTemplate=new SimpMessagingTemplate(webSocketResponseChannel);
  Collection<MessageConverter> converters=new ArrayList<MessageConverter>();
  converters.add(new StringMessageConverter());
  converters.add(new ByteArrayMessageConverter());
  this.messageConverter=new CompositeMessageConverter(converters);
}
