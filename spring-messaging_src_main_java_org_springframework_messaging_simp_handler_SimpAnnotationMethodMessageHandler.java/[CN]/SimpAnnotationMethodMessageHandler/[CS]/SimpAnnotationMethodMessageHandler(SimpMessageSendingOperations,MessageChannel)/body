{
  Assert.notNull(brokerTemplate,"brokerTemplate is required");
  Assert.notNull(clientOutboundChannel,"clientOutboundChannel is required");
  this.brokerTemplate=brokerTemplate;
  this.clientMessagingTemplate=new SimpMessagingTemplate(clientOutboundChannel);
  Collection<MessageConverter> converters=new ArrayList<MessageConverter>();
  converters.add(new StringMessageConverter());
  converters.add(new ByteArrayMessageConverter());
  this.messageConverter=new CompositeMessageConverter(converters);
}
