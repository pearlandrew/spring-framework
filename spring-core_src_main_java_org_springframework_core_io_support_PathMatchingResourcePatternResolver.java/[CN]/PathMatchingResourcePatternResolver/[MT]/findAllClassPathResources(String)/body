{
  String path=location;
  if (path.startsWith("/")) {
    path=path.substring(1);
  }
  ClassLoader cl=getClassLoader();
  Enumeration<URL> resourceUrls=(cl != null ? cl.getResources(path) : ClassLoader.getSystemResources(path));
  Set<Resource> result=new LinkedHashSet<Resource>(16);
  while (resourceUrls.hasMoreElements()) {
    URL url=resourceUrls.nextElement();
    result.add(convertClassLoaderURL(url));
  }
  if ("".equals(path)) {
    addAllClassLoaderJarRoots(cl,result);
  }
  postProcessFindAllClassPathResourcesResult(location,result);
  return result.toArray(new Resource[result.size()]);
}
