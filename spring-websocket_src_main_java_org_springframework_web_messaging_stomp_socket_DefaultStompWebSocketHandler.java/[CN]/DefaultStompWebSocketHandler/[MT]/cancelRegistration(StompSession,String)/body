{
  String key=getSubscriptionReplyKey(session,subscriptionId);
  List<EventRegistration> list=this.registrationsBySession.get(session.getId());
  for (  EventRegistration registration : list) {
    if (registration.getRegistrationKey().equals(key)) {
      if (logger.isDebugEnabled()) {
        logger.debug("Cancelling subscription, key=" + key);
      }
      list.remove(registration);
      registration.cancel();
    }
  }
}
