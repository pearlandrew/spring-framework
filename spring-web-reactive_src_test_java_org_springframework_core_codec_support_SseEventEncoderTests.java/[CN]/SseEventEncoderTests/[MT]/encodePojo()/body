{
  SseEventEncoder encoder=new SseEventEncoder(Arrays.asList(new JacksonJsonEncoder()));
  Flux<Pojo> source=Flux.just(new Pojo("foofoo","barbar"),new Pojo("foofoofoo","barbarbar"));
  Flux<DataBuffer> output=encoder.encode(source,this.dataBufferFactory,ResolvableType.forClass(Pojo.class),new MimeType("text","event-stream"));
  TestSubscriber.subscribe(output).assertNoError().assertValuesWith(stringConsumer("data:"),stringConsumer("{\"foo\":\"foofoo\",\"bar\":\"barbar\"}"),stringConsumer("\n"),stringConsumer("\n"),stringConsumer("data:"),stringConsumer("{\"foo\":\"foofoofoo\",\"bar\":\"barbarbar\"}"),stringConsumer("\n"),stringConsumer("\n"));
}
