{
  String message=ex.getMessage();
  Exception linkedEx=ex.getLinkedException();
  if (linkedEx != null) {
    if (message == null) {
      message=linkedEx.toString();
    }
 else     if (!message.contains(linkedEx.getMessage())) {
      message=message + "; nested exception is " + linkedEx;
    }
  }
  return message;
}
