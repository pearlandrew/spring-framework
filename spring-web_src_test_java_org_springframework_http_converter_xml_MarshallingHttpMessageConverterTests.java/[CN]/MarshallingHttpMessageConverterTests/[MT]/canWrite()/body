{
  Marshaller marshaller=mock(Marshaller.class);
  when(marshaller.supports(Integer.class)).thenReturn(false);
  when(marshaller.supports(String.class)).thenReturn(true);
  MarshallingHttpMessageConverter converter=new MarshallingHttpMessageConverter();
  converter.setMarshaller(marshaller);
  assertFalse(converter.canWrite(Boolean.class,MediaType.TEXT_PLAIN));
  assertFalse(converter.canWrite(Integer.class,MediaType.TEXT_XML));
  assertTrue(converter.canWrite(String.class,MediaType.TEXT_XML));
}
