{
  String body="<root>Hello World</root>";
  MockHttpInputMessage inputMessage=new MockHttpInputMessage(body.getBytes("UTF-8"));
  Unmarshaller unmarshaller=mock(Unmarshaller.class);
  when(unmarshaller.unmarshal(isA(StreamSource.class))).thenReturn(body);
  MarshallingHttpMessageConverter converter=new MarshallingHttpMessageConverter();
  converter.setUnmarshaller(unmarshaller);
  String result=(String)converter.read(Object.class,inputMessage);
  assertEquals("Invalid result",body,result);
}
