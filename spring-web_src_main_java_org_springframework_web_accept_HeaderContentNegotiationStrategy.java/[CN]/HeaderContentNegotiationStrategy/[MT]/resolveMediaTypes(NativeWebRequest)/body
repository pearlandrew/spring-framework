{
  String acceptHeader=webRequest.getHeader(ACCEPT_HEADER);
  try {
    if (StringUtils.hasText(acceptHeader)) {
      List<MediaType> mediaTypes=MediaType.parseMediaTypes(acceptHeader);
      MediaType.sortBySpecificityAndQuality(mediaTypes);
      return mediaTypes;
    }
  }
 catch (  InvalidMediaTypeException ex) {
    throw new HttpMediaTypeNotAcceptableException("Could not parse accept header [" + acceptHeader + "]: "+ ex.getMessage());
  }
  return Collections.emptyList();
}
