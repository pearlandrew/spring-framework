{
  MockControl connectionFactoryControl=MockControl.createStrictControl(ConnectionFactory.class);
  ConnectionFactory connectionFactory=(ConnectionFactory)connectionFactoryControl.getMock();
  MockControl recordFactoryControl=MockControl.createStrictControl(RecordFactory.class);
  RecordFactory recordFactory=(RecordFactory)recordFactoryControl.getMock();
  MockControl mappedRecordControl=MockControl.createStrictControl(MappedRecord.class);
  MappedRecord mappedRecord=(MappedRecord)mappedRecordControl.getMock();
  connectionFactory.getRecordFactory();
  connectionFactoryControl.setReturnValue(recordFactory,1);
  recordFactory.createMappedRecord("name");
  recordFactoryControl.setReturnValue(mappedRecord,1);
  connectionFactoryControl.replay();
  recordFactoryControl.replay();
  CciTemplate ct=new CciTemplate(connectionFactory);
  ct.createMappedRecord("name");
  connectionFactoryControl.verify();
  recordFactoryControl.verify();
}
