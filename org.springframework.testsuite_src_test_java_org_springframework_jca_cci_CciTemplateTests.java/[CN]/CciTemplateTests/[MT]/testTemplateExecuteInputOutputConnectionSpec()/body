{
  MockControl connectionFactoryControl=MockControl.createStrictControl(ConnectionFactory.class);
  ConnectionFactory connectionFactory=(ConnectionFactory)connectionFactoryControl.getMock();
  MockControl connectionControl=MockControl.createStrictControl(Connection.class);
  Connection connection=(Connection)connectionControl.getMock();
  MockControl interactionControl=MockControl.createStrictControl(Interaction.class);
  Interaction interaction=(Interaction)interactionControl.getMock();
  MockControl inputRecordControl=MockControl.createStrictControl(Record.class);
  Record inputRecord=(Record)inputRecordControl.getMock();
  MockControl outputRecordControl=MockControl.createStrictControl(Record.class);
  Record outputRecord=(Record)outputRecordControl.getMock();
  MockControl connectionSpecControl=MockControl.createStrictControl(ConnectionSpec.class);
  ConnectionSpec connectionSpec=(ConnectionSpec)connectionSpecControl.getMock();
  MockControl interactionSpecControl=MockControl.createStrictControl(InteractionSpec.class);
  InteractionSpec interactionSpec=(InteractionSpec)interactionSpecControl.getMock();
  connectionFactory.getConnection(connectionSpec);
  connectionFactoryControl.setReturnValue(connection,1);
  connection.createInteraction();
  connectionControl.setReturnValue(interaction,1);
  interaction.execute(interactionSpec,inputRecord,outputRecord);
  interactionControl.setReturnValue(true,1);
  interaction.close();
  interactionControl.setVoidCallable(1);
  connection.close();
  connectionControl.setVoidCallable(1);
  connectionFactoryControl.replay();
  connectionControl.replay();
  interactionControl.replay();
  ConnectionSpecConnectionFactoryAdapter adapter=new ConnectionSpecConnectionFactoryAdapter();
  adapter.setTargetConnectionFactory(connectionFactory);
  adapter.setConnectionSpec(connectionSpec);
  CciTemplate ct=new CciTemplate(adapter);
  ct.execute(interactionSpec,inputRecord,outputRecord);
  connectionFactoryControl.verify();
  connectionControl.verify();
  interactionControl.verify();
}
