{
  Assert.isTrue(CorsUtils.isCorsRequest(request) && !CorsUtils.isPreFlightRequest(request));
  ServletServerHttpResponse serverResponse=new ServletServerHttpResponse(response);
  if (responseHasCors(serverResponse)) {
    return true;
  }
  ServletServerHttpRequest serverRequest=new ServletServerHttpRequest(request);
  if (handleInternal(serverRequest,serverResponse,config,false)) {
    serverResponse.flush();
    return true;
  }
  return false;
}
