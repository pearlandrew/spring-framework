{
  Assert.isTrue(CorsUtils.isPreFlightRequest(request));
  ServerHttpResponse serverResponse=new ServletServerHttpResponse(response);
  if (responseHasCors(serverResponse)) {
    return true;
  }
  ServerHttpRequest serverRequest=new ServletServerHttpRequest(request);
  if (handleInternal(serverRequest,serverResponse,config,true)) {
    serverResponse.flush();
    return true;
  }
  return false;
}
