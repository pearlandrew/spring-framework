{
  if (allowedMethods == null) {
    allowedMethods=Arrays.asList(HttpMethod.GET.name());
  }
  if (allowedMethods.contains("*")) {
    HttpMethod method=request.getHeaders().getAccessControlRequestMethod();
    response.getHeaders().setAccessControlAllowMethods(Arrays.asList(method));
  }
 else {
    List<HttpMethod> methods=new ArrayList<HttpMethod>();
    for (    String method : allowedMethods) {
      methods.add(HttpMethod.valueOf(method));
    }
    response.getHeaders().setAccessControlAllowMethods(methods);
  }
}
