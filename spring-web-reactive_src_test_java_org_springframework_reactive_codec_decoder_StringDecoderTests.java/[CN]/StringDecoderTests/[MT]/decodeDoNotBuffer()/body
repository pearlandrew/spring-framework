{
  StringDecoder decoder=new StringDecoder(false);
  Flux<ByteBuffer> source=Flux.just(Buffer.wrap("foo").byteBuffer(),Buffer.wrap("bar").byteBuffer());
  Flux<String> output=decoder.decode(source,ResolvableType.forClassWithGenerics(Flux.class,String.class),null);
  List<String> results=StreamSupport.stream(output.toIterable().spliterator(),false).collect(toList());
  assertEquals(2,results.size());
  assertEquals("foo",results.get(0));
  assertEquals("bar",results.get(1));
}
