{
  MockControl mockBeanFactory=MockControl.createControl(BeanFactory.class);
  final BeanFactory beanFactory=(BeanFactory)mockBeanFactory.getMock();
  mockBeanFactory.replay();
  new AssertThrows(FatalBeanException.class){
    public void test() throws Exception {
      ServiceLocatorFactoryBean factory=new ServiceLocatorFactoryBean();
      factory.setBeanFactory(beanFactory);
    }
  }
.runTest();
  mockBeanFactory.verify();
}
