{
  StaticApplicationContext ctx=new StaticApplicationContext();
  ctx.registerSingleton("testService",TestService.class,new MutablePropertyValues());
  MutablePropertyValues mpv=new MutablePropertyValues();
  mpv.addPropertyValue(new PropertyValue("serviceLocatorInterface",TestServiceLocator.class));
  ctx.registerSingleton("factory",ServiceLocatorFactoryBean.class,mpv);
  ctx.refresh();
  TestServiceLocator factory=(TestServiceLocator)ctx.getBean("factory");
  TestService testService=factory.getTestService();
  assertNotNull(testService);
}
