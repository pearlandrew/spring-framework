{
  bf.registerScope(WebApplicationContext.SCOPE_REQUEST,new RequestScope());
  bf.registerScope(WebApplicationContext.SCOPE_SESSION,new SessionScope(false));
  bf.registerScope(WebApplicationContext.SCOPE_GLOBAL_SESSION,new SessionScope(true));
  if (pc != null) {
    PortletContextScope appScope=new PortletContextScope(pc);
    bf.registerScope(WebApplicationContext.SCOPE_APPLICATION,appScope);
    pc.setAttribute(PortletContextScope.class.getName(),appScope);
  }
  bf.registerResolvableDependency(PortletRequest.class,new RequestObjectFactory());
  bf.registerResolvableDependency(PortletResponse.class,new ResponseObjectFactory());
  bf.registerResolvableDependency(PortletSession.class,new SessionObjectFactory());
  bf.registerResolvableDependency(WebRequest.class,new WebRequestObjectFactory());
}
