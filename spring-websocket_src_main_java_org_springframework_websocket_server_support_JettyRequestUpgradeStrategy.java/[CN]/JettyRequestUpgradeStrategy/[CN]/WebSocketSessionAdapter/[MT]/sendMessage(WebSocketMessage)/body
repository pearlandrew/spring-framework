{
  if (message instanceof BinaryMessage) {
    sendMessage((BinaryMessage)message);
  }
 else   if (message instanceof TextMessage) {
    sendMessage((TextMessage)message);
  }
 else {
    throw new IllegalArgumentException("Unsupported message type");
  }
}
