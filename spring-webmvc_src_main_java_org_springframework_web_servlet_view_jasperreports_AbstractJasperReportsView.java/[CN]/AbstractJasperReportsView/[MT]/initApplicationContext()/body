{
  this.report=loadReport();
  if (this.subReportUrls != null) {
    if (this.subReportDataKeys != null && this.subReportDataKeys.length > 0 && this.reportDataKey == null) {
      throw new ApplicationContextException("'reportDataKey' for main report is required when specifying a value for 'subReportDataKeys'");
    }
    this.subReports=new HashMap<String,JasperReport>(this.subReportUrls.size());
    for (Enumeration urls=this.subReportUrls.propertyNames(); urls.hasMoreElements(); ) {
      String key=(String)urls.nextElement();
      String path=this.subReportUrls.getProperty(key);
      Resource resource=getApplicationContext().getResource(path);
      this.subReports.put(key,loadReport(resource));
    }
  }
  convertExporterParameters();
  if (this.headers == null) {
    this.headers=new Properties();
  }
  if (!this.headers.containsKey(HEADER_CONTENT_DISPOSITION)) {
    this.headers.setProperty(HEADER_CONTENT_DISPOSITION,CONTENT_DISPOSITION_INLINE);
  }
  onInit();
}
