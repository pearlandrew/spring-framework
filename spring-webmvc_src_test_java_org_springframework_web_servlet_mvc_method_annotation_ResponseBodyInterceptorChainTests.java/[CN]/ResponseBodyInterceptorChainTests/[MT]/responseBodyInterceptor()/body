{
  @SuppressWarnings("unchecked") ResponseBodyInterceptor<String> interceptor=Mockito.mock(ResponseBodyInterceptor.class);
  ResponseBodyInterceptorChain chain=new ResponseBodyInterceptorChain(Arrays.asList(interceptor));
  String expected="body++";
  when(interceptor.supports(this.returnType,this.converterType)).thenReturn(true);
  when(interceptor.beforeBodyWrite(eq(this.body),eq(this.returnType),eq(this.contentType),eq(this.converterType),same(this.request),same(this.response))).thenReturn(expected);
  String actual=chain.invoke(this.body,this.returnType,this.contentType,this.converterType,this.request,this.response);
  assertEquals(expected,actual);
}
