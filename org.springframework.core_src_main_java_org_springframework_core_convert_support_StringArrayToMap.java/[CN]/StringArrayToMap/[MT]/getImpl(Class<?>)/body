{
  if (targetClass.isInterface()) {
    if (Map.class.equals(targetClass)) {
      return HashMap.class;
    }
 else     if (SortedMap.class.equals(targetClass)) {
      return TreeMap.class;
    }
 else {
      throw new IllegalArgumentException("Unsupported Map interface [" + targetClass.getName() + "]");
    }
  }
 else {
    return targetClass;
  }
}
