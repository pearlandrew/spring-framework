{
  SubscribableChannel channel=this.cxtStompBroker.getBean("webSocketRequestChannel",SubscribableChannel.class);
  ArgumentCaptor<MessageHandler> captor=ArgumentCaptor.forClass(MessageHandler.class);
  verify(channel,times(3)).subscribe(captor.capture());
  List<MessageHandler> values=captor.getAllValues();
  assertEquals(3,values.size());
  assertTrue(values.contains(cxtStompBroker.getBean(SimpAnnotationMethodMessageHandler.class)));
  assertTrue(values.contains(cxtStompBroker.getBean(UserDestinationMessageHandler.class)));
  assertTrue(values.contains(cxtStompBroker.getBean(StompBrokerRelayMessageHandler.class)));
}
