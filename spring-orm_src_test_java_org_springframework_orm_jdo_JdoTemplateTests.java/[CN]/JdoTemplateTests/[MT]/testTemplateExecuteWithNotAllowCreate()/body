{
  JdoTemplate jt=new JdoTemplate();
  jt.setPersistenceManagerFactory(pmf);
  jt.setAllowCreate(false);
  try {
    jt.execute(new JdoCallback(){
      public Object doInJdo(      PersistenceManager pm){
        return null;
      }
    }
);
    fail("Should have thrown IllegalStateException");
  }
 catch (  IllegalStateException ex) {
  }
}
