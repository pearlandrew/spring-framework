{
  Query query=mock(Query.class);
  given(pmf.getPersistenceManager()).willReturn(pm);
  given(pm.newQuery(String.class,"a == b")).willReturn(query);
  Object[] values=new Object[0];
  Collection coll=new HashSet();
  given(query.executeWithArray(values)).willReturn(coll);
  JdoTemplate jt=new JdoTemplate(pmf);
  assertEquals(coll,jt.find(String.class,"a == b","params",values,"c asc"));
  verify(query).declareParameters("params");
  verify(query).setOrdering("c asc");
  verify(pm).close();
}
