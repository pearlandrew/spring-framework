{
  String annotType=RequestMapping.class.getName();
  AnnotationAttributes attrs=AnnotatedElementUtils.findAnnotationAttributes(method,annotType);
  if (attrs == null) {
    throw new IllegalArgumentException("No @RequestMapping on: " + method.toGenericString());
  }
  String[] paths=attrs.getStringArray("path");
  paths=ObjectUtils.isEmpty(paths) ? attrs.getStringArray("value") : paths;
  if (ObjectUtils.isEmpty(paths) || StringUtils.isEmpty(paths[0])) {
    return "/";
  }
  if (paths.length > 1 && logger.isWarnEnabled()) {
    logger.warn("Multiple paths on method " + method.toGenericString() + ", using first one");
  }
  return paths[0];
}
