{
  if (builder != null) {
    builder=(UriComponentsBuilder)builder.clone();
  }
 else {
    builder=ServletUriComponentsBuilder.fromCurrentServletMapping();
  }
  String typePath=getTypeRequestMapping(method.getDeclaringClass());
  String methodPath=getMethodRequestMapping(method);
  String path=pathMatcher.combine(typePath,methodPath);
  builder.path(path);
  UriComponents uriComponents=applyContributors(builder,method,args);
  return UriComponentsBuilder.newInstance().uriComponents(uriComponents);
}
