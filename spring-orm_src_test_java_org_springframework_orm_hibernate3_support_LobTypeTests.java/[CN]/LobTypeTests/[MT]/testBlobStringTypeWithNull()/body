{
  given(lobHandler.getBlobAsBytes(rs,"column")).willReturn(null);
  BlobStringType type=new BlobStringType(lobHandler,null);
  assertEquals(null,type.nullSafeGet(rs,new String[]{"column"},null));
  TransactionSynchronizationManager.initSynchronization();
  try {
    type.nullSafeSet(ps,null,1);
    List synchs=TransactionSynchronizationManager.getSynchronizations();
    assertEquals(1,synchs.size());
    ((TransactionSynchronization)synchs.get(0)).beforeCompletion();
  }
  finally {
    TransactionSynchronizationManager.clearSynchronization();
  }
  verify(lobCreator).setBlobAsBytes(ps,1,null);
}
