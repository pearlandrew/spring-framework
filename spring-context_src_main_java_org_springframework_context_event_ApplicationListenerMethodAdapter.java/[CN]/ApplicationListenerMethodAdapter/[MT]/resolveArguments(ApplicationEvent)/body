{
  if (!ApplicationEvent.class.isAssignableFrom(this.declaredEventType.getRawClass()) && event instanceof PayloadApplicationEvent) {
    PayloadApplicationEvent<?> payloadEvent=(PayloadApplicationEvent<?>)event;
    ResolvableType payloadType=payloadEvent.getResolvableType().as(PayloadApplicationEvent.class).getGeneric(0);
    if (this.declaredEventType.isAssignableFrom(payloadType)) {
      return new Object[]{payloadEvent.getPayload()};
    }
  }
 else {
    return new Object[]{event};
  }
  return null;
}
