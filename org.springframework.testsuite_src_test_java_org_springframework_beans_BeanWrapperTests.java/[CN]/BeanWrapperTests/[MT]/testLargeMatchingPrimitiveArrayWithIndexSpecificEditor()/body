{
  PrimitiveArrayBean tb=new PrimitiveArrayBean();
  BeanWrapper bw=new BeanWrapperImpl(tb);
  bw.registerCustomEditor(int.class,"array[1]",new PropertyEditorSupport(){
    public void setValue(    Object value){
      if (value instanceof Integer) {
        super.setValue(new Integer(((Integer)value).intValue() + 1));
      }
    }
  }
);
  int[] input=new int[1024];
  bw.setPropertyValue("array",input);
  assertEquals(1024,tb.getArray().length);
  assertEquals(0,tb.getArray()[0]);
  assertEquals(1,tb.getArray()[1]);
}
