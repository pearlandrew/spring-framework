{
  Map<String,Object> model=new HashMap<String,Object>();
  model.put("bindingResult",mock(BindingResult.class,"binding_result"));
  model.put("foo","bar");
  view.setUpdateContentLength(true);
  view.render(model,request,response);
  assertEquals("no-cache",response.getHeader("Pragma"));
  assertEquals("no-cache, no-store, max-age=0",response.getHeader("Cache-Control"));
  assertNotNull(response.getHeader("Expires"));
  assertEquals(MappingJackson2JsonView.DEFAULT_CONTENT_TYPE,response.getContentType());
  String jsonResult=response.getContentAsString();
  assertTrue(jsonResult.length() > 0);
  assertEquals(jsonResult.length(),response.getContentLength());
  validateResult();
}
