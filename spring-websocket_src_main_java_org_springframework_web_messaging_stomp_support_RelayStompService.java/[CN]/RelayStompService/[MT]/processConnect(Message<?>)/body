{
  String sessionId=(String)message.getHeaders().get("sessionId");
  RelaySession session=new RelaySession();
  this.relaySessions.put(sessionId,session);
  try {
    Socket socket=SocketFactory.getDefault().createSocket("127.0.0.1",61613);
    session.setSocket(socket);
    forwardMessage(message,StompCommand.CONNECT);
    String replyTo=(String)message.getHeaders().getReplyChannel();
    RelayReadTask readTask=new RelayReadTask(sessionId,replyTo,session);
    this.taskExecutor.execute(readTask);
  }
 catch (  Throwable t) {
    t.printStackTrace();
    clearRelaySession(sessionId);
  }
}
