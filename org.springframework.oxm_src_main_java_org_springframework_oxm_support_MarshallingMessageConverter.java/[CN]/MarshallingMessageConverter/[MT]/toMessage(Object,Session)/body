{
  try {
switch (marshalTo) {
case MARSHAL_TO_TEXT_MESSAGE:
      return marshalToTextMessage(object,session,marshaller);
case MARSHAL_TO_BYTES_MESSAGE:
    return marshalToBytesMessage(object,session,marshaller);
default :
  return marshalToMessage(object,session,marshaller);
}
}
 catch (MarshallingFailureException ex) {
throw new MessageConversionException("Could not marshal [" + object + "]",ex);
}
catch (IOException ex) {
throw new MessageConversionException("Could not marshal  [" + object + "]",ex);
}
}
