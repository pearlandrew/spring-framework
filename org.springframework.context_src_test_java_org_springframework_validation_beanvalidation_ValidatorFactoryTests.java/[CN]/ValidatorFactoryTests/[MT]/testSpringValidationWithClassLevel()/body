{
  LocalValidatorFactoryBean validator=new LocalValidatorFactoryBean();
  validator.afterPropertiesSet();
  ValidPerson person=new ValidPerson();
  person.setName("Juergen");
  person.getAddress().setStreet("Juergen's Street");
  BeanPropertyBindingResult result=new BeanPropertyBindingResult(person,"person");
  validator.validate(person,result);
  assertEquals(1,result.getErrorCount());
  ObjectError fieldError=result.getGlobalError();
  System.out.println(Arrays.asList(fieldError.getCodes()));
  System.out.println(fieldError.getDefaultMessage());
}
