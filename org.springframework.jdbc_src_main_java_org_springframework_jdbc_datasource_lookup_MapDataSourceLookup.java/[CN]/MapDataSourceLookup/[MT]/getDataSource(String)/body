{
  Assert.notNull(dataSourceName,"DataSource name must not be null");
  Object value=this.dataSources.get(dataSourceName);
  if (value == null) {
    throw new DataSourceLookupFailureException("No DataSource with name '" + dataSourceName + "' registered");
  }
  if (!(value instanceof DataSource)) {
    throw new DataSourceLookupFailureException("The object [" + value + "] with name '"+ dataSourceName+ "' in the DataSource map is not a [javax.sql.DataSource]");
  }
  return (DataSource)value;
}
