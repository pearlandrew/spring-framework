{
  Assert.state((this.cacheResolver != null && this.exceptionCacheResolver != null) || this.cacheManager != null,"'cacheManager' is required if cache resolvers are not set.");
  Assert.state(this.applicationContext != null,"The application context was not injected as it should.");
  this.adaptedKeyGenerator=new KeyGeneratorAdapter(this,this.keyGenerator);
  if (this.cacheResolver == null) {
    this.cacheResolver=new SimpleCacheResolver(this.cacheManager);
  }
  if (this.exceptionCacheResolver == null) {
    this.exceptionCacheResolver=new SimpleExceptionCacheResolver(this.cacheManager);
  }
}
