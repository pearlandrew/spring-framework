{
  Assert.state((cacheResolver != null && exceptionCacheResolver != null) || cacheManager != null,"'cacheManager' is required if cache resolvers are not set.");
  Assert.state(this.applicationContext != null,"The application context was not injected as it should.");
  if (keyGenerator == null) {
    keyGenerator=new KeyGeneratorAdapter(this,new SimpleCacheKeyGenerator());
  }
  if (cacheResolver == null) {
    cacheResolver=new SimpleCacheResolver(cacheManager);
  }
  if (exceptionCacheResolver == null) {
    exceptionCacheResolver=new SimpleExceptionCacheResolver(cacheManager);
  }
}
