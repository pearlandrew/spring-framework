{
  ObjectName objectName=ObjectNameManager.getInstance(OBJECT_NAME);
  Person preRegistered=new Person();
  preRegistered.setName("Rob Harrop");
  server.registerMBean(preRegistered,objectName);
  Person springRegistered=new Person();
  springRegistered.setName("Sally Greenwood");
  String objectName2="spring:test=equalBean";
  Map beans=new HashMap();
  beans.put(objectName.toString(),springRegistered);
  beans.put(objectName2,springRegistered);
  MBeanExporter exporter=new MBeanExporter();
  exporter.setServer(server);
  exporter.setBeans(beans);
  exporter.setRegistrationBehavior(MBeanExporter.REGISTRATION_IGNORE_EXISTING);
  exporter.afterPropertiesSet();
  ObjectInstance instance=server.getObjectInstance(objectName);
  assertNotNull(instance);
  ObjectInstance instance2=server.getObjectInstance(new ObjectName(objectName2));
  assertNotNull(instance2);
  assertEquals("Rob Harrop",server.getAttribute(objectName,"Name"));
}
