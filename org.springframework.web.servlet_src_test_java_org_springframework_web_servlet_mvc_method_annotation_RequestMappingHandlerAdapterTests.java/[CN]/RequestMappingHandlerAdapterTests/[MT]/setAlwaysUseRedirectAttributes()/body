{
  HandlerMethodArgumentResolver redirectAttributesResolver=new RedirectAttributesMethodArgumentResolver();
  HandlerMethodArgumentResolver modelResolver=new ModelMethodProcessor();
  HandlerMethodReturnValueHandler viewHandler=new ViewMethodReturnValueHandler();
  handlerAdapter.setArgumentResolvers(Arrays.asList(redirectAttributesResolver,modelResolver));
  handlerAdapter.setReturnValueHandlers(Arrays.asList(viewHandler));
  handlerAdapter.setAlwaysUseRedirectAttributes(true);
  handlerAdapter.afterPropertiesSet();
  request.setAttribute(FlashMapManager.OUTPUT_FLASH_MAP_ATTRIBUTE,new FlashMap());
  HandlerMethod handlerMethod=handlerMethod(new RedirectAttributeHandler(),"handle",Model.class);
  ModelAndView mav=handlerAdapter.handle(request,response,handlerMethod);
  assertTrue("No redirect attributes added, model should be empty",mav.getModel().isEmpty());
}
