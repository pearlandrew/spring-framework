{
  URL url=getURL();
  if (ResourceUtils.isJarURL(url)) {
    URL actualUrl=ResourceUtils.extractJarFileURL(url);
    if (actualUrl.getProtocol().startsWith(ResourceUtils.URL_PROTOCOL_VFS)) {
      return VfsResourceDelegate.getResource(actualUrl).getFile();
    }
    return ResourceUtils.getFile(actualUrl,"Jar URL");
  }
 else {
    return getFile();
  }
}
