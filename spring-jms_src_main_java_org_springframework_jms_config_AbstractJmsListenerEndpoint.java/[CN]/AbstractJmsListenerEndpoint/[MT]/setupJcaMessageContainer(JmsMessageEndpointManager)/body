{
  JmsActivationSpecConfig activationSpecConfig=container.getActivationSpecConfig();
  if (activationSpecConfig == null) {
    activationSpecConfig=new JmsActivationSpecConfig();
    container.setActivationSpecConfig(activationSpecConfig);
  }
  if (getDestination() != null) {
    activationSpecConfig.setDestinationName(getDestination());
  }
  if (getSubscription() != null) {
    activationSpecConfig.setDurableSubscriptionName(getSubscription());
  }
  if (getSelector() != null) {
    activationSpecConfig.setMessageSelector(getSelector());
  }
  activationSpecConfig.setPubSubDomain(!isQueue());
  setupMessageListener(container);
}
