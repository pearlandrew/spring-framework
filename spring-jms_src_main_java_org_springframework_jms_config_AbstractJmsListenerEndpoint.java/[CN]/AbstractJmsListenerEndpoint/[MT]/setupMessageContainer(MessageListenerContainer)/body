{
  if (container instanceof AbstractMessageListenerContainer) {
    setupJmsMessageContainer((AbstractMessageListenerContainer)container);
  }
 else   if (container instanceof JmsMessageEndpointManager) {
    setupJcaMessageContainer((JmsMessageEndpointManager)container);
  }
 else {
    throw new IllegalArgumentException("Could not configure endpoint with the specified container '" + container + "' Only JMS ("+ AbstractMessageListenerContainer.class.getName()+ " subclass) or JCA ("+ JmsMessageEndpointManager.class.getName()+ ") are supported.");
  }
}
