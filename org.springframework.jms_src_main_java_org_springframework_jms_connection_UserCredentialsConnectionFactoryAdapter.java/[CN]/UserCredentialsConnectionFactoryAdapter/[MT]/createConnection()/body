{
  JmsUserCredentials threadCredentials=(JmsUserCredentials)this.threadBoundCredentials.get();
  if (threadCredentials != null) {
    return doCreateConnection(threadCredentials.username,threadCredentials.password);
  }
 else {
    return doCreateConnection(this.username,this.password);
  }
}
