{
  BeanDefinitionRegistry configBeanDefs=getConfigurationBeanDefinitions(false);
  if (configBeanDefs.getBeanDefinitionCount() == 0)   return configBeanDefs;
  ConfigurationClassParser parser=createConfigurationParser();
  for (  String beanName : configBeanDefs.getBeanDefinitionNames()) {
    BeanDefinition beanDef=configBeanDefs.getBeanDefinition(beanName);
    String className=beanDef.getBeanClassName();
    parser.parse(className,beanName);
  }
  ConfigurationModel configModel=parser.getConfigurationModel();
  configModel.validate(problemReporter);
  return new ConfigurationModelBeanDefinitionReader().loadBeanDefinitions(configModel);
}
