{
  String beanName=method.getName();
  Bean bean=AnnotationUtils.findAnnotation(method,Bean.class);
  if (bean != null && bean.name().length > 0) {
    beanName=bean.name()[0];
  }
  Scope scope=AnnotationUtils.findAnnotation(method,Scope.class);
  if (scope != null && scope.proxyMode() != ScopedProxyMode.NO) {
    String scopedBeanName=ScopedProxyCreator.getTargetBeanName(beanName);
    if (this.beanFactory.isCurrentlyInCreation(scopedBeanName)) {
      beanName=scopedBeanName;
    }
  }
  if (factoryContainsBean(beanName)) {
    return this.beanFactory.getBean(beanName);
  }
  return proxy.invokeSuper(obj,args);
}
