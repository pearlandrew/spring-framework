{
  FlashMap flashMap=new FlashMap();
  flashMap.put("name","value");
  flashMap.addTargetRequestParam("id","1");
  flashMap.addTargetRequestParam("id","2");
  this.flashMapManager.setFlashMaps(flashMap);
  this.request.setParameter("id","1");
  Map<String,?> inputFlashMap=this.flashMapManager.getFlashMapForRequest(this.request);
  assertNull(inputFlashMap);
  assertEquals("FlashMap should not have been removed",1,this.flashMapManager.getFlashMaps().size());
  this.request.addParameter("id","2");
  inputFlashMap=this.flashMapManager.getFlashMapForRequest(this.request);
  assertEquals(flashMap,inputFlashMap);
  assertEquals("Input FlashMap should have been removed",0,this.flashMapManager.getFlashMaps().size());
}
