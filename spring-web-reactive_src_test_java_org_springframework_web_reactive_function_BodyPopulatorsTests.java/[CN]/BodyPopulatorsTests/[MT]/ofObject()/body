{
  String body="foo";
  BodyPopulator<String> populator=BodyPopulators.fromObject(body);
  assertEquals(body,populator.supplier().get());
  BiFunction<ServerHttpResponse,Configuration,Mono<Void>> writer=populator.writer();
  MockServerHttpResponse response=new MockServerHttpResponse();
  Mono<Void> result=writer.apply(response,Configuration.builder().build());
  TestSubscriber.subscribe(result).assertComplete();
  ByteBuffer byteBuffer=ByteBuffer.wrap(body.getBytes(UTF_8));
  DataBuffer buffer=new DefaultDataBufferFactory().wrap(byteBuffer);
  TestSubscriber.subscribe(response.getBody()).assertComplete().assertValues(buffer);
}
