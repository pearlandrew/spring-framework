{
  TypedValue o=state.lookupVariable(name);
  if (o == null) {
    throw new SpelException(SpelMessages.FUNCTION_NOT_DEFINED,name);
  }
  if (!(o.getValue() instanceof Method)) {
    throw new SpelException(SpelMessages.FUNCTION_REFERENCE_CANNOT_BE_INVOKED,name,o.getClass());
  }
  return executeFunctionJLRMethod(state,(Method)o.getValue());
}
