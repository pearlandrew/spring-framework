{
  DefaultListableBeanFactory factory=initBeanFactory(ConfigWithPrototypeBean.class,AdaptiveInjectionPoints.class);
  AutowiredAnnotationBeanPostProcessor aabpp=new AutowiredAnnotationBeanPostProcessor();
  aabpp.setBeanFactory(factory);
  factory.setAutowireCandidateResolver(new QualifierAnnotationAutowireCandidateResolver());
  factory.addBeanPostProcessor(aabpp);
  AdaptiveInjectionPoints adaptive=factory.getBean(AdaptiveInjectionPoints.class);
  assertEquals("adaptiveInjectionPoint1",adaptive.adaptiveInjectionPoint1.getName());
  assertEquals("adaptiveInjectionPoint2",adaptive.adaptiveInjectionPoint2.getName());
}
