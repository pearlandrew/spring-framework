{
  Assert.notNull(key,"'key' must not be null");
  Assert.notNull(handlerMethod,"'handlerMethod' must not be null");
  HandlerMethod mappedHandlerMethod=handlerMethods.get(key);
  if (mappedHandlerMethod != null && !mappedHandlerMethod.equals(handlerMethod)) {
    throw new IllegalStateException("Ambiguous mapping found. Cannot map '" + handlerMethod.getBean() + "' bean method \n"+ handlerMethod+ "\nto "+ key+ ": There is already '"+ mappedHandlerMethod.getBean()+ "' bean method\n"+ mappedHandlerMethod+ " mapped.");
  }
  handlerMethods.put(key,handlerMethod);
  if (logger.isInfoEnabled()) {
    logger.info("Mapped \"" + key + "\" onto "+ handlerMethod);
  }
}
