{
  Assert.notNull(key,"'key' must not be null");
  Assert.notNull(handlerMethod,"'handlerMethod' must not be null");
  HandlerMethod mappedHandlerMethod=handlerMethods.get(key);
  if (mappedHandlerMethod != null && !mappedHandlerMethod.equals(handlerMethod)) {
    throw new IllegalStateException("Cannot map " + handlerMethod + " to \""+ key+ "\": There is already "+ mappedHandlerMethod+ " mapped.");
  }
  handlerMethods.put(key,handlerMethod);
  if (logger.isDebugEnabled()) {
    logger.debug("Mapped \"" + key + "\" onto "+ handlerMethod);
  }
}
