{
  String destinationName=config.getDestinationName();
  boolean pubSubDomain=config.isPubSubDomain();
  Object destination=destinationName;
  if (this.destinationResolver != null) {
    try {
      destination=this.destinationResolver.resolveDestinationName(null,destinationName,pubSubDomain);
    }
 catch (    JMSException ex) {
      throw new DestinationResolutionException("Cannot resolve destination name [" + destinationName + "]",ex);
    }
  }
  bw.setPropertyValue("destination",destination);
  bw.setPropertyValue("destinationType",pubSubDomain ? Topic.class.getName() : Queue.class.getName());
  if (bw.isWritableProperty("subscriptionDurability")) {
    bw.setPropertyValue("subscriptionDurability",config.isSubscriptionDurable() ? "Durable" : "NonDurable");
  }
 else   if (config.isSubscriptionDurable()) {
    throw new IllegalArgumentException("Durable subscriptions not supported by underlying provider: " + this.activationSpecClass.getName());
  }
  if (config.getDurableSubscriptionName() != null) {
    bw.setPropertyValue("subscriptionName",config.getDurableSubscriptionName());
  }
  if (config.getClientId() != null) {
    bw.setPropertyValue("clientId",config.getClientId());
  }
  if (config.getMessageSelector() != null) {
    bw.setPropertyValue("messageSelector",config.getMessageSelector());
  }
  applyAcknowledgeMode(bw,config.getAcknowledgeMode());
}
