{
  MockHttpServletRequest request=new MockHttpServletRequest("GET","/content");
  request.addHeader("Accept","application/xml");
  this.handlerMapping.getHandler(request);
  assertEquals(Collections.singleton(MediaType.APPLICATION_XML),request.getAttribute(HandlerMapping.PRODUCIBLE_MEDIA_TYPES_ATTRIBUTE));
  request=new MockHttpServletRequest("GET","/content");
  request.addHeader("Accept","application/json");
  this.handlerMapping.getHandler(request);
  assertNull("Negated expression should not be listed as a producible type",request.getAttribute(HandlerMapping.PRODUCIBLE_MEDIA_TYPES_ATTRIBUTE));
}
