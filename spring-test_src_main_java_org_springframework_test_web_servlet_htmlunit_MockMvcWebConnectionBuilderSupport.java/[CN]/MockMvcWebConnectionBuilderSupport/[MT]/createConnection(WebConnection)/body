{
  Assert.notNull(defaultConnection,"Default WebConnection must not be null");
  MockMvcWebConnection mockMvcWebConnection=new MockMvcWebConnection(this.mockMvc,this.contextPath);
  if (this.alwaysUseMockMvc) {
    return mockMvcWebConnection;
  }
  List<DelegatingWebConnection.DelegateWebConnection> delegates=new ArrayList<DelegatingWebConnection.DelegateWebConnection>(this.mockMvcRequestMatchers.size());
  for (  WebRequestMatcher matcher : this.mockMvcRequestMatchers) {
    delegates.add(new DelegatingWebConnection.DelegateWebConnection(matcher,mockMvcWebConnection));
  }
  return new DelegatingWebConnection(defaultConnection,delegates);
}
