{
  List<ProducesRequestCondition.ProduceRequestCondition> allConditions=parseAcceptHeaders(headers);
  boolean headersHasAccept=!allConditions.isEmpty();
  boolean producesHasDefaultValue=produces.length == 1 && produces[0].equals("*/*");
  if (!headersHasAccept || !producesHasDefaultValue) {
    for (    String produce : produces) {
      allConditions.add(new ProducesRequestCondition.ProduceRequestCondition(produce));
    }
  }
  return new ProducesRequestCondition(allConditions);
}
