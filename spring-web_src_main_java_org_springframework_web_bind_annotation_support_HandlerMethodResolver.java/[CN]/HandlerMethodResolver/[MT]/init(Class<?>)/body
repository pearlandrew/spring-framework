{
  Set<Class<?>> handlerTypes=new LinkedHashSet<Class<?>>();
  Class<?> specificHandlerType=null;
  if (!Proxy.isProxyClass(handlerType)) {
    handlerTypes.add(handlerType);
    specificHandlerType=handlerType;
  }
  handlerTypes.addAll(Arrays.asList(handlerType.getInterfaces()));
  for (  Class<?> currentHandlerType : handlerTypes) {
    final Class<?> targetClass=(specificHandlerType != null ? specificHandlerType : currentHandlerType);
    ReflectionUtils.doWithMethods(currentHandlerType,new ReflectionUtils.MethodCallback(){
      @Override public void doWith(      Method method){
        Method specificMethod=ClassUtils.getMostSpecificMethod(method,targetClass);
        Method bridgedMethod=BridgeMethodResolver.findBridgedMethod(specificMethod);
        if (isHandlerMethod(specificMethod) && (bridgedMethod == specificMethod || !isHandlerMethod(bridgedMethod))) {
          handlerMethods.add(specificMethod);
        }
 else         if (isInitBinderMethod(specificMethod) && (bridgedMethod == specificMethod || !isInitBinderMethod(bridgedMethod))) {
          initBinderMethods.add(specificMethod);
        }
 else         if (isModelAttributeMethod(specificMethod) && (bridgedMethod == specificMethod || !isModelAttributeMethod(bridgedMethod))) {
          modelAttributeMethods.add(specificMethod);
        }
      }
    }
,ReflectionUtils.USER_DECLARED_METHODS);
  }
  this.typeLevelMapping=AnnotationUtils.findAnnotation(handlerType,RequestMapping.class);
  SessionAttributes sessionAttributes=AnnotationUtils.findAnnotation(handlerType,SessionAttributes.class);
  this.sessionAttributesFound=(sessionAttributes != null);
  if (this.sessionAttributesFound) {
    this.sessionAttributeNames.addAll(Arrays.asList(sessionAttributes.names()));
    this.sessionAttributeTypes.addAll(Arrays.asList(sessionAttributes.types()));
  }
}
