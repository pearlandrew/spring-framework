{
  Assert.isAssignable(HttpEntity.class,parameter.getParameterType());
  ParameterizedType type=(ParameterizedType)parameter.getGenericParameterType();
  if (type.getActualTypeArguments().length == 1) {
    return type.getActualTypeArguments()[0];
  }
  throw new IllegalArgumentException("HttpEntity parameter (" + parameter.getParameterName() + ") in method "+ parameter.getMethod()+ " is not parameterized or has more than one parameter");
}
