{
  if (target == null) {
    return false;
  }
  Class<?> type=(target instanceof Class ? (Class<?>)target : target.getClass());
  if (this.writerCache == null) {
    this.writerCache=new ConcurrentHashMap<CacheKey,Member>();
    if (this.typeDescriptorCache == null) {
      this.typeDescriptorCache=new ConcurrentHashMap<CacheKey,TypeDescriptor>();
    }
  }
  CacheKey cacheKey=new CacheKey(type,name);
  if (this.writerCache.containsKey(cacheKey)) {
    return true;
  }
  Method method=findSetterForProperty(name,type,target instanceof Class);
  if (method != null) {
    PropertyDescriptor propertyDescriptor=null;
    try {
      propertyDescriptor=new PropertyDescriptor(name,null,method);
    }
 catch (    IntrospectionException ex) {
      throw new AccessException("Unable to access property '" + name + "' through setter "+ method,ex);
    }
    MethodParameter mp=new MethodParameter(method,0);
    TypeDescriptor typeDescriptor=new PropertyTypeDescriptor(propertyDescriptor,mp);
    this.writerCache.put(cacheKey,method);
    this.typeDescriptorCache.put(cacheKey,typeDescriptor);
    return true;
  }
 else {
    Field field=findField(name,type,target instanceof Class);
    if (field != null) {
      this.writerCache.put(cacheKey,field);
      this.typeDescriptorCache.put(cacheKey,new TypeDescriptor(field));
      return true;
    }
  }
  return false;
}
