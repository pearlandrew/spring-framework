{
  Class<?> type=this.beanFactory.getType(this.name);
  if (type != null) {
    if (Ordered.class.isAssignableFrom(type) && this.beanFactory.isSingleton(this.name)) {
      return ((Ordered)this.beanFactory.getBean(this.name)).getOrder();
    }
    Order order=AnnotationUtils.findAnnotation(type,Order.class);
    if (order != null) {
      return order.value();
    }
  }
  return Ordered.LOWEST_PRECEDENCE;
}
