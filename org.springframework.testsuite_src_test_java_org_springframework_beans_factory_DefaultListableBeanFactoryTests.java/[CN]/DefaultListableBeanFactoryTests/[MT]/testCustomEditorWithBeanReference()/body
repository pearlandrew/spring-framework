{
  DefaultListableBeanFactory lbf=new DefaultListableBeanFactory();
  NumberFormat nf=NumberFormat.getInstance(Locale.GERMAN);
  lbf.registerCustomEditor(Float.class,new CustomNumberEditor(Float.class,nf,true));
  MutablePropertyValues pvs=new MutablePropertyValues();
  pvs.addPropertyValue("myFloat",new RuntimeBeanReference("myFloat"));
  lbf.registerBeanDefinition("testBean",new RootBeanDefinition(TestBean.class,pvs));
  lbf.registerSingleton("myFloat","1,1");
  TestBean testBean=(TestBean)lbf.getBean("testBean");
  assertTrue(testBean.getMyFloat().floatValue() == 1.1f);
}
