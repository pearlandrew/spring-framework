{
  String environmentValue=profileValueSource.get(ifProfileValue.name());
  String[] annotatedValues=ifProfileValue.values();
  if (StringUtils.hasLength(ifProfileValue.value())) {
    if (annotatedValues.length > 0) {
      throw new IllegalArgumentException("Setting both the 'value' and 'values' attributes " + "of @IfProfileValue is not allowed: choose one or the other.");
    }
    annotatedValues=new String[]{ifProfileValue.value()};
  }
  for (  String value : annotatedValues) {
    if (ObjectUtils.nullSafeEquals(value,environmentValue)) {
      return true;
    }
  }
  return false;
}
