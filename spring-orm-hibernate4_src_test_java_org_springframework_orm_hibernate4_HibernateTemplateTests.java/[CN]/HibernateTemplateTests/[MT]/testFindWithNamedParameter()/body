{
  Query query=mock(Query.class);
  List list=new ArrayList();
  given(session.createQuery("some query string")).willReturn(query);
  given(query.setParameter("myparam","myvalue")).willReturn(query);
  given(query.list()).willReturn(list);
  List result=hibernateTemplate.findByNamedParam("some query string","myparam","myvalue");
  assertTrue("Correct list",result == list);
  verify(query).setParameter("myparam","myvalue");
}
