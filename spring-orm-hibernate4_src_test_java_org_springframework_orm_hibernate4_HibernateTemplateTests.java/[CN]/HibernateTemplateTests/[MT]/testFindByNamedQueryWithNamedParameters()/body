{
  Query query=mock(Query.class);
  List list=new ArrayList();
  given(session.getNamedQuery("some query name")).willReturn(query);
  given(query.setParameter("myparam1","myvalue1")).willReturn(query);
  given(query.setParameter("myparam2",2)).willReturn(query);
  given(query.list()).willReturn(list);
  List result=hibernateTemplate.findByNamedQueryAndNamedParam("some query name",new String[]{"myparam1","myparam2"},new Object[]{"myvalue1",2});
  assertTrue("Correct list",result == list);
  verify(query).setParameter("myparam1","myvalue1");
  verify(query).setParameter("myparam2",2);
}
