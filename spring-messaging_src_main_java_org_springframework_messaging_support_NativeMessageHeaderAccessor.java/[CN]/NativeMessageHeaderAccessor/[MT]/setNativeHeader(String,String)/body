{
  Assert.state(isMutable(),"Already immutable");
  Map<String,List<String>> map=getNativeHeaders();
  if (value == null) {
    if (map != null && map.get(name) != null) {
      setModified(true);
      map.remove(name);
    }
    return;
  }
  if (map == null) {
    map=new LinkedMultiValueMap<String,String>(4);
    setHeader(NATIVE_HEADERS,map);
  }
  List<String> values=new LinkedList<String>();
  values.add(value);
  if (!ObjectUtils.nullSafeEquals(values,getHeader(name))) {
    setModified(true);
    map.put(name,values);
  }
}
