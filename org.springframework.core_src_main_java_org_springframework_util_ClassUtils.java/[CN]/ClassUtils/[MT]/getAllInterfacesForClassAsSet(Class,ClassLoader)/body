{
  Assert.notNull(clazz,"Class must not be null");
  if (clazz.isInterface()) {
    return Collections.singleton(clazz);
  }
  Set<Class> interfaces=new LinkedHashSet<Class>();
  while (clazz != null) {
    for (int i=0; i < clazz.getInterfaces().length; i++) {
      Class<?> ifc=clazz.getInterfaces()[i];
      if (classLoader == null || isVisible(ifc,classLoader)) {
        interfaces.add(ifc);
      }
    }
    clazz=clazz.getSuperclass();
  }
  return interfaces;
}
