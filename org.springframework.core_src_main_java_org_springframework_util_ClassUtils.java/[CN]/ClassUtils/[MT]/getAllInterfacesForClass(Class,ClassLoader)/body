{
  Assert.notNull(clazz,"Class must not be null");
  if (clazz.isInterface()) {
    return new Class[]{clazz};
  }
  List<Class> interfaces=new ArrayList<Class>();
  while (clazz != null) {
    Class[] ifcs=clazz.getInterfaces();
    for (    Class ifc : ifcs) {
      if (!interfaces.contains(ifc) && Modifier.isPublic(ifc.getModifiers()) && (classLoader == null || isVisible(ifc,classLoader))) {
        interfaces.add(ifc);
      }
    }
    clazz=clazz.getSuperclass();
  }
  return interfaces.toArray(new Class[interfaces.size()]);
}
