{
  if (isSubscriptionCancelled()) {
    return;
  }
  logger.trace("handleEvent");
  ByteBuffer byteBuffer=pooledByteBuffer.getBuffer();
  try {
    while (true) {
      if (!checkSubscriptionForDemand()) {
        break;
      }
      int read=channel.read(byteBuffer);
      logger.trace("Input read:" + read);
      if (read == -1) {
        publishOnComplete();
        close();
        break;
      }
 else       if (read == 0) {
        break;
      }
 else {
        byteBuffer.flip();
        DataBuffer dataBuffer=dataBufferFactory.wrap(byteBuffer);
        publishOnNext(dataBuffer);
      }
    }
  }
 catch (  IOException ex) {
    publishOnError(ex);
  }
}
