{
  if ((this.applicationEventPublisher != null) && this.brokerAvailable.compareAndSet(false,true)) {
    if (logger.isTraceEnabled()) {
      logger.trace("Publishing BrokerAvailabilityEvent (available)");
    }
    this.applicationEventPublisher.publishEvent(new BrokerAvailabilityEvent(true,this));
  }
}
