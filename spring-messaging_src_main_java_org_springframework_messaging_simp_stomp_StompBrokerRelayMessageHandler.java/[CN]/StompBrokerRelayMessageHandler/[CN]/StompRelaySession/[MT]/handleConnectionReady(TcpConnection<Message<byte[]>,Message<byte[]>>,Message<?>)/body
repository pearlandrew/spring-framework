{
  this.stompConnection.setTcpConnection(tcpConn);
  tcpConn.on().close(new Runnable(){
    @Override public void run(){
      connectionClosed();
    }
  }
);
  tcpConn.in().consume(new Consumer<Message<byte[]>>(){
    @Override public void accept(    Message<byte[]> message){
      readStompFrame(message);
    }
  }
);
  forwardInternal(tcpConn,connectMessage);
}
