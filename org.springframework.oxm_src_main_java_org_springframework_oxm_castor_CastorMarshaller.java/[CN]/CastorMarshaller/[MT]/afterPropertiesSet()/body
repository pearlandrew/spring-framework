{
  if (mappingLocations != null && targetClass != null) {
    throw new IllegalArgumentException("Cannot set both the 'mappingLocations' and 'targetClass' property. " + "Set targetClass for unmarshalling a single class, and 'mappingLocations' for multiple classes'");
  }
  if (logger.isInfoEnabled()) {
    if (mappingLocations != null) {
      logger.info("Configured using " + StringUtils.arrayToCommaDelimitedString(mappingLocations));
    }
 else     if (targetClass != null) {
      logger.info("Configured for target class [" + targetClass.getName() + "]");
    }
 else {
      logger.info("Using default configuration");
    }
  }
  try {
    xmlContext=createXMLContext(mappingLocations,targetClass);
  }
 catch (  MappingException ex) {
    throw new CastorSystemException("Could not load Castor mapping: " + ex.getMessage(),ex);
  }
catch (  ResolverException rex) {
    throw new CastorSystemException("Could not load Castor mapping: " + rex.getMessage(),rex);
  }
}
