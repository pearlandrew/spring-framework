{
  assertThat(environment.getActiveProfiles(),isEmpty());
  environment.setActiveProfiles("local","embedded");
  Set<String> activeProfiles=environment.getActiveProfiles();
  assertThat(activeProfiles,hasItems("local","embedded"));
  assertThat(activeProfiles.size(),is(2));
  try {
    environment.getActiveProfiles().add("bogus");
    fail("activeProfiles should be unmodifiable");
  }
 catch (  UnsupportedOperationException ex) {
  }
  environment.setActiveProfiles("foo");
  assertThat(activeProfiles,hasItem("foo"));
  assertThat(environment.getActiveProfiles().size(),is(1));
}
