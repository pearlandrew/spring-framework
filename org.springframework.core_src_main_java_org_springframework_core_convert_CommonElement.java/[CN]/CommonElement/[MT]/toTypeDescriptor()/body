{
  if (type == null) {
    return TypeDescriptor.NULL;
  }
 else   if (value instanceof Collection<?>) {
    Collection<?> collection=(Collection<?>)value;
    return new TypeDescriptor(type,typeDescriptor(collection));
  }
 else   if (value instanceof Map<?,?>) {
    Map<?,?> map=(Map<?,?>)value;
    return new TypeDescriptor(type,typeDescriptor(map.keySet()),typeDescriptor(map.values()));
  }
 else {
    return TypeDescriptor.valueOf(type);
  }
}
