{
  HttpURLConnection connection=openConnection(uri.toURL(),this.proxy);
  prepareConnection(connection,httpMethod.name());
  if (this.bufferRequestBody) {
    return new SimpleBufferingClientHttpRequest(connection);
  }
 else {
    return new SimpleStreamingClientHttpRequest(connection,this.chunkSize);
  }
}
