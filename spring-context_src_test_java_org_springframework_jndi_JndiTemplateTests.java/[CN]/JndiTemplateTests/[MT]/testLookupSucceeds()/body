{
  Object o=new Object();
  String name="foo";
  final Context context=createMock(Context.class);
  expect(context.lookup(name)).andReturn(o);
  context.close();
  replay(context);
  JndiTemplate jt=new JndiTemplate(){
    @Override protected Context createInitialContext(){
      return context;
    }
  }
;
  Object o2=jt.lookup(name);
  assertEquals(o,o2);
  verify(context);
}
