{
  if (source == null) {
    return null;
  }
  Map<?,?> sourceMap=(Map<?,?>)source;
  if (sourceMap.isEmpty()) {
    return sourceMap;
  }
  Map targetMap=CollectionFactory.createMap(targetType.getType(),sourceMap.size());
  for (  Object entry : sourceMap.entrySet()) {
    Map.Entry sourceMapEntry=(Map.Entry)entry;
    Object sourceKey=sourceMapEntry.getKey();
    Object sourceValue=sourceMapEntry.getValue();
    Object targetKey=this.conversionService.convert(sourceKey,sourceType.getMapKeyTypeDescriptor(),targetType.getMapKeyTypeDescriptor());
    Object targetValue=this.conversionService.convert(sourceValue,sourceType.getMapValueTypeDescriptor(),targetType.getMapValueTypeDescriptor());
    targetMap.put(targetKey,targetValue);
  }
  return targetMap;
}
