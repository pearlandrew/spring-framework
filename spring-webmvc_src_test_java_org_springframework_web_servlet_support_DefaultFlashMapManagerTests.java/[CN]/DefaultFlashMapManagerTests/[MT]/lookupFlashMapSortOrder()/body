{
  FlashMap emptyFlashMap=new FlashMap();
  FlashMap flashMapOne=new FlashMap();
  flashMapOne.put("key1","value1");
  flashMapOne.setTargetRequestPath("/one");
  FlashMap flashMapTwo=new FlashMap();
  flashMapTwo.put("key1","value1");
  flashMapTwo.put("key2","value2");
  flashMapTwo.setTargetRequestPath("/one/two");
  List<FlashMap> allMaps=createFlashMaps();
  allMaps.add(emptyFlashMap);
  allMaps.add(flashMapOne);
  allMaps.add(flashMapTwo);
  Collections.shuffle(allMaps);
  this.request.setRequestURI("/one/two");
  this.flashMapManager.requestStarted(this.request,this.response);
  assertEquals(flashMapTwo,request.getAttribute(INPUT_FLASH_MAP_ATTRIBUTE));
}
