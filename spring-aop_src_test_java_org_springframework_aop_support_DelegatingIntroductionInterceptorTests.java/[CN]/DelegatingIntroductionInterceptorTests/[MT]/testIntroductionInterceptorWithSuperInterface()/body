{
  TestBean raw=new TestBean();
  assertTrue(!(raw instanceof TimeStamped));
  ProxyFactory factory=new ProxyFactory(raw);
  TimeStamped ts=createMock(SubTimeStamped.class);
  long timestamp=111L;
  expect(ts.getTimeStamp()).andReturn(timestamp);
  replay(ts);
  factory.addAdvisor(0,new DefaultIntroductionAdvisor(new DelegatingIntroductionInterceptor(ts),TimeStamped.class));
  TimeStamped tsp=(TimeStamped)factory.getProxy();
  assertTrue(!(tsp instanceof SubTimeStamped));
  assertTrue(tsp.getTimeStamp() == timestamp);
  verify(ts);
}
