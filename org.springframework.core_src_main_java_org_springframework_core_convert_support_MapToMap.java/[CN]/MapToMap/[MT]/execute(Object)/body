{
  try {
    Map<?,?> map=(Map<?,?>)source;
    Map targetMap=CollectionFactory.createMap(this.targetType.getType(),map.size());
    MapEntryConverter converter=getEntryConverter(map);
    for (    Map.Entry<?,?> entry : map.entrySet()) {
      targetMap.put(converter.convertKey(entry.getKey()),converter.convertValue(entry.getValue()));
    }
    return targetMap;
  }
 catch (  Exception ex) {
    throw new ConversionFailedException(source,this.sourceType.getType(),this.targetType.getType(),ex);
  }
}
