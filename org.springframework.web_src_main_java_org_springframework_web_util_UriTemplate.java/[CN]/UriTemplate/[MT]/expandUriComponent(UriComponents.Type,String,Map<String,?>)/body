{
  if (value == null) {
    return null;
  }
  if (value.indexOf('{') == -1) {
    return value;
  }
  Matcher matcher=NAMES_PATTERN.matcher(value);
  StringBuffer sb=new StringBuffer();
  while (matcher.find()) {
    String match=matcher.group(1);
    String variableName=getVariableName(match);
    Object variableValue=uriVariables.get(variableName);
    String uriVariableValueString=getVariableValueAsString(variableValue);
    String replacement=Matcher.quoteReplacement(uriVariableValueString);
    matcher.appendReplacement(sb,replacement);
  }
  matcher.appendTail(sb);
  return sb.toString();
}
