{
  Assert.notNull(uriVariables,"'uriVariables' must not be null");
  Set<String> variablesSet=new HashSet<String>(this.variableNames);
  variablesSet.removeAll(uriVariables.keySet());
  Assert.isTrue(variablesSet.isEmpty(),"'uriVariables' does not contain keys for all variables: " + variablesSet);
  Map<UriComponents.Type,String> expandedComponents=new EnumMap<UriComponents.Type,String>(UriComponents.Type.class);
  for (  Map.Entry<UriComponents.Type,String> entry : this.uriComponents.entrySet()) {
    UriComponents.Type key=entry.getKey();
    String value=entry.getValue();
    String expandedValue=expandUriComponent(key,value,uriVariables);
    expandedComponents.put(key,expandedValue);
  }
  UriComponents result=UriComponents.fromUriComponentMap(expandedComponents);
  if (encode) {
    result=result.encode();
  }
  return result;
}
