{
  DocumentBuilderFactory documentBuilderFactory=DocumentBuilderFactory.newInstance();
  DocumentBuilder builder=documentBuilderFactory.newDocumentBuilder();
  Document document=builder.newDocument();
  DOMResult domResult=new DOMResult(document);
  marshaller.marshal(flights,domResult);
  Document expected=builder.newDocument();
  Element flightsElement=expected.createElementNS("http://samples.springframework.org/flight","tns:flights");
  expected.appendChild(flightsElement);
  Element flightElement=expected.createElementNS("http://samples.springframework.org/flight","tns:flight");
  flightsElement.appendChild(flightElement);
  Element numberElement=expected.createElementNS("http://samples.springframework.org/flight","tns:number");
  flightElement.appendChild(numberElement);
  Text text=expected.createTextNode("42");
  numberElement.appendChild(text);
  assertXMLEqual("Marshaller writes invalid DOMResult",expected,document);
}
