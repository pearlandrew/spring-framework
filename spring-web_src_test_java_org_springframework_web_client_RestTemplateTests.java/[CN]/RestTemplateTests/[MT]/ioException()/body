{
  given(converter.canRead(String.class,null)).willReturn(true);
  MediaType mediaType=new MediaType("foo","bar");
  given(converter.getSupportedMediaTypes()).willReturn(Collections.singletonList(mediaType));
  given(requestFactory.createRequest(new URI("http://example.com/resource"),HttpMethod.GET)).willReturn(request);
  given(request.getHeaders()).willReturn(new HttpHeaders());
  given(request.execute()).willThrow(new IOException());
  try {
    template.getForObject("http://example.com/resource",String.class);
    fail("RestClientException expected");
  }
 catch (  ResourceAccessException ex) {
  }
}
