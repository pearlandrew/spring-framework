{
  expect(requestFactory.createRequest(new URI("http://example.com/-foo"),HttpMethod.GET)).andReturn(request);
  expect(request.execute()).andReturn(response);
  expect(errorHandler.hasError(response)).andReturn(false);
  response.close();
  replayMocks();
  Map<String,String> vars=new HashMap<String,String>(2);
  vars.put("first",null);
  vars.put("last","foo");
  template.execute("http://example.com/{first}-{last}",HttpMethod.GET,null,null,vars);
  verifyMocks();
}
