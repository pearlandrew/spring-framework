{
  Assert.notNull(contextLoader,"ContextLoader must not be null");
  Assert.notNull(clazz,"Class must not be null");
  Class<ContextConfiguration> annotationType=ContextConfiguration.class;
  Class<?> declaringClass=AnnotationUtils.findAnnotationDeclaringClass(annotationType,clazz);
  Assert.notNull(declaringClass,"Could not find an 'annotation declaring class' for annotation type [" + annotationType + "] and class ["+ clazz+ "]");
  boolean processConfigurationClasses=(contextLoader instanceof ResourceTypeAwareContextLoader) && ((ResourceTypeAwareContextLoader)contextLoader).supportsClassResources();
  return processConfigurationClasses ? resolveConfigurationClassNames(contextLoader,annotationType,declaringClass) : resolveStringLocations(contextLoader,annotationType,declaringClass);
}
