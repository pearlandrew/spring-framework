{
  String[] locations=contextConfiguration.locations();
  String[] valueLocations=contextConfiguration.value();
  if (!ObjectUtils.isEmpty(valueLocations) && !ObjectUtils.isEmpty(locations)) {
    String msg=String.format("Test class [%s] has been configured with @ContextConfiguration's 'value' [%s] and 'locations' [%s] attributes. Only one declaration of resource locations is permitted per @ContextConfiguration annotation.",declaringClass,ObjectUtils.nullSafeToString(valueLocations),ObjectUtils.nullSafeToString(locations));
    ContextLoaderUtils.logger.error(msg);
    throw new IllegalStateException(msg);
  }
 else   if (!ObjectUtils.isEmpty(valueLocations)) {
    locations=valueLocations;
  }
  return locations;
}
