{
  Object curVal=this.prototypesCurrentlyInCreation.get();
  if (curVal == null) {
    this.prototypesCurrentlyInCreation.set(beanName);
  }
 else   if (curVal instanceof String) {
    Set<String> beanNameSet=new HashSet<String>(2);
    beanNameSet.add((String)curVal);
    beanNameSet.add(beanName);
    this.prototypesCurrentlyInCreation.set(beanNameSet);
  }
 else {
    Set<String> beanNameSet=(Set<String>)curVal;
    beanNameSet.add(beanName);
  }
}
