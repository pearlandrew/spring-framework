{
  Set<BeanDefinitionHolder> configBeanDefs=new LinkedHashSet<BeanDefinitionHolder>();
  for (  String beanName : registry.getBeanDefinitionNames()) {
    BeanDefinition beanDef=registry.getBeanDefinition(beanName);
    if (checkConfigurationClassBeanDefinition(beanDef)) {
      configBeanDefs.add(new BeanDefinitionHolder(beanDef,beanName));
    }
  }
  if (configBeanDefs.isEmpty()) {
    return;
  }
  ConfigurationClassParser parser=new ConfigurationClassParser(this.metadataReaderFactory,this.problemReporter);
  for (  BeanDefinitionHolder holder : configBeanDefs) {
    String beanClassName=holder.getBeanDefinition().getBeanClassName();
    try {
      parser.parse(beanClassName,holder.getBeanName());
    }
 catch (    IOException ex) {
      throw new BeanDefinitionStoreException("Failed to load bean class [" + beanClassName + "]",ex);
    }
  }
  parser.validate();
  new ConfigurationClassBeanDefinitionReader(registry).loadBeanDefinitions(parser.getModel());
}
