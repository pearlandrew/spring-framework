{
  AnnotationMetadata metadata;
  if (beanDef instanceof AbstractBeanDefinition && ((AbstractBeanDefinition)beanDef).hasBeanClass()) {
    Class beanClass=((AbstractBeanDefinition)beanDef).getBeanClass();
    metadata=new StandardAnnotationMetadata(beanClass);
  }
 else {
    String className=beanDef.getBeanClassName();
    try {
      MetadataReader metadataReader=this.metadataReaderFactory.getMetadataReader(className);
      metadata=metadataReader.getAnnotationMetadata();
    }
 catch (    IOException ex) {
      if (logger.isDebugEnabled()) {
        logger.debug("Could not find class file for introspecting factory methods: " + className,ex);
      }
      return false;
    }
  }
  if (metadata.hasAnnotation(Configuration.class.getName())) {
    beanDef.setAttribute(CONFIGURATION_CLASS_ATTRIBUTE,CONFIGURATION_CLASS_FULL);
    return true;
  }
 else   if (metadata.hasAnnotation(Component.class.getName())) {
    beanDef.setAttribute(CONFIGURATION_CLASS_ATTRIBUTE,CONFIGURATION_CLASS_LITE);
    return true;
  }
 else {
    return false;
  }
}
