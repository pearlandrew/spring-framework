{
  try {
    ByteArrayOutputStream baos=new ByteArrayOutputStream(OUTPUT_BYTE_ARRAY_INITIAL_SIZE);
    ObjectOutputStream oos=new ObjectOutputStream(baos);
    try {
      oos.writeObject(value);
    }
  finally {
      oos.close();
    }
    ByteArrayInputStream bais=new ByteArrayInputStream(baos.toByteArray());
    ObjectInputStream ois=new ObjectInputStream(bais);
    try {
      return ois.readObject();
    }
  finally {
      ois.close();
    }
  }
 catch (  ClassNotFoundException ex) {
    throw new HibernateException("Couldn't clone BLOB contents",ex);
  }
catch (  IOException ex) {
    throw new HibernateException("Couldn't clone BLOB contents",ex);
  }
}
