{
  if (!annotation.pattern().isEmpty()) {
    return new NumberFormatter(annotation.pattern());
  }
 else {
    Style style=annotation.style();
    if (style == Style.PERCENT) {
      return new PercentFormatter();
    }
 else     if (style == Style.CURRENCY) {
      return new CurrencyFormatter();
    }
 else {
      return new NumberFormatter();
    }
  }
}
