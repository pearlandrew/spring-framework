{
synchronized (this.lifecycleMonitor) {
    this.tcpClient=new TcpClient.Spec<String,String>(NettyTcpClient.class).using(new Environment()).codec(new DelimitedCodec<String,String>((byte)0,true,StandardCodecs.STRING_CODEC)).connect("127.0.0.1",61613).get();
    StompHeaderAccessor headers=StompHeaderAccessor.create(StompCommand.CONNECT);
    headers.setAcceptVersion("1.1,1.2");
    headers.setLogin("guest");
    headers.setPasscode("guest");
    headers.setHeartbeat(0,0);
    @SuppressWarnings("unchecked") M message=(M)MessageBuilder.withPayload(new byte[0]).copyHeaders(headers.toStompMessageHeaders()).build();
    RelaySession session=new RelaySession(message,headers){
      @Override protected void sendMessageToClient(      M message){
      }
    }
;
    this.relaySessions.put(STOMP_RELAY_SYSTEM_SESSION_ID,session);
    this.running=true;
  }
}
