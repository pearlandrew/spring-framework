{
  StompHeaderAccessor headers=StompHeaderAccessor.wrap(message);
  headers.setStompCommandIfNotSet(command);
  String sessionId=headers.getSessionId();
  if (sessionId == null) {
    logger.error("No sessionId in message " + message);
    return;
  }
  RelaySession session=this.relaySessions.get(sessionId);
  if (session == null) {
    logger.warn("No relay session for " + sessionId + ". Message '"+ message+ "' cannot be forwarded");
    return;
  }
  session.forward(message,headers);
}
