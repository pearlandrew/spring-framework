{
  getServletContext().log("Initializing WebApplicationContext for Struts ActionServlet '" + getServletName() + "', module '"+ getModulePrefix()+ "'");
  WebApplicationContext parent=WebApplicationContextUtils.getWebApplicationContext(getServletContext());
  WebApplicationContext wac=createWebApplicationContext(parent);
  if (logger.isInfoEnabled()) {
    logger.info("Using context class '" + wac.getClass().getName() + "' for servlet '"+ getServletName()+ "'");
  }
  String attrName=getServletContextAttributeName();
  getServletContext().setAttribute(attrName,wac);
  if (logger.isDebugEnabled()) {
    logger.debug("Published WebApplicationContext of Struts ActionServlet '" + getServletName() + "', module '"+ getModulePrefix()+ "' as ServletContext attribute with name ["+ attrName+ "]");
  }
  return wac;
}
