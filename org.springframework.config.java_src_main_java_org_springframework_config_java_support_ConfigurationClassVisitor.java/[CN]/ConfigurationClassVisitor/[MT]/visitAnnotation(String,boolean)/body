{
  String annoTypeName=AsmUtils.convertTypeDescriptorToClassName(annoTypeDesc);
  if (Configuration.class.getName().equals(annoTypeName)) {
    Configuration mutableConfiguration=createMutableAnnotation(Configuration.class);
    configClass.setConfigurationAnnotation(mutableConfiguration);
    return new MutableAnnotationVisitor(mutableConfiguration,classLoader);
  }
  if (Import.class.getName().equals(annoTypeName)) {
    ImportStack importStack=ImportStackHolder.getImportStack();
    if (!importStack.contains(configClass)) {
      importStack.push(configClass);
      return new ImportAnnotationVisitor(model,problemReporter,classLoader);
    }
    problemReporter.error(new CircularImportProblem(configClass,importStack));
  }
  return super.visitAnnotation(annoTypeDesc,visible);
}
