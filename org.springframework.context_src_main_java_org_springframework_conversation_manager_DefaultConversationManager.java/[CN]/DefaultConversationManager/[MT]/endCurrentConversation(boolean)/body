{
  ConversationResolver resolver=getConversationResolver();
  ConversationRepository repository=getConversationRepository();
  String currentConversationId=resolver.getCurrentConversationId();
  if (currentConversationId == null) {
    return;
  }
  if (!root) {
    MutableConversation currentConversation=repository.getConversation(currentConversationId);
    if (currentConversation != null && currentConversation.getParent() != null) {
      MutableConversation parentConversation=(MutableConversation)currentConversation.getParent();
      resolver.setCurrentConversationId(parentConversation.getId());
    }
  }
  repository.removeConversation(currentConversationId,root);
}
