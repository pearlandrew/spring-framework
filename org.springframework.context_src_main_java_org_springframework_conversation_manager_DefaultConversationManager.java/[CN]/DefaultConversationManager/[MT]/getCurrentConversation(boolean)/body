{
  ConversationResolver resolver=getConversationResolver();
  MutableConversation currentConversation=null;
  String conversationId=resolver.getCurrentConversationId();
  if (conversationId != null) {
    ConversationRepository repository=getConversationRepository();
    currentConversation=repository.getConversation(conversationId);
  }
  if (currentConversation == null && createNewIfNotExisting) {
    currentConversation=beginConversation(ConversationType.NEW);
  }
  return currentConversation;
}
