{
  Map<K,Object> internalMap=(weak ? new WeakHashMap<K,Object>() : new HashMap<K,Object>());
  this.targetMap=Collections.synchronizedMap(internalMap);
  this.synchronize=true;
  this.weak=weak;
}
