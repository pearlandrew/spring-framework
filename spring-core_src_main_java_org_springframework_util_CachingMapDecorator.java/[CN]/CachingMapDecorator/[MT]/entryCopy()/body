{
  Map<K,V> entries=new LinkedHashMap<K,V>();
  for (Iterator<Entry<K,Object>> it=this.targetMap.entrySet().iterator(); it.hasNext(); ) {
    Entry<K,Object> entry=it.next();
    Object value=entry.getValue();
    if (value instanceof Reference) {
      value=((Reference)value).get();
      if (value == null) {
        it.remove();
        continue;
      }
    }
    entries.put(entry.getKey(),value == NULL_VALUE ? null : (V)value);
  }
  return entries.entrySet();
}
