{
  UserValues values=binder.createUserValues(userMap);
  BindingResults bindingResults=binder.bind(values);
  if (validationDecider.shouldValidateAfter(bindingResults)) {
    ValidationResults validationResults=validator.validate(binder.getModel(),bindingResults.successes().properties());
  }
  MessageBuilder builder=new MessageBuilder();
  for (  BindingResult result : bindingResults.failures()) {
    builder.code(modelPropertyError(result)).code(propertyError(result)).code(typeError(result)).code(error(result)).build();
  }
}
