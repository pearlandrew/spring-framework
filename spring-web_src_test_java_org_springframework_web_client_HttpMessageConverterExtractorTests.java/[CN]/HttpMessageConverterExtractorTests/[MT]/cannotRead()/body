{
  HttpMessageConverter<String> converter=createMock(HttpMessageConverter.class);
  List<HttpMessageConverter<?>> converters=new ArrayList<HttpMessageConverter<?>>();
  converters.add(converter);
  HttpHeaders responseHeaders=new HttpHeaders();
  MediaType contentType=MediaType.TEXT_PLAIN;
  responseHeaders.setContentType(contentType);
  extractor=new HttpMessageConverterExtractor<String>(String.class,converters);
  expect(response.getStatusCode()).andReturn(HttpStatus.OK);
  expect(response.getHeaders()).andReturn(responseHeaders).times(2);
  expect(converter.canRead(String.class,contentType)).andReturn(false);
  replay(response,converter);
  try {
    extractor.extractData(response);
    fail("RestClientException expected");
  }
 catch (  RestClientException expected) {
  }
  verify(response,converter);
}
