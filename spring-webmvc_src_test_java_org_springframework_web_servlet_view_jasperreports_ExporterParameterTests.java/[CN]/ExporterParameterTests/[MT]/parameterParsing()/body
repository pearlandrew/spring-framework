{
  Map<String,String> params=new HashMap<String,String>();
  params.put("net.sf.jasperreports.engine.export.JRHtmlExporterParameter.IMAGES_URI","/foo/bar");
  AbstractJasperReportsView view=new AbstractJasperReportsView(){
    @Override @SuppressWarnings("deprecation") protected void renderReport(    JasperPrint filledReport,    Map<String,Object> model,    HttpServletResponse response) throws Exception {
      assertEquals("Invalid number of exporter parameters",1,getConvertedExporterParameters().size());
      JRExporterParameter key=JRHtmlExporterParameter.IMAGES_URI;
      Object value=getConvertedExporterParameters().get(key);
      assertNotNull("Value not mapped to correct key",value);
      assertEquals("Incorrect value for parameter","/foo/bar",value);
    }
  }
;
  view.setExporterParameters(params);
  setViewProperties(view);
  view.render(getModel(),request,response);
}
