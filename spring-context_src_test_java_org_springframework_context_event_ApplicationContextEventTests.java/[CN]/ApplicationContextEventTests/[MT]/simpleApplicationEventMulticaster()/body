{
  @SuppressWarnings("unchecked") ApplicationListener<ApplicationEvent> listener=mock(ApplicationListener.class);
  ApplicationEvent evt=new ContextClosedEvent(new StaticApplicationContext());
  listener.onApplicationEvent(evt);
  SimpleApplicationEventMulticaster smc=new SimpleApplicationEventMulticaster();
  smc.addApplicationListener(listener);
  replay(listener);
  smc.multicastEvent(evt);
  verify(listener);
}
