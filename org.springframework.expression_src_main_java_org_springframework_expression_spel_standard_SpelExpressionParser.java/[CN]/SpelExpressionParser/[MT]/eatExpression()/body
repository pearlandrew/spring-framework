{
  SpelNodeImpl expr=eatLogicalOrExpression();
  if (moreTokens()) {
    Token t=peekToken();
    if (t.kind == TokenKind.ASSIGN) {
      nextToken();
      SpelNodeImpl assignedValue=eatLogicalOrExpression();
      return new Assign(toPos(t),expr,assignedValue);
    }
 else     if (t.kind == TokenKind.ELVIS) {
      nextToken();
      SpelNodeImpl valueIfNull=eatExpression();
      return new Elvis(toPos(t),expr,valueIfNull);
    }
 else     if (t.kind == TokenKind.QMARK) {
      nextToken();
      SpelNodeImpl ifTrueExprValue=eatExpression();
      eatToken(TokenKind.COLON);
      SpelNodeImpl ifFalseExprValue=eatExpression();
      return new Ternary(toPos(t),expr,ifTrueExprValue,ifFalseExprValue);
    }
  }
  return expr;
}
