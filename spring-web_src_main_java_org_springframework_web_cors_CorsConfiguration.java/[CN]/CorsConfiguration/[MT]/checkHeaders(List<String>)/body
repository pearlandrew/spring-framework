{
  if (requestHeaders == null) {
    return null;
  }
  if (requestHeaders.isEmpty()) {
    return Collections.emptyList();
  }
  if (ObjectUtils.isEmpty(this.allowedHeaders)) {
    return null;
  }
  boolean allowAnyHeader=this.allowedHeaders.contains(ALL);
  List<String> result=new ArrayList<>();
  for (  String requestHeader : requestHeaders) {
    if (StringUtils.hasText(requestHeader)) {
      requestHeader=requestHeader.trim();
      for (      String allowedHeader : this.allowedHeaders) {
        if (allowAnyHeader || requestHeader.equalsIgnoreCase(allowedHeader)) {
          result.add(requestHeader);
          break;
        }
      }
    }
  }
  return (result.isEmpty() ? null : result);
}
