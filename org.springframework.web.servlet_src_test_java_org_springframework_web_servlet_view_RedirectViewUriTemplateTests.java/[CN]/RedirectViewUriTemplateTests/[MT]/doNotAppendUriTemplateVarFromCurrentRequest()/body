{
  Map<String,Object> model=new HashMap<String,Object>();
  model.put("name1","value1");
  model.put("name2","value2");
  model.put("name3","value3");
  Map<String,String> uriTemplatVars=new HashMap<String,String>();
  uriTemplatVars.put("name1","value1");
  uriTemplatVars.put("name2","value2");
  request.setAttribute(View.PATH_VARIABLES,uriTemplatVars);
  String url="http://url.somewhere.com";
  RedirectView redirectView=new RedirectView(url + "/{name2}");
  redirectView.renderMergedOutputModel(model,request,response);
  assertEquals(url + "/value2?name3=value3",response.getRedirectedUrl());
}
