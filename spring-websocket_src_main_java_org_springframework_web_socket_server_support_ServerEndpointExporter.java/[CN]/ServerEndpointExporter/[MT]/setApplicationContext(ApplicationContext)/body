{
  this.applicationContext=applicationContext;
  this.serverContainer=getServerContainer();
  Map<String,Object> beans=applicationContext.getBeansWithAnnotation(ServerEndpoint.class);
  for (  String beanName : beans.keySet()) {
    Class<?> beanType=applicationContext.getType(beanName);
    if (logger.isInfoEnabled()) {
      logger.info("Detected @ServerEndpoint bean '" + beanName + "', registering it as an endpoint by type");
    }
    this.annotatedEndpointBeanTypes.add(beanType);
  }
}
