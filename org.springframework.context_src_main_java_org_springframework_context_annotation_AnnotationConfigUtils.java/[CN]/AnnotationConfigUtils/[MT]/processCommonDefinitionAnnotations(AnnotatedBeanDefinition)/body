{
  AnnotationMetadata metadata=abd.getMetadata();
  if (metadata.isAnnotated(Primary.class.getName())) {
    abd.setPrimary(true);
  }
  if (metadata.isAnnotated(Lazy.class.getName())) {
    abd.setLazyInit(attributesFor(metadata,Lazy.class).getBoolean("value"));
  }
  if (metadata.isAnnotated(DependsOn.class.getName())) {
    abd.setDependsOn(attributesFor(metadata,DependsOn.class).getStringArray("value"));
  }
  if (abd instanceof AbstractBeanDefinition) {
    if (metadata.isAnnotated(Role.class.getName())) {
      Integer role=attributesFor(metadata,Role.class).getNumber("value");
      ((AbstractBeanDefinition)abd).setRole(role);
    }
  }
}
