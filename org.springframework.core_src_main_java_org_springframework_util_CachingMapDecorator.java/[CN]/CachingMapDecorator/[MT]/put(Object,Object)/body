{
  Object newValue=value;
  if (newValue == null) {
    newValue=NULL_VALUE;
  }
  if (useWeakValue(key,newValue)) {
    newValue=new WeakReference(newValue);
  }
  return this.targetMap.put(key,newValue);
}
