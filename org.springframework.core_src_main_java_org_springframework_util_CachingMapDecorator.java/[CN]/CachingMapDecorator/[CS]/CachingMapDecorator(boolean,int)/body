{
  Map internalMap=weak ? (Map)new WeakHashMap(size) : new HashMap(size);
  this.targetMap=Collections.synchronizedMap(internalMap);
  this.synchronize=true;
  this.weak=weak;
}
