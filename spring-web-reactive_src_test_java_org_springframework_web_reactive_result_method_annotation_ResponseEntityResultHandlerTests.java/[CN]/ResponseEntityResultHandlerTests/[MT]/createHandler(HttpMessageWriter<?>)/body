{
  List<HttpMessageWriter<?>> writerList;
  if (ObjectUtils.isEmpty(writers)) {
    writerList=new ArrayList<>();
    writerList.add(new EncoderHttpMessageWriter<>(new ByteBufferEncoder()));
    writerList.add(new EncoderHttpMessageWriter<>(new StringEncoder()));
    writerList.add(new ResourceHttpMessageWriter());
    writerList.add(new EncoderHttpMessageWriter<>(new Jaxb2Encoder()));
    writerList.add(new EncoderHttpMessageWriter<>(new JacksonJsonEncoder()));
  }
 else {
    writerList=Arrays.asList(writers);
  }
  RequestedContentTypeResolver resolver=new RequestedContentTypeResolverBuilder().build();
  return new ResponseEntityResultHandler(writerList,resolver);
}
