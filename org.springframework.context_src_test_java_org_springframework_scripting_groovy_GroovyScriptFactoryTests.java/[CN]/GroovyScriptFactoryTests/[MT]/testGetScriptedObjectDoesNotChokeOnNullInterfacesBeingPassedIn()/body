{
  ScriptSource script=EasyMock.createMock(ScriptSource.class);
  EasyMock.expect(script.getScriptAsString()).andReturn("class Bar {}");
  EasyMock.expect(script.suggestedClassName()).andReturn("someName");
  EasyMock.replay(script);
  GroovyScriptFactory factory=new GroovyScriptFactory("a script source locator (doesn't matter here)");
  Object scriptedObject=factory.getScriptedObject(script,null);
  assertNotNull(scriptedObject);
  EasyMock.verify(script);
}
