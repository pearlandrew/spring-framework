{
  if (targetClass.isInterface()) {
    if (List.class.equals(targetClass)) {
      return ArrayList.class;
    }
 else     if (Set.class.equals(targetClass)) {
      return LinkedHashSet.class;
    }
 else     if (SortedSet.class.equals(targetClass)) {
      return TreeSet.class;
    }
 else {
      throw new IllegalArgumentException("Unsupported collection interface [" + targetClass.getName() + "]");
    }
  }
 else {
    return targetClass;
  }
}
