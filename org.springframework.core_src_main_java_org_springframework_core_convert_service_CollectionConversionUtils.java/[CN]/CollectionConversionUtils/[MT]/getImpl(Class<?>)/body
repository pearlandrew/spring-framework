{
  if (targetCollectionType.isInterface()) {
    if (List.class.equals(targetCollectionType)) {
      return ArrayList.class;
    }
 else     if (Set.class.equals(targetCollectionType)) {
      return LinkedHashSet.class;
    }
 else     if (SortedSet.class.equals(targetCollectionType)) {
      return TreeSet.class;
    }
 else     if (Collection.class.equals(targetCollectionType)) {
      return ArrayList.class;
    }
 else {
      throw new IllegalArgumentException("Unsupported collection interface [" + targetCollectionType.getName() + "]");
    }
  }
 else {
    return targetCollectionType;
  }
}
