{
  this.servletRequest.setMethod("POST");
  Set<TransportHandler> transportHandlers=new HashSet<>();
  transportHandlers.add(new StubXhrTransportHandler());
  transportHandlers.add(new StubXhrSendTransportHandler());
  WebSocketHandler webSocketHandler=mock(WebSocketHandler.class);
  DefaultSockJsService service=new DefaultSockJsService(mock(TaskScheduler.class),transportHandlers);
  service.handleTransportRequest(this.request,this.response,"123",TransportType.XHR_SEND,webSocketHandler);
  assertEquals(404,this.servletResponse.getStatus());
  resetResponse();
  service.handleTransportRequest(this.request,this.response,"123",TransportType.XHR,webSocketHandler);
  assertEquals(200,this.servletResponse.getStatus());
  resetResponse();
  service.handleTransportRequest(this.request,this.response,"123",TransportType.XHR_SEND,webSocketHandler);
  assertEquals(200,this.servletResponse.getStatus());
}
