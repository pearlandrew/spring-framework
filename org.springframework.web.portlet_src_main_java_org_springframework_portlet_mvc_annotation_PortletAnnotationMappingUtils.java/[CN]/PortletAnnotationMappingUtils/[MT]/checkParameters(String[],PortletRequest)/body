{
  if (!ObjectUtils.isEmpty(params)) {
    for (    String param : params) {
      int separator=param.indexOf('=');
      if (separator == -1) {
        if (param.startsWith("!")) {
          if (PortletUtils.hasSubmitParameter(request,param.substring(1))) {
            return false;
          }
        }
 else         if (!PortletUtils.hasSubmitParameter(request,param)) {
          return false;
        }
      }
 else {
        String key=param.substring(0,separator);
        String value=param.substring(separator + 1);
        if (!value.equals(request.getParameter(key))) {
          return false;
        }
      }
    }
  }
  return true;
}
