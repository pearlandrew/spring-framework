{
  String[] beanNames=this.beanFactory.getBeanNamesForType(Object.class,false,false);
  for (  String beanName : beanNames) {
    Class<?> type=this.beanFactory.getType(beanName);
    WebService wsAnnotation=type.getAnnotation(WebService.class);
    WebServiceProvider wsProviderAnnotation=type.getAnnotation(WebServiceProvider.class);
    if (wsAnnotation != null || wsProviderAnnotation != null) {
      Endpoint endpoint=Endpoint.create(this.beanFactory.getBean(beanName));
      if (this.endpointProperties != null) {
        endpoint.setProperties(this.endpointProperties);
      }
      if (this.executor != null) {
        endpoint.setExecutor(this.executor);
      }
      if (wsAnnotation != null) {
        publishEndpoint(endpoint,wsAnnotation);
      }
 else {
        publishEndpoint(endpoint,wsProviderAnnotation);
      }
      this.publishedEndpoints.add(endpoint);
    }
  }
}
