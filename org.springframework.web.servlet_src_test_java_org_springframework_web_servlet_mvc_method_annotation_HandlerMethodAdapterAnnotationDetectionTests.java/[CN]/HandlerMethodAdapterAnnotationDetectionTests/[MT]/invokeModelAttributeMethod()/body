{
  ServletInvocableHandlerMethod requestMappingMethod=createRequestMappingMethod(handler,useAutoProxy);
  ModelAttribute annot=requestMappingMethod.getMethodAnnotation(ModelAttribute.class);
  assertEquals("Failed to detect method annotation","attrName",annot.value());
  MockHttpServletRequest servletRequest=new MockHttpServletRequest();
  NativeWebRequest webRequest=new ServletWebRequest(servletRequest,new MockHttpServletResponse());
  servletRequest.setParameter("name","Chad");
  ModelAndViewContainer mavContainer=new ModelAndViewContainer();
  requestMappingMethod.invokeAndHandle(webRequest,mavContainer);
  Object modelAttr=mavContainer.getAttribute("attrName");
  assertEquals(TestBean.class,modelAttr.getClass());
  assertEquals("Chad",((TestBean)modelAttr).getName());
}
