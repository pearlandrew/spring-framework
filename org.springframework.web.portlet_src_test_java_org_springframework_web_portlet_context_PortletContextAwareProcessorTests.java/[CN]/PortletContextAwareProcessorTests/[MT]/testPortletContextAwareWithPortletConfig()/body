{
  PortletContext portletContext=new MockPortletContext();
  PortletConfig portletConfig=new MockPortletConfig(portletContext);
  PortletContextAwareProcessor processor=new PortletContextAwareProcessor(portletConfig);
  PortletContextAwareBean bean=new PortletContextAwareBean();
  assertNull(bean.getPortletContext());
  processor.postProcessBeforeInitialization(bean,"testBean");
  assertNotNull("PortletContext should have been set",bean.getPortletContext());
  assertEquals(portletContext,bean.getPortletContext());
}
