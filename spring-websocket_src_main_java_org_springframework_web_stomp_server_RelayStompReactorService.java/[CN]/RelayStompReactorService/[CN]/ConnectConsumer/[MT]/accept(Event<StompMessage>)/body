{
  StompMessage stompMessage=event.getData();
  final Object replyTo=event.getReplyTo();
  final String stompSessionId=stompMessage.getStompSessionId();
  final RelaySession session=new RelaySession();
  relaySessions.put(stompSessionId,session);
  try {
    Socket socket=SocketFactory.getDefault().createSocket("127.0.0.1",61613);
    session.setSocket(socket);
    relayStompMessage(session,stompMessage);
    taskExecutor.execute(new RelayReadTask(stompSessionId,replyTo,session));
  }
 catch (  Throwable t) {
    t.printStackTrace();
    clearRelaySession(stompSessionId);
  }
}
