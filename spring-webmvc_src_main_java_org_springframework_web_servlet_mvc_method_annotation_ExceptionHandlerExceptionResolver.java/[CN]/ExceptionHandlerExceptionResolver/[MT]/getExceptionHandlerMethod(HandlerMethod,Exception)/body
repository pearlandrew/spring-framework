{
  if (handlerMethod != null) {
    Class<?> handlerType=handlerMethod.getBeanType();
    ExceptionHandlerMethodResolver resolver=this.exceptionHandlersByType.get(handlerType);
    if (resolver == null) {
      resolver=new ExceptionHandlerMethodResolver(handlerType);
      this.exceptionHandlersByType.put(handlerType,resolver);
    }
    Method method=resolver.resolveMethod(exception);
    if (method != null) {
      return new ServletInvocableHandlerMethod(handlerMethod.getBean(),method);
    }
  }
  return getGlobalExceptionHandlerMethod(exception);
}
