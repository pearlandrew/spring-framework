{
  Assert.isTrue(InputStreamResource.class != resource.getClass(),"Can't convert an InputStreamResource to a ResourceRegion");
  try {
    long contentLength=resource.contentLength();
    Assert.isTrue(contentLength > 0,"Resource content length should be > 0");
    long start=getRangeStart(contentLength);
    long end=getRangeEnd(contentLength);
    return new ResourceRegion(resource,start,end - start + 1);
  }
 catch (  IOException exc) {
    throw new IllegalArgumentException("Can't convert this Resource to a ResourceRegion",exc);
  }
}
