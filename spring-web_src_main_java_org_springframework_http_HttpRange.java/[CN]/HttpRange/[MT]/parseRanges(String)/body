{
  if (!StringUtils.hasLength(ranges)) {
    return Collections.emptyList();
  }
  if (!ranges.startsWith(BYTE_RANGE_PREFIX)) {
    throw new IllegalArgumentException("Range \"" + ranges + "\" does not "+ "start with \""+ BYTE_RANGE_PREFIX+ "\"");
  }
  ranges=ranges.substring(BYTE_RANGE_PREFIX.length());
  String[] tokens=ranges.split(",\\s*");
  List<HttpRange> result=new ArrayList<HttpRange>(tokens.length);
  for (  String token : tokens) {
    result.add(parseRange(token));
  }
  return result;
}
