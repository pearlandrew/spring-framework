{
  Assert.notNull(candidate,"Candidate object must not be null");
  if (AopUtils.isCglibProxy(candidate)) {
    return candidate.getClass().getSuperclass();
  }
  if (candidate instanceof Advised) {
    return ((Advised)candidate).getTargetSource().getTargetClass();
  }
  return candidate.getClass();
}
