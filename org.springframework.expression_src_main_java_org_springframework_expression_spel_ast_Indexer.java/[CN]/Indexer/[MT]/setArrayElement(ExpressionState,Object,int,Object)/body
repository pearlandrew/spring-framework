{
  Class<?> arrayComponentType=ctx.getClass().getComponentType();
  if (arrayComponentType == Integer.TYPE) {
    int[] array=(int[])ctx;
    checkAccess(array.length,idx);
    array[idx]=state.convertValue(newValue,Integer.class);
  }
 else   if (arrayComponentType == Boolean.TYPE) {
    boolean[] array=(boolean[])ctx;
    checkAccess(array.length,idx);
    array[idx]=state.convertValue(newValue,Boolean.class);
  }
 else   if (arrayComponentType == Character.TYPE) {
    char[] array=(char[])ctx;
    checkAccess(array.length,idx);
    array[idx]=state.convertValue(newValue,Character.class);
  }
 else   if (arrayComponentType == Long.TYPE) {
    long[] array=(long[])ctx;
    checkAccess(array.length,idx);
    array[idx]=state.convertValue(newValue,Long.class);
  }
 else   if (arrayComponentType == Short.TYPE) {
    short[] array=(short[])ctx;
    checkAccess(array.length,idx);
    array[idx]=state.convertValue(newValue,Short.class);
  }
 else   if (arrayComponentType == Double.TYPE) {
    double[] array=(double[])ctx;
    checkAccess(array.length,idx);
    array[idx]=state.convertValue(newValue,Double.class);
  }
 else   if (arrayComponentType == Float.TYPE) {
    float[] array=(float[])ctx;
    checkAccess(array.length,idx);
    array[idx]=state.convertValue(newValue,Float.class);
  }
 else   if (arrayComponentType == Byte.TYPE) {
    byte[] array=(byte[])ctx;
    checkAccess(array.length,idx);
    array[idx]=state.convertValue(newValue,Byte.class);
  }
 else {
    Object[] array=(Object[])ctx;
    checkAccess(array.length,idx);
    array[idx]=state.convertValue(newValue,arrayComponentType);
  }
}
