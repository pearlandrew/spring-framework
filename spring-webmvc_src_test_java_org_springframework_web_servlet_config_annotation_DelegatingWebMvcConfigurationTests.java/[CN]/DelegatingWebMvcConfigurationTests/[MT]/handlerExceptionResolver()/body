{
  Capture<List<HttpMessageConverter<?>>> converters=new Capture<List<HttpMessageConverter<?>>>();
  Capture<List<HandlerExceptionResolver>> exceptionResolvers=new Capture<List<HandlerExceptionResolver>>();
  Capture<ContentNegotiationConfigurer> contentNegotiationConfigurer=new Capture<ContentNegotiationConfigurer>();
  configurer.configureMessageConverters(capture(converters));
  configurer.configureContentNegotiation(capture(contentNegotiationConfigurer));
  configurer.configureHandlerExceptionResolvers(capture(exceptionResolvers));
  replay(configurer);
  mvcConfiguration.setConfigurers(Arrays.asList(configurer));
  mvcConfiguration.handlerExceptionResolver();
  assertEquals(3,exceptionResolvers.getValue().size());
  assertTrue(exceptionResolvers.getValue().get(0) instanceof ExceptionHandlerExceptionResolver);
  assertTrue(exceptionResolvers.getValue().get(1) instanceof ResponseStatusExceptionResolver);
  assertTrue(exceptionResolvers.getValue().get(2) instanceof DefaultHandlerExceptionResolver);
  assertTrue(converters.getValue().size() > 0);
  verify(configurer);
}
