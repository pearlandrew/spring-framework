{
  ConfigurationClassMethod beanMethod=new ConfigurationClassMethod(beanName,Modifier.FINAL,returnType,beanAnno);
  beanMethod.setDeclaringClass(declaringClass);
  try {
    beanMethod.validate(problemReporter);
    fail("should have failed due to final bean method");
  }
 catch (  BeanDefinitionParsingException ex) {
    assertTrue(ex.getMessage().contains("remove the final modifier"));
  }
}
