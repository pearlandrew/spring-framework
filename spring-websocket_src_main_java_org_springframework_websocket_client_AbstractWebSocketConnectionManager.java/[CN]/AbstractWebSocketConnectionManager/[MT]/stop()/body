{
synchronized (this.lifecycleMonitor) {
    if (isRunning()) {
      try {
        closeConnection();
      }
 catch (      Throwable e) {
        logger.error("Failed to stop WebSocket connection",e);
      }
    }
  }
}
