{
  final StaticWebApplicationContext wac=new StaticWebApplicationContext();
  wac.registerSingleton("bean1",TestBean.class,null);
  wac.registerSingleton("var1",TestBean.class,null);
  wac.refresh();
  TestBean bean1=(TestBean)wac.getBean("bean1");
  TestBean var1=(TestBean)wac.getBean("var1");
  SpringBeanVariableResolver resolver=new SpringBeanVariableResolver(new OriginalVariableResolver()){
    protected WebApplicationContext getWebApplicationContext(    FacesContext facesContext){
      return wac;
    }
  }
;
  assertEquals(bean1,resolver.resolveVariable(null,"bean1"));
  assertEquals(var1,resolver.resolveVariable(null,"var1"));
}
