{
  List<Message<byte[]>> messages=new ArrayList<Message<byte[]>>();
  while (buffer.hasRemaining()) {
    Message<byte[]> m=decodeMessage(buffer,partialMessageHeaders);
    if (m != null) {
      messages.add(m);
    }
 else {
      break;
    }
  }
  return messages;
}
