{
  MimetypesFileTypeMap fileTypeMap=null;
  if (mappingLocation != null) {
    InputStream is=mappingLocation.getInputStream();
    try {
      fileTypeMap=new MimetypesFileTypeMap(is);
    }
  finally {
      is.close();
    }
  }
 else {
    fileTypeMap=new MimetypesFileTypeMap();
  }
  if (mappings != null) {
    for (int i=0; i < mappings.length; i++) {
      fileTypeMap.addMimeTypes(mappings[i]);
    }
  }
  return fileTypeMap;
}
