{
  AnnotationMetadata metadata=null;
  if (beanDef instanceof AbstractBeanDefinition && ((AbstractBeanDefinition)beanDef).hasBeanClass()) {
    metadata=new StandardAnnotationMetadata(((AbstractBeanDefinition)beanDef).getBeanClass());
  }
 else {
    String className=beanDef.getBeanClassName();
    if (className != null) {
      try {
        MetadataReader metadataReader=metadataReaderFactory.getMetadataReader(className);
        metadata=metadataReader.getAnnotationMetadata();
      }
 catch (      IOException ex) {
        if (logger.isDebugEnabled()) {
          logger.debug("Could not find class file for introspecting factory methods: " + className,ex);
        }
        return false;
      }
    }
  }
  if (metadata != null) {
    if (metadata.isAnnotated(Configuration.class.getName())) {
      beanDef.setAttribute(CONFIGURATION_CLASS_ATTRIBUTE,CONFIGURATION_CLASS_FULL);
      return true;
    }
 else     if (metadata.isAnnotated(Component.class.getName()) || metadata.hasAnnotatedMethods(Bean.class.getName())) {
      beanDef.setAttribute(CONFIGURATION_CLASS_ATTRIBUTE,CONFIGURATION_CLASS_LITE);
      return true;
    }
  }
  return false;
}
