{
  Assert.notNull(requiredType,"requiredType may not be null");
  Assert.notNull(context,"context may not be null");
  Map<String,?> beansOfType=context.getBeansOfType(requiredType);
switch (beansOfType.size()) {
case 0:
    throw new NoSuchBeanDefinitionException(requiredType);
case 1:
  return (T)beansOfType.values().iterator().next();
default :
throw new NoSuchBeanDefinitionException(requiredType,beansOfType.size() + " matching bean definitions found " + "("+ StringUtils.collectionToCommaDelimitedString(beansOfType.keySet())+ "). "+ "Consider qualifying with getBean(Class<T> beanType, String beanName) or "+ "declaring one bean definition as @Primary");
}
}
