{
  if (!isSynchronizationActive()) {
    throw new IllegalStateException("Transaction synchronization is not active");
  }
  List<TransactionSynchronization> synchs=synchronizations.get();
  Collections.sort(synchs,synchronizationComparator);
  return Collections.unmodifiableList(new ArrayList<TransactionSynchronization>(synchs));
}
