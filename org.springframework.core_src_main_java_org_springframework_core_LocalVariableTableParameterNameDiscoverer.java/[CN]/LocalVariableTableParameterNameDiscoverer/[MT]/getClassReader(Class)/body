{
synchronized (this.classReaderCache) {
    ClassReader classReader=(ClassReader)this.classReaderCache.get(clazz);
    if (classReader == null) {
      InputStream is=clazz.getResourceAsStream(ClassUtils.getClassFileName(clazz));
      if (is == null) {
        throw new FileNotFoundException("Class file for class [" + clazz.getName() + "] not found");
      }
      try {
        classReader=new ClassReader(is);
        this.classReaderCache.put(clazz,classReader);
      }
  finally {
        is.close();
      }
    }
    return classReader;
  }
}
