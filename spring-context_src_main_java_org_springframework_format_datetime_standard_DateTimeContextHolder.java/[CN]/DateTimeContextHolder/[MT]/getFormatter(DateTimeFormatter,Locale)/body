{
  DateTimeFormatter formatterToUse=(locale != null ? formatter.withLocale(locale) : formatter);
  DateTimeContext context=getDateTimeContext();
  return (context != null ? context.getFormatter(formatterToUse) : formatterToUse);
}
