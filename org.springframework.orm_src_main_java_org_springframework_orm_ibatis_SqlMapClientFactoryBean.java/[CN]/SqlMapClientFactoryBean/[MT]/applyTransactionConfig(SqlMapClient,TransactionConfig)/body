{
  if (!(sqlMapClient instanceof ExtendedSqlMapClient)) {
    throw new IllegalArgumentException("Cannot set TransactionConfig with DataSource for SqlMapClient if not of type " + "ExtendedSqlMapClient: " + sqlMapClient);
  }
  ExtendedSqlMapClient extendedClient=(ExtendedSqlMapClient)sqlMapClient;
  transactionConfig.setMaximumConcurrentTransactions(extendedClient.getDelegate().getMaxTransactions());
  extendedClient.getDelegate().setTxManager(new TransactionManager(transactionConfig));
}
