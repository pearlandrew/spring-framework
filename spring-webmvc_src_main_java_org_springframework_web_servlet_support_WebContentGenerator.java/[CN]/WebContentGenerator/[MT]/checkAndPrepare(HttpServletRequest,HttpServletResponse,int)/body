{
  CacheControl cControl;
  if (cacheSeconds > 0) {
    cControl=CacheControl.maxAge(cacheSeconds,TimeUnit.SECONDS);
  }
 else   if (cacheSeconds == 0) {
    cControl=CacheControl.noStore();
  }
 else {
    cControl=CacheControl.empty();
  }
  checkRequest(request);
  if (this.usePreviousHttpCachingBehavior) {
    addHttp10CacheHeaders(cacheSeconds,response);
  }
 else {
    String ccValue=cControl.getHeaderValue();
    if (ccValue != null) {
      response.setHeader(HEADER_CACHE_CONTROL,ccValue);
    }
  }
}
