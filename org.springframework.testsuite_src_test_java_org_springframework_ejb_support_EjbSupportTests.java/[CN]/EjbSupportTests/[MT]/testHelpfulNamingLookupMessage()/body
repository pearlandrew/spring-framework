{
  SimpleNamingContextBuilder.emptyActivatedContextBuilder();
  MockControl mc=MockControl.createControl(SessionContext.class);
  SessionContext sc=(SessionContext)mc.getMock();
  mc.replay();
  AbstractStatelessSessionBean slsb=new AbstractStatelessSessionBean(){
    public void onEjbCreate(){
    }
  }
;
  slsb.setSessionContext(sc);
  try {
    slsb.ejbCreate();
    fail();
  }
 catch (  BeansException ex) {
    assertTrue(ex.getMessage().indexOf("environment") != -1);
    assertTrue(ex.getMessage().indexOf("ejb/BeanFactoryPath") != -1);
  }
}
