{
  List<MessageConverter> converters=new ArrayList<MessageConverter>();
  boolean registerDefaults=configureMessageConverters(converters);
  if (registerDefaults) {
    converters.add(new StringMessageConverter());
    converters.add(new ByteArrayMessageConverter());
    if (jackson2Present) {
      converters.add(createJacksonConverter());
    }
  }
  return new CompositeMessageConverter(converters);
}
