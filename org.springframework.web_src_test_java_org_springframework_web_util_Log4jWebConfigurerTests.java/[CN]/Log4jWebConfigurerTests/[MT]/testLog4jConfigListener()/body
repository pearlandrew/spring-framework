{
  Log4jConfigListener listener=new Log4jConfigListener();
  MockServletContext sc=new MockServletContext("",new FileSystemResourceLoader());
  sc.addInitParameter(Log4jWebConfigurer.CONFIG_LOCATION_PARAM,RELATIVE_PATH);
  listener.contextInitialized(new ServletContextEvent(sc));
  try {
    assertLogOutput();
  }
  finally {
    listener.contextDestroyed(new ServletContextEvent(sc));
  }
  assertTrue(MockLog4jAppender.closeCalled);
}
