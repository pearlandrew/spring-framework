{
  if (getConnectionProviderMethod != null && sessionFactory instanceof SessionFactoryImplementor) {
    Wrapped cp=(Wrapped)ReflectionUtils.invokeMethod(getConnectionProviderMethod,sessionFactory);
    return cp.unwrap(DataSource.class);
  }
  return null;
}
