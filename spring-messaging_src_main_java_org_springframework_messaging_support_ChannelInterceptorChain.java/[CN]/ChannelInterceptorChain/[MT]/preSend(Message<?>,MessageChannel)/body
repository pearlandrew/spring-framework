{
  Message<?> originalMessage=message;
  for (  ChannelInterceptor interceptor : this.interceptors) {
    message=interceptor.preSend(message,channel);
    if (message == null) {
      if (logger.isTraceEnabled()) {
        logger.trace("preSend returned null (precluding the send)");
      }
      return null;
    }
  }
  if (logger.isDebugEnabled()) {
    if (message != originalMessage) {
      logger.debug("preSend returned modified message, new message=" + message);
    }
  }
  return message;
}
