{
  UUID originalId=message.getHeaders().getId();
  for (  ChannelInterceptor interceptor : this.interceptors) {
    message=interceptor.preSend(message,channel);
    if (message == null) {
      if (logger.isTraceEnabled()) {
        logger.trace("preSend returned null (precluding the send)");
      }
      return null;
    }
  }
  if (logger.isDebugEnabled()) {
    if (!message.getHeaders().getId().equals(originalId)) {
      logger.debug("preSend returned modified message, new message id=" + message.getHeaders().getId());
    }
  }
  return message;
}
