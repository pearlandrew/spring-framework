{
  HttpClient client=getHttpClient();
  Assert.state(client != null,"Synchronous execution requires an HttpClient to be set");
  HttpUriRequest httpRequest=createHttpUriRequest(httpMethod,uri);
  postProcessHttpRequest(httpRequest);
  if (bufferRequestBody) {
    return new HttpComponentsClientHttpRequest(client,httpRequest,createHttpContext(httpMethod,uri));
  }
 else {
    return new HttpComponentsStreamingClientHttpRequest(client,httpRequest,createHttpContext(httpMethod,uri));
  }
}
