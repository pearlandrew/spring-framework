{
  DefaultListableBeanFactory lbf=new DefaultListableBeanFactory();
  GenericConversionService conversionService=(GenericConversionService)ConversionServiceFactory.createDefault();
  conversionService.addConverter(new Converter<String,Float>(){
    public Float convert(    String source){
      try {
        NumberFormat nf=NumberFormat.getInstance(Locale.GERMAN);
        return nf.parse(source).floatValue();
      }
 catch (      ParseException ex) {
        throw new IllegalArgumentException(ex);
      }
    }
  }
);
  lbf.setConversionService(conversionService);
  MutablePropertyValues pvs=new MutablePropertyValues();
  pvs.addPropertyValue("myFloat","1,1");
  lbf.registerBeanDefinition("testBean",new RootBeanDefinition(TestBean.class,pvs));
  TestBean testBean=(TestBean)lbf.getBean("testBean");
  assertTrue(testBean.getMyFloat().floatValue() == 1.1f);
}
