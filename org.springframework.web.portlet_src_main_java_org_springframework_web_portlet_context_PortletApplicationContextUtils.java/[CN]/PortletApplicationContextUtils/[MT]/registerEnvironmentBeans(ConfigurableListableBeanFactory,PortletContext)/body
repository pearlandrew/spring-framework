{
  if (!bf.containsBean(WebApplicationContext.CONTEXT_PROPERTIES_BEAN_NAME)) {
    Map<String,String> parameterMap=new HashMap<String,String>();
    if (pc != null) {
      Enumeration paramNameEnum=pc.getInitParameterNames();
      while (paramNameEnum.hasMoreElements()) {
        String paramName=(String)paramNameEnum.nextElement();
        parameterMap.put(paramName,pc.getInitParameter(paramName));
      }
    }
    bf.registerSingleton(WebApplicationContext.CONTEXT_PROPERTIES_BEAN_NAME,Collections.unmodifiableMap(parameterMap));
  }
  if (!bf.containsBean(WebApplicationContext.CONTEXT_ATTRIBUTES_BEAN_NAME)) {
    Map<String,Object> attributeMap=new HashMap<String,Object>();
    if (pc != null) {
      Enumeration attrNameEnum=pc.getAttributeNames();
      while (attrNameEnum.hasMoreElements()) {
        String attrName=(String)attrNameEnum.nextElement();
        attributeMap.put(attrName,pc.getAttribute(attrName));
      }
    }
    bf.registerSingleton(WebApplicationContext.CONTEXT_ATTRIBUTES_BEAN_NAME,Collections.unmodifiableMap(attributeMap));
  }
}
