{
  beanFactory.registerScope(WebApplicationContext.SCOPE_REQUEST,new RequestScope());
  beanFactory.registerScope(WebApplicationContext.SCOPE_SESSION,new SessionScope(false));
  beanFactory.registerScope(WebApplicationContext.SCOPE_GLOBAL_SESSION,new SessionScope(true));
  if (pc != null) {
    PortletContextScope appScope=new PortletContextScope(pc);
    beanFactory.registerScope(WebApplicationContext.SCOPE_APPLICATION,appScope);
    pc.setAttribute(PortletContextScope.class.getName(),appScope);
  }
  beanFactory.registerResolvableDependency(PortletRequest.class,new RequestObjectFactory());
  beanFactory.registerResolvableDependency(PortletSession.class,new SessionObjectFactory());
  beanFactory.registerResolvableDependency(WebRequest.class,new WebRequestObjectFactory());
}
