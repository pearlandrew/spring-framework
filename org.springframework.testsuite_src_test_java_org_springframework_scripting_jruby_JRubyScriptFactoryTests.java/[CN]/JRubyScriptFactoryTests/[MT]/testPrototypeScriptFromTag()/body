{
  ApplicationContext ctx=new ClassPathXmlApplicationContext("jruby-with-xsd.xml",getClass());
  ConfigurableMessenger messenger=(ConfigurableMessenger)ctx.getBean("messengerPrototype");
  ConfigurableMessenger messenger2=(ConfigurableMessenger)ctx.getBean("messengerPrototype");
  assertNotSame(messenger,messenger2);
  assertSame(messenger.getClass(),messenger2.getClass());
  Assert.assertEquals("Hello World!",messenger.getMessage());
  Assert.assertEquals("Hello World!",messenger2.getMessage());
  messenger.setMessage("Bye World!");
  messenger2.setMessage("Byebye World!");
  Assert.assertEquals("Bye World!",messenger.getMessage());
  Assert.assertEquals("Byebye World!",messenger2.getMessage());
}
