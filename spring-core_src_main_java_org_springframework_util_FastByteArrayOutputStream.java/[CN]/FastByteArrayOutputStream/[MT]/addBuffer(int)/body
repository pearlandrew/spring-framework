{
  if (buffers.peekLast() != null) {
    alreadyBufferedSize+=index;
    index=0;
  }
  if (nextBlockSize < minCapacity) {
    nextBlockSize=nextPowerOf2(minCapacity);
  }
  buffers.add(new byte[nextBlockSize]);
  nextBlockSize*=2;
}
