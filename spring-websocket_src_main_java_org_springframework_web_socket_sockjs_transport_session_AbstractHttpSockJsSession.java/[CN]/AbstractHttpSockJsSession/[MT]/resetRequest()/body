{
synchronized (this.responseLock) {
    ServerHttpAsyncRequestControl control=this.asyncRequestControl;
    this.asyncRequestControl=null;
    this.requestInitialized=false;
    this.response=null;
    updateLastActiveTime();
    if (control != null && !control.isCompleted()) {
      if (control.isStarted()) {
        try {
          logger.debug("Completing asynchronous request");
          control.complete();
        }
 catch (        Throwable ex) {
          logger.error("Failed to complete request: " + ex.getMessage());
        }
      }
    }
  }
}
