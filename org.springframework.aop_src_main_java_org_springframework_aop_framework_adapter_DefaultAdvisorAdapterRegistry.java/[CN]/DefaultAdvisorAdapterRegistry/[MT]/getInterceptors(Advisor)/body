{
  List interceptors=new ArrayList(3);
  Advice advice=advisor.getAdvice();
  if (advice instanceof MethodInterceptor) {
    interceptors.add(advice);
  }
  for (int i=0; i < this.adapters.size(); i++) {
    AdvisorAdapter adapter=(AdvisorAdapter)this.adapters.get(i);
    if (adapter.supportsAdvice(advice)) {
      interceptors.add(adapter.getInterceptor(advisor));
    }
  }
  if (interceptors.isEmpty()) {
    throw new UnknownAdviceTypeException(advisor.getAdvice());
  }
  return (MethodInterceptor[])interceptors.toArray(new MethodInterceptor[interceptors.size()]);
}
