{
  Assert.notNull(targetType,"The targetType to convert to is required");
  if (source == null) {
    return null;
  }
  if (targetType == TypeDescriptor.NULL) {
    return null;
  }
  Class sourceType=ClassUtils.resolvePrimitiveIfNecessary(source.getClass());
  GenericConverter converter=getConverter(sourceType,targetType);
  if (converter != null) {
    try {
      return converter.convert(source,targetType);
    }
 catch (    ConversionFailedException e) {
      throw e;
    }
catch (    Exception e) {
      throw new ConversionFailedException(sourceType,targetType,source,e);
    }
  }
 else {
    if (targetType.isAssignableValue(source)) {
      return source;
    }
 else {
      throw new ConverterNotFoundException(sourceType,targetType.getObjectType());
    }
  }
}
