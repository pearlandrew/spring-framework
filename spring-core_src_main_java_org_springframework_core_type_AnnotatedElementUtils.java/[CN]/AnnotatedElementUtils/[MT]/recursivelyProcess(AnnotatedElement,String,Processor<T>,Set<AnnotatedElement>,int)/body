{
  T result=null;
  if (visited.add(element)) {
    for (    Annotation annotation : element.getAnnotations()) {
      if (annotation.annotationType().getName().equals(annotationType) || depth > 0) {
        result=result != null ? result : processor.process(annotation,depth);
        result=result != null ? result : recursivelyProcess(annotation.annotationType(),annotationType,processor,visited,depth + 1);
      }
    }
    for (    Annotation annotation : element.getAnnotations()) {
      result=result != null ? result : recursivelyProcess(annotation.annotationType(),annotationType,processor,visited,depth);
    }
  }
  return result;
}
