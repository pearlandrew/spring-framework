{
  MockActionRequest request=new MockActionRequest();
  MockActionResponse response=new MockActionResponse();
  request.setPortletMode(PortletMode.EDIT);
  request.addUserRole("role1");
  request.setAttribute("fail",Boolean.TRUE);
  complexDispatcherPortlet.processAction(request,response);
  String exception=response.getRenderParameter(DispatcherPortlet.ACTION_EXCEPTION_RENDER_PARAMETER);
  assertTrue(exception.startsWith(MaxUploadSizeExceededException.class.getName()));
}
