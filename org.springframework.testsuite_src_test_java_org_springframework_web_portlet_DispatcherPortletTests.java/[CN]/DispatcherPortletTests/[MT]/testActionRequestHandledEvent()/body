{
  MockActionRequest request=new MockActionRequest();
  MockActionResponse response=new MockActionResponse();
  complexDispatcherPortlet.processAction(request,response);
  ComplexPortletApplicationContext.TestApplicationListener listener=(ComplexPortletApplicationContext.TestApplicationListener)complexDispatcherPortlet.getPortletApplicationContext().getBean("testListener");
  assertEquals(1,listener.counter);
}
