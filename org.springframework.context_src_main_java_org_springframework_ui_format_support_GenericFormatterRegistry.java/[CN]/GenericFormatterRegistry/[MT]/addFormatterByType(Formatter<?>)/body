{
  Class<?> formattedObjectType=GenericTypeResolver.resolveTypeArgument(formatter.getClass(),Formatter.class);
  if (formattedObjectType == null) {
    throw new IllegalArgumentException("Unable to register Formatter " + formatter + "; cannot determine parameterized object type <T>");
  }
  this.typeFormatters.put(formattedObjectType,new FormatterHolder(formattedObjectType,formatter));
}
