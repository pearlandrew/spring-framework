{
  Class<?> formatterObjectType=GenericTypeResolver.resolveTypeArgument(formatter.getClass(),Formatter.class);
  if (formatterObjectType == null) {
    throw new IllegalArgumentException("Unable to register Formatter " + formatter + "; cannot determine parameterized object type <T>");
  }
  this.typeFormatters.put(formatterObjectType,new FormatterHolder(formatterObjectType,formatter));
}
