{
  LinkedList<Class<?>> classQueue=new LinkedList<Class<?>>();
  classQueue.addFirst(type);
  while (!classQueue.isEmpty()) {
    Class<?> currentClass=classQueue.removeLast();
    FormatterHolder holder=this.typeFormatters.get(currentClass);
    if (holder != null) {
      return holder;
    }
    if (currentClass.getSuperclass() != null) {
      classQueue.addFirst(currentClass.getSuperclass());
    }
    Class<?>[] interfaces=currentClass.getInterfaces();
    for (    Class<?> ifc : interfaces) {
      classQueue.addFirst(ifc);
    }
  }
  return null;
}
