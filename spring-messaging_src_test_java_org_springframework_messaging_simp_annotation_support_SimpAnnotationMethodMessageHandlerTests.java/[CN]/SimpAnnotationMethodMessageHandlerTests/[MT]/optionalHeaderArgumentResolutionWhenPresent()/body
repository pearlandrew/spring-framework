{
  Map<String,Object> headers=Collections.singletonMap("foo","bar");
  Message<?> message=createMessage("/pre/optionalHeaders",headers);
  this.messageHandler.handleMessage(message);
  assertEquals("optionalHeaders",this.testController.method);
  assertEquals("bar",this.testController.arguments.get("foo1"));
  assertEquals("bar",this.testController.arguments.get("foo2"));
}
