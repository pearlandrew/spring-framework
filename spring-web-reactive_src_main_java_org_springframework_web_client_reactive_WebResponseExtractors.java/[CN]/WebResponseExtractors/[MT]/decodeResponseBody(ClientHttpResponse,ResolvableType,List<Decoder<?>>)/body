{
  MediaType contentType=response.getHeaders().getContentType();
  Optional<Decoder<?>> decoder=resolveDecoder(messageDecoders,responseType,contentType);
  if (!decoder.isPresent()) {
    return Flux.error(new IllegalStateException("Could not decode response body of type '" + contentType + "' with target type '"+ responseType.toString()+ "'"));
  }
  return (Flux<T>)decoder.get().decode(response.getBody(),responseType,contentType,HINTS);
}
