{
  StringBuffer buf=new StringBuffer();
  if (shouldPrintSession()) {
    buf.append(getSessionName(entry.getSession()));
    buf.append("(");
    buf.append(String.valueOf(System.identityHashCode(entry.getSession())));
    buf.append(")");
    buf.append(getSeparator());
  }
  if (shouldPrintConnection() && entry.getConnection() != null) {
    buf.append("Connection");
    buf.append("(");
    buf.append(String.valueOf(System.identityHashCode(entry.getConnection())));
    buf.append(")");
    buf.append(getSeparator());
  }
  buf.append(entry.getMessage());
  return buf.toString();
}
