{
  if (!mapType.isInterface()) {
    try {
      return mapType.newInstance();
    }
 catch (    Exception ex) {
      throw new IllegalArgumentException("Could not instantiate map class [" + mapType.getName() + "]: "+ ex.getMessage());
    }
  }
 else   if (SortedMap.class.equals(mapType)) {
    return new TreeMap<Object,Object>();
  }
 else {
    return new LinkedHashMap<Object,Object>(initialCapacity);
  }
}
