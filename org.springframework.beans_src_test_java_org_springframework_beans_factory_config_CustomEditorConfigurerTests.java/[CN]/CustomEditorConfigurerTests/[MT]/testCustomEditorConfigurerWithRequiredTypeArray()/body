{
  DefaultListableBeanFactory bf=new DefaultListableBeanFactory();
  CustomEditorConfigurer cec=new CustomEditorConfigurer();
  Map<String,String> editors=new HashMap<String,String>();
  editors.put("java.lang.String[]",MyTestEditor.class.getName());
  cec.setCustomEditors(editors);
  cec.postProcessBeanFactory(bf);
  MutablePropertyValues pvs=new MutablePropertyValues();
  pvs.addPropertyValue("stringArray","xxx");
  bf.registerBeanDefinition("tb",new RootBeanDefinition(TestBean.class,pvs));
  TestBean tb=(TestBean)bf.getBean("tb");
  assertTrue(tb.getStringArray() != null && tb.getStringArray().length == 1);
  assertEquals("test",tb.getStringArray()[0]);
}
