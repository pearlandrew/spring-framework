{
  ClassPathXmlApplicationContext ctx=new ClassPathXmlApplicationContext(new String[]{"/org/springframework/context/support/test/contextB.xml","/org/springframework/context/support/test/contextC.xml","/org/springframework/context/support/test/contextA.xml"});
  assertTrue(ctx.containsBean("service"));
  assertTrue(ctx.containsBean("logicOne"));
  assertTrue(ctx.containsBean("logicTwo"));
  Service service=(Service)ctx.getBean("service");
  ctx.refresh();
  assertTrue(service.isProperlyDestroyed());
  service=(Service)ctx.getBean("service");
  ctx.close();
  assertTrue(service.isProperlyDestroyed());
}
