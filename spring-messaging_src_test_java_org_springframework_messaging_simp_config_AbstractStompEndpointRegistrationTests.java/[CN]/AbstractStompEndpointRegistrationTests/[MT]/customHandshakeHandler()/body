{
  DefaultHandshakeHandler handshakeHandler=new DefaultHandshakeHandler();
  TestStompEndpointRegistration registration=new TestStompEndpointRegistration(new String[]{"/foo"},this.wsHandler,this.scheduler);
  registration.setHandshakeHandler(handshakeHandler);
  List<Mapping> mappings=registration.getMappings();
  assertEquals(1,mappings.size());
  Mapping m1=mappings.get(0);
  assertSame(this.wsHandler,m1.webSocketHandler);
  assertEquals("/foo",m1.path);
  assertSame(handshakeHandler,m1.handshakeHandler);
}
