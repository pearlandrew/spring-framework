{
  WireFeedInput feedInput=new WireFeedInput();
  MediaType contentType=inputMessage.getHeaders().getContentType();
  Charset charset;
  if (contentType != null && contentType.getCharSet() != null) {
    charset=contentType.getCharSet();
  }
 else {
    charset=DEFAULT_CHARSET;
  }
  try {
    Reader reader=new InputStreamReader(inputMessage.getBody(),charset);
    return (T)feedInput.build(reader);
  }
 catch (  FeedException ex) {
    throw new HttpMessageNotReadableException("Could not read WireFeed: " + ex.getMessage(),ex);
  }
}
