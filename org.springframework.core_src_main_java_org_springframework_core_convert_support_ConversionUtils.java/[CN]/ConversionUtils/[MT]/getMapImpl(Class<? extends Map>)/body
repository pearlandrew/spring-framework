{
  if (targetMapType.isInterface()) {
    if (Map.class.equals(targetMapType)) {
      return HashMap.class;
    }
 else     if (SortedMap.class.equals(targetMapType)) {
      return TreeMap.class;
    }
 else {
      throw new IllegalArgumentException("Unsupported Map interface [" + targetMapType.getName() + "]");
    }
  }
 else {
    return targetMapType;
  }
}
