{
  if (!(object instanceof Message)) {
    throw new IllegalArgumentException("Could not convert [" + object + "] - only ["+ Message.class.getName()+ "] is handled by this converter");
  }
  Message<?> input=(Message<?>)object;
  javax.jms.Message reply=createMessageForPayload(input.getPayload(),session);
  this.headerMapper.fromHeaders(input.getHeaders(),reply);
  return reply;
}
