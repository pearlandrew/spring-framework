{
  if (StompHeaderAccessor.wrap(message).getMessageType() != SimpMessageType.HEARTBEAT) {
synchronized (this.monitor) {
      for (      MessageExchange exch : this.expected) {
        if (exch.matchMessage(message)) {
          if (exch.isDone()) {
            this.expected.remove(exch);
            this.actual.add(exch);
            if (this.expected.isEmpty()) {
              this.monitor.notifyAll();
            }
          }
          return;
        }
      }
      this.unexpected.add(message);
    }
  }
}
