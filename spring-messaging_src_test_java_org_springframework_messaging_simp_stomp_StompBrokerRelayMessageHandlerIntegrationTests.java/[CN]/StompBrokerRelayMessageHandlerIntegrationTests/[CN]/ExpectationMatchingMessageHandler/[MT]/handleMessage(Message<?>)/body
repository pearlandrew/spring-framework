{
  for (  MessageExchange exch : this.expected) {
    if (exch.matchMessage(message)) {
      if (exch.isDone()) {
        this.expected.remove(exch);
        this.actual.add(exch);
        if (this.expected.isEmpty()) {
          this.latch.countDown();
        }
      }
      return;
    }
  }
  this.unexpected.add(message);
}
