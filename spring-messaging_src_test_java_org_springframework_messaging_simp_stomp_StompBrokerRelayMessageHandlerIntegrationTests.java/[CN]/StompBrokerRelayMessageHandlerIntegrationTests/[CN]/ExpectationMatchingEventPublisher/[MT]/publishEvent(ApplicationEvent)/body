{
  logger.debug("Processing ApplicationEvent " + event);
  if (event instanceof BrokerAvailabilityEvent) {
synchronized (this.monitor) {
      this.actual.add(((BrokerAvailabilityEvent)event).isBrokerAvailable());
      if (this.actual.size() == this.expected.size()) {
        this.monitor.notifyAll();
      }
    }
  }
}
