{
  Signal<HandlerResult> signal=awaitSignals(publisher).get(0);
  if (!type.equals(signal.getType()) && signal.isOnError()) {
    logger.error("Unexpected error: ",signal.getThrowable());
  }
  assertEquals("Unexpected signal: " + signal,type,signal.getType());
  return signal;
}
