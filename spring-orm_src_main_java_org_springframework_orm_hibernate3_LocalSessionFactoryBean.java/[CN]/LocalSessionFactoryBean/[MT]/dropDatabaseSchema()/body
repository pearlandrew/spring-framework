{
  logger.info("Dropping database schema for Hibernate SessionFactory");
  SessionFactory sessionFactory=getSessionFactory();
  final Dialect dialect=((SessionFactoryImplementor)sessionFactory).getDialect();
  HibernateTemplate hibernateTemplate=new HibernateTemplate(sessionFactory);
  hibernateTemplate.execute(new HibernateCallback<Object>(){
    public Object doInHibernate(    Session session) throws HibernateException, SQLException {
      @SuppressWarnings("deprecation") Connection con=session.connection();
      String[] sql=getConfiguration().generateDropSchemaScript(dialect);
      executeSchemaScript(con,sql);
      return null;
    }
  }
);
}
