{
  if (checkForXmlRootElement && clazz.getAnnotation(XmlRootElement.class) == null) {
    return false;
  }
  if (clazz.getAnnotation(XmlType.class) == null) {
    return false;
  }
  if (StringUtils.hasLength(getContextPath())) {
    String className=ClassUtils.getQualifiedName(clazz);
    int lastDotIndex=className.lastIndexOf('.');
    if (lastDotIndex == -1) {
      return false;
    }
    String packageName=className.substring(0,lastDotIndex);
    String[] contextPaths=StringUtils.tokenizeToStringArray(getContextPath(),":");
    for (    String contextPath : contextPaths) {
      if (contextPath.equals(packageName)) {
        return true;
      }
    }
    return false;
  }
 else   if (!ObjectUtils.isEmpty(classesToBeBound)) {
    return Arrays.asList(classesToBeBound).contains(clazz);
  }
  return false;
}
