{
  if ((this.queueSuffixResolver != null) && (session.getPrincipal() != null)) {
    this.queueSuffixResolver.removeQueueSuffix(session.getPrincipal().getName(),session.getId());
  }
  StompHeaderAccessor headers=StompHeaderAccessor.create(StompCommand.DISCONNECT);
  headers.setSessionId(session.getId());
  Message<?> message=MessageBuilder.withPayloadAndHeaders(new byte[0],headers).build();
  outputChannel.send(message);
}
