{
  BeanDefinitionRegistry configBeanDefs=getConfigurationBeanDefinitions(true);
  assertCglibIsPresent(configBeanDefs);
  ConfigurationEnhancer enhancer=new ConfigurationEnhancer(beanFactory);
  for (  String beanName : configBeanDefs.getBeanDefinitionNames()) {
    BeanDefinition beanDef=beanFactory.getBeanDefinition(beanName);
    String configClassName=beanDef.getBeanClassName();
    String enhancedClassName=enhancer.enhance(configClassName);
    if (logger.isDebugEnabled())     logger.debug(format("Replacing bean definition '%s' existing class name '%s' with enhanced class name '%s'",beanName,configClassName,enhancedClassName));
    beanDef.setBeanClassName(enhancedClassName);
  }
}
