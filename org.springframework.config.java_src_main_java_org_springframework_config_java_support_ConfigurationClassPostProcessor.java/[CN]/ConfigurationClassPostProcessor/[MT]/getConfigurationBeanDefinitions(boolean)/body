{
  BeanDefinitionRegistry configBeanDefs=new DefaultListableBeanFactory();
  for (  String beanName : beanFactory.getBeanDefinitionNames()) {
    BeanDefinition beanDef=beanFactory.getBeanDefinition(beanName);
    if (beanDef.isAbstract() && !includeAbstractBeanDefs)     continue;
    if (isConfigurationClassBeanDefinition(beanDef))     configBeanDefs.registerBeanDefinition(beanName,beanDef);
  }
  return configBeanDefs;
}
