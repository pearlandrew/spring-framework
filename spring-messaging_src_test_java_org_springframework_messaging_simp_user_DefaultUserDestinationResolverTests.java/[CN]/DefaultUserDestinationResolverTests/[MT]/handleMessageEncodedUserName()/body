{
  String userName="http://joe.openid.example.org/";
  this.registry.registerSessionId(userName,"openid123");
  String destination="/user/" + StringUtils.replace(userName,"/","%2F") + "/queue/foo";
  Message<?> message=createWith(SimpMessageType.MESSAGE,this.user,null,destination);
  UserDestinationResult actual=this.resolver.resolveDestination(message);
  assertEquals(1,actual.getTargetDestinations().size());
  assertEquals("/queue/foo-useropenid123",actual.getTargetDestinations().iterator().next());
}
