{
  String attributeName="sessionAttr";
  String attribute="value";
  ModelAndViewContainer container=new ModelAndViewContainer();
  container.addAttribute(attributeName,attribute);
  this.sessionAttributeStore.storeAttribute(this.webRequest,attributeName,attribute);
  this.sessionAttrsHandler.isHandlerSessionAttribute(attributeName,null);
  WebDataBinder dataBinder=new WebDataBinder(attribute,attributeName);
  WebDataBinderFactory binderFactory=mock(WebDataBinderFactory.class);
  given(binderFactory.createBinder(this.webRequest,attribute,attributeName)).willReturn(dataBinder);
  container.getSessionStatus().setComplete();
  ModelFactory modelFactory=new ModelFactory(null,binderFactory,this.sessionAttrsHandler);
  modelFactory.updateModel(this.webRequest,container);
  assertEquals(attribute,container.getModel().get(attributeName));
  assertNull(this.sessionAttributeStore.retrieveAttribute(this.webRequest,attributeName));
}
