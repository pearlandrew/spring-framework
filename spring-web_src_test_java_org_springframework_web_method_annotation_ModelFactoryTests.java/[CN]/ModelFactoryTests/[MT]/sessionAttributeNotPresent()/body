{
  ModelFactory modelFactory=new ModelFactory(null,null,this.sessionAttrsHandler);
  try {
    modelFactory.initModel(this.webRequest,new ModelAndViewContainer(),this.handleSessionAttrMethod);
    fail("Expected HttpSessionRequiredException");
  }
 catch (  HttpSessionRequiredException e) {
  }
  this.sessionAttributeStore.storeAttribute(this.webRequest,"sessionAttr","sessionAttrValue");
  ModelAndViewContainer mavContainer=new ModelAndViewContainer();
  modelFactory.initModel(this.webRequest,mavContainer,this.handleSessionAttrMethod);
  assertEquals("sessionAttrValue",mavContainer.getModel().get("sessionAttr"));
}
