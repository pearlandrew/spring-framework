{
  if (requiredType == null && propertyPath == null) {
    throw new IllegalArgumentException("Either requiredType or propertyPath is required");
  }
  if (propertyPath != null) {
    if (this.customEditorsForPath == null) {
      this.customEditorsForPath=new LinkedHashMap<String,CustomEditorHolder>(16);
    }
    this.customEditorsForPath.put(propertyPath,new CustomEditorHolder(propertyEditor,requiredType));
  }
 else {
    if (this.customEditors == null) {
      this.customEditors=new LinkedHashMap<Class,PropertyEditor>(16);
    }
    this.customEditors.put(requiredType,propertyEditor);
    this.customEditorCache=null;
  }
}
