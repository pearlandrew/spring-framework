{
  Class handlerClass=ClassUtils.getUserClass(handler);
  PortletHandlerMethodResolver resolver=this.methodResolverCache.get(handlerClass);
  if (resolver == null) {
synchronized (this.methodResolverCache) {
      resolver=this.methodResolverCache.get(handlerClass);
      if (resolver == null) {
        resolver=new PortletHandlerMethodResolver(handlerClass);
        this.methodResolverCache.put(handlerClass,resolver);
      }
    }
  }
  return resolver;
}
