{
  ExpressionState state=getState();
  Assert.assertNull(state.lookupLocalVariable("foo"));
  Assert.assertNull(state.lookupLocalVariable("goo"));
  Map<String,Object> m=new HashMap<String,Object>();
  m.put("foo",34);
  m.put("goo","abc");
  state.enterScope(m);
  Assert.assertEquals(34,state.lookupLocalVariable("foo"));
  Assert.assertEquals("abc",state.lookupLocalVariable("goo"));
  state.enterScope(null);
  state.setLocalVariable("foo",12);
  Assert.assertEquals(12,state.lookupLocalVariable("foo"));
  Assert.assertEquals("abc",state.lookupLocalVariable("goo"));
  state.exitScope();
  state.exitScope();
  Assert.assertNull(state.lookupLocalVariable("foo"));
  Assert.assertNull(state.lookupLocalVariable("goo"));
}
