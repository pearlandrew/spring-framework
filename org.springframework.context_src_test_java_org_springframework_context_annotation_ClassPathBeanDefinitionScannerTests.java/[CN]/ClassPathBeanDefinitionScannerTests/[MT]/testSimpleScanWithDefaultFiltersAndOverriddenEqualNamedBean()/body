{
  GenericApplicationContext context=new GenericApplicationContext();
  context.registerBeanDefinition("myNamedDao",new RootBeanDefinition(NamedStubDao.class));
  ClassPathBeanDefinitionScanner scanner=new ClassPathBeanDefinitionScanner(context);
  scanner.setIncludeAnnotationConfig(false);
  int beanCount=scanner.scan(BASE_PACKAGE);
  assertEquals(5,beanCount);
  assertEquals(6,context.getBeanDefinitionCount());
  assertTrue(context.containsBean("serviceInvocationCounter"));
  assertTrue(context.containsBean("fooServiceImpl"));
  assertTrue(context.containsBean("stubFooDao"));
  assertTrue(context.containsBean("myNamedComponent"));
  assertTrue(context.containsBean("myNamedDao"));
}
