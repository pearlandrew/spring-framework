{
  GenericApplicationContext context=new GenericApplicationContext();
  ClassPathBeanDefinitionScanner scanner=new ClassPathBeanDefinitionScanner(context);
  scanner.setIncludeAnnotationConfig(false);
  try {
    scanner.scan("org.springframework.context.annotation3");
    scanner.scan(BASE_PACKAGE);
    fail("Should have thrown IllegalStateException");
  }
 catch (  IllegalStateException ex) {
    assertTrue(ex.getMessage().indexOf("stubFooDao") != -1);
    assertTrue(ex.getMessage().indexOf(StubFooDao.class.getName()) != -1);
  }
}
