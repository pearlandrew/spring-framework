{
  Method method=JacksonViewController.class.getMethod("handleResponseBody");
  HandlerMethod handlerMethod=new HandlerMethod(new JacksonViewController(),method);
  MethodParameter methodReturnType=handlerMethod.getReturnType();
  List<HttpMessageConverter<?>> converters=new ArrayList<HttpMessageConverter<?>>();
  converters.add(new MappingJackson2HttpMessageConverter());
  RequestResponseBodyMethodProcessor processor=new RequestResponseBodyMethodProcessor(converters);
  processor.handleReturnValue(new JacksonViewController().handleResponseBody(),methodReturnType,mavContainer,webRequest);
  String content=servletResponse.getContentAsString();
  assertFalse(content.contains("\"withView1\":\"with\""));
  assertTrue(content.contains("\"withView2\":\"with\""));
  assertTrue(content.contains("\"withoutView\":\"without\""));
}
