{
  Assert.notNull(beanPostProcessor,"BeanPostProcessor must not be null");
  this.beanPostProcessors.add(beanPostProcessor);
  if (beanPostProcessor instanceof InstantiationAwareBeanPostProcessor) {
    this.hasInstantiationAwareBeanPostProcessors=true;
  }
  if (beanPostProcessor instanceof DestructionAwareBeanPostProcessor) {
    this.hasDestructionAwareBeanPostProcessors=true;
  }
}
