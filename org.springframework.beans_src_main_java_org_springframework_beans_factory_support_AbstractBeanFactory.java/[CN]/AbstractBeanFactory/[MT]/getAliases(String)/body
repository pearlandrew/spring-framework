{
  String beanName=transformedBeanName(name);
  List aliases=new ArrayList();
  boolean factoryPrefix=name.startsWith(FACTORY_BEAN_PREFIX);
  String fullBeanName=beanName;
  if (factoryPrefix) {
    fullBeanName=FACTORY_BEAN_PREFIX + beanName;
  }
  if (!fullBeanName.equals(name)) {
    aliases.add(fullBeanName);
  }
  String[] retrievedAliases=super.getAliases(beanName);
  for (int i=0; i < retrievedAliases.length; i++) {
    String alias=(factoryPrefix ? FACTORY_BEAN_PREFIX : "") + retrievedAliases[i];
    if (!alias.equals(name)) {
      aliases.add(alias);
    }
  }
  if (!containsSingleton(beanName) && !containsBeanDefinition(beanName)) {
    BeanFactory parentBeanFactory=getParentBeanFactory();
    if (parentBeanFactory != null) {
      aliases.addAll(Arrays.asList(parentBeanFactory.getAliases(fullBeanName)));
    }
  }
  return StringUtils.toStringArray(aliases);
}
