{
  if (annotation != null) {
    String[] value=(String[])AnnotationUtils.getValue(annotation);
    if (!ObjectUtils.isEmpty(value)) {
      return value;
    }
  }
  String name=DestinationPatternsMessageCondition.LOOKUP_DESTINATION_HEADER;
  String destination=(String)message.getHeaders().get(name);
  if (StringUtils.hasLength(destination) && !destination.startsWith("/")) {
    destination="/" + destination;
  }
  return new String[]{defaultPrefix + destination};
}
