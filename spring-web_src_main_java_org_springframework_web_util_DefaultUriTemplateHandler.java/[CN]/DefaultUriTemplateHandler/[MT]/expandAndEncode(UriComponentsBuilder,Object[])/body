{
  if (!isStrictEncoding()) {
    return builder.build().expand(uriVariables).encode();
  }
 else {
    Object[] encodedUriVars=new Object[uriVariables.length];
    for (int i=0; i < uriVariables.length; i++) {
      encodedUriVars[i]=encodeValue(uriVariables[i]);
    }
    return builder.build().expand(encodedUriVars);
  }
}
