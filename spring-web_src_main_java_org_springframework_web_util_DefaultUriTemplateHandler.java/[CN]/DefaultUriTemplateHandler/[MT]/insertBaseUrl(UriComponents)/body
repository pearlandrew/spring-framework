{
  String url=uriComponents.toUriString();
  if (getBaseUrl() != null && uriComponents.getHost() == null) {
    url=getBaseUrl() + url;
  }
  try {
    return new URI(url);
  }
 catch (  URISyntaxException ex) {
    throw new IllegalArgumentException("Invalid URL after inserting base URL: " + url,ex);
  }
}
