{
  Scope scope=SingletonInterfaceProxy.class.getAnnotation(Scope.class);
  BeanMethod beanMethod=new BeanMethod(beanName,0,returnType,beanAnno,scope);
  beanMethod.setDeclaringClass(declaringClass);
  try {
    beanMethod.validate(problemReporter);
    fail("should have failed due to singleton with scoped proxy");
  }
 catch (  Exception ex) {
    assertTrue(ex.getMessage().contains("cannot be created for singleton/prototype beans"));
  }
}
