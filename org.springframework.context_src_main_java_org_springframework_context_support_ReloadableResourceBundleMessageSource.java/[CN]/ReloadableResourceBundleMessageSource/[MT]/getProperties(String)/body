{
synchronized (this.cachedProperties) {
    PropertiesHolder propHolder=(PropertiesHolder)this.cachedProperties.get(filename);
    if (propHolder != null && (propHolder.getRefreshTimestamp() < 0 || propHolder.getRefreshTimestamp() > System.currentTimeMillis() - this.cacheMillis)) {
      return propHolder;
    }
    return refreshProperties(filename,propHolder);
  }
}
