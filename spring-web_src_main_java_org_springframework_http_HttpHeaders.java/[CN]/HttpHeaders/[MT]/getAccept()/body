{
  String value=getFirst(ACCEPT);
  List<MediaType> result=(value != null ? MediaType.parseMediaTypes(value) : Collections.<MediaType>emptyList());
  if (result.size() == 1) {
    List<String> acceptHeader=get(ACCEPT);
    if (acceptHeader.size() > 1) {
      value=StringUtils.collectionToCommaDelimitedString(acceptHeader);
      result=MediaType.parseMediaTypes(value);
    }
  }
  return result;
}
