{
  String value=getFirst(ACCEPT);
  List<MediaType> result=(value != null) ? MediaType.parseMediaTypes(value) : Collections.<MediaType>emptyList();
  if ((result.size() == 1) && (headers.get(ACCEPT).size() > 1)) {
    value=StringUtils.collectionToCommaDelimitedString(headers.get(ACCEPT));
    result=MediaType.parseMediaTypes(value);
  }
  return result;
}
