{
  Map<String,PersistenceExceptionTranslator> pets=BeanFactoryUtils.beansOfTypeIncludingAncestors(beanFactory,PersistenceExceptionTranslator.class,false,false);
  if (pets.isEmpty()) {
    throw new IllegalStateException("No persistence exception translators found in bean factory. Cannot perform exception translation.");
  }
  ChainedPersistenceExceptionTranslator cpet=new ChainedPersistenceExceptionTranslator();
  for (  PersistenceExceptionTranslator pet : pets.values()) {
    cpet.addDelegate(pet);
  }
  return cpet;
}
