{
  Method setLoginMethod=null;
  try {
    Class loginClass=DatabaseSession.class.getClassLoader().loadClass("oracle.toplink.sessions.Login");
    setLoginMethod=DatabaseSession.class.getMethod("setLogin",new Class[]{loginClass});
    if (logger.isDebugEnabled()) {
      logger.debug("Using TopLink 10.1.3 setLogin(Login) API");
    }
  }
 catch (  Exception ex) {
    if (logger.isDebugEnabled()) {
      logger.debug("Using TopLink 9.0.4 setLogin(DatabaseLogin) API");
    }
    session.setLogin(login);
    return;
  }
  ReflectionUtils.invokeMethod(setLoginMethod,session,new Object[]{login});
}
