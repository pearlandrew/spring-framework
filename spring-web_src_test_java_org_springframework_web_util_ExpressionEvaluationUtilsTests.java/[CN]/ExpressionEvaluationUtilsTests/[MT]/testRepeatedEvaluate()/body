{
  MockServletContext sc=new MockServletContext();
  sc.addInitParameter("springJspExpressionSupport","true");
  PageContext ctx=new CountingMockPageContext(sc);
  CountingMockExpressionEvaluator eval=(CountingMockExpressionEvaluator)ctx.getExpressionEvaluator();
  ctx.setAttribute("bla","blie");
  ctx.setAttribute("blo","blue");
  assertEquals("blie",ExpressionEvaluationUtils.evaluate("test","${bla}",String.class,ctx));
  assertEquals(1,eval.evaluateCount);
  assertEquals("blue",ExpressionEvaluationUtils.evaluate("test","${blo}",String.class,ctx));
  assertEquals(2,eval.evaluateCount);
  assertEquals("blie",ExpressionEvaluationUtils.evaluate("test","${bla}",String.class,ctx));
  assertEquals(3,eval.evaluateCount);
  assertEquals("blue",ExpressionEvaluationUtils.evaluate("test","${blo}",String.class,ctx));
  assertEquals(4,eval.evaluateCount);
}
