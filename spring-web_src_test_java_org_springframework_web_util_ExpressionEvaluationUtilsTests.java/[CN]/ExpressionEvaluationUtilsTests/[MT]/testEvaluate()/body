{
  MockServletContext sc=new MockServletContext();
  sc.addInitParameter("springJspExpressionSupport","true");
  MockPageContext ctx=new MockPageContext(sc);
  ctx.setAttribute("bla","blie");
  assertEquals("blie",ExpressionEvaluationUtils.evaluate("test","${bla}",String.class,ctx));
  assertEquals("test",ExpressionEvaluationUtils.evaluate("test","test",String.class,ctx));
  try {
    ExpressionEvaluationUtils.evaluate("test","test",Float.class,ctx);
    fail("Should have thrown JspException");
  }
 catch (  JspException ex) {
  }
}
