{
  AbstractWizardFormController wizard=new TestWizardController();
  wizard.setAllowDirtyBack(false);
  wizard.setAllowDirtyForward(false);
  wizard.setPageAttribute("currentPage");
  assertTrue(wizard.getFormSessionAttributeName() != wizard.getPageSessionAttributeName());
  HttpSession session=performRequest(wizard,null,null,0,null,0,"currentPage");
  Properties params=new Properties();
  params.setProperty(AbstractWizardFormController.PARAM_TARGET + "1","value");
  performRequest(wizard,session,null,0,null,0,"currentPage");
  params.clear();
  params.setProperty("name","myname");
  params.setProperty(AbstractWizardFormController.PARAM_PAGE,"0");
  params.setProperty(AbstractWizardFormController.PARAM_TARGET + "1","value");
  performRequest(wizard,session,params,1,"myname",0,"currentPage");
  params.clear();
  params.setProperty("name","myname");
  performRequest(wizard,session,params,1,"myname",0,"currentPage");
  params.clear();
  params.setProperty("name","myname");
  params.setProperty(AbstractWizardFormController.PARAM_TARGET + "1.x","value");
  performRequest(wizard,session,params,1,"myname",0,"currentPage");
  params.clear();
  params.setProperty("name","myname");
  params.setProperty(AbstractWizardFormController.PARAM_TARGET + "1.y","value");
  performRequest(wizard,session,params,1,"myname",0,"currentPage");
  params.clear();
  params.setProperty("date","not a date");
  params.setProperty(AbstractWizardFormController.PARAM_TARGET + "1.y","value");
  performRequest(wizard,session,params,1,"myname",0,"currentPage");
  params.clear();
  params.setProperty(AbstractWizardFormController.PARAM_TARGET + "0","value");
  performRequest(wizard,session,params,1,"myname",0,"currentPage");
  params.clear();
  params.setProperty("age","32");
  params.setProperty(AbstractWizardFormController.PARAM_PAGE,"1");
  params.setProperty(AbstractWizardFormController.PARAM_TARGET + "0","value");
  performRequest(wizard,session,params,0,"myname",32,"currentPage");
  params.clear();
  params.setProperty(AbstractWizardFormController.PARAM_FINISH,"value");
  performRequest(wizard,session,params,-1,"myname",32,null);
}
