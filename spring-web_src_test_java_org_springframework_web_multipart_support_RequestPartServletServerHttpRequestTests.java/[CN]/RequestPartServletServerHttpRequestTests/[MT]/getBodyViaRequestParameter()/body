{
  MockMultipartHttpServletRequest mockRequest=new MockMultipartHttpServletRequest(){
    @Override public HttpHeaders getMultipartHeaders(    String paramOrFileName){
      HttpHeaders headers=new HttpHeaders();
      headers.setContentType(new MediaType("application","octet-stream",Charset.forName("iso-8859-1")));
      return headers;
    }
  }
;
  byte[] bytes={(byte)0xC4};
  mockRequest.setParameter("part",new String(bytes,Charset.forName("iso-8859-1")));
  ServerHttpRequest request=new RequestPartServletServerHttpRequest(mockRequest,"part");
  byte[] result=FileCopyUtils.copyToByteArray(request.getBody());
  assertArrayEquals(bytes,result);
}
