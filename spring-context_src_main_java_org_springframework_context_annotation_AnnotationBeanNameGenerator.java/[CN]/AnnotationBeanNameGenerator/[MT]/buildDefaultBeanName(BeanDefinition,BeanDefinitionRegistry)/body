{
  String generatedName=buildDefaultBeanName(definition);
  String id=generatedName;
  int counter=0;
  while (registry.containsBeanDefinition(id)) {
    counter++;
    id=generatedName + BeanFactoryUtils.GENERATED_BEAN_NAME_SEPARATOR + counter;
  }
  return id;
}
