{
  final boolean originallyHadResources=configAttributes.hasResources();
  for (  SmartContextLoader loader : candidates) {
    if (logger.isDebugEnabled()) {
      logger.debug(String.format("Potentially delegating to %s to process context configuration [%s].",loader.getClass().getName(),configAttributes));
    }
    if (originallyHadResources) {
      loader.processContextConfiguration(configAttributes);
    }
 else     if (loader.generatesDefaults()) {
      loader.processContextConfiguration(configAttributes);
      if (configAttributes.hasResources() && logger.isInfoEnabled()) {
        logger.info(String.format("SmartContextLoader candidate %s " + "generated defaults for context configuration [%s].",loader,configAttributes));
      }
    }
  }
  if (generatesDefaults() && !originallyHadResources && !configAttributes.hasResources()) {
    throw new IllegalStateException(String.format("None of the SmartContextLoader candidates %s " + "was able to generate defaults for context configuration [%s].",candidates,configAttributes));
  }
}
