{
  final Class<?> aspectClass=maaif.getAspectMetadata().getAspectClass();
  final String aspectName=maaif.getAspectMetadata().getAspectName();
  validate(aspectClass);
  final MetadataAwareAspectInstanceFactory lazySingletonAspectInstanceFactory=new LazySingletonAspectInstanceFactoryDecorator(maaif);
  final List<Advisor> advisors=new LinkedList<Advisor>();
  ReflectionUtils.doWithMethods(aspectClass,new ReflectionUtils.MethodCallback(){
    public void doWith(    Method method) throws IllegalArgumentException {
      if (AnnotationUtils.getAnnotation(method,Pointcut.class) == null) {
        Advisor advisor=getAdvisor(method,lazySingletonAspectInstanceFactory,advisors.size(),aspectName);
        if (advisor != null) {
          advisors.add(advisor);
        }
      }
    }
  }
);
  if (!advisors.isEmpty() && lazySingletonAspectInstanceFactory.getAspectMetadata().isLazilyInstantiated()) {
    Advisor instantiationAdvisor=new SyntheticInstantiationAdvisor(lazySingletonAspectInstanceFactory);
    advisors.add(0,instantiationAdvisor);
  }
  for (  Field field : aspectClass.getDeclaredFields()) {
    Advisor advisor=getDeclareParentsAdvisor(field);
    if (advisor != null) {
      advisors.add(advisor);
    }
  }
  return advisors;
}
