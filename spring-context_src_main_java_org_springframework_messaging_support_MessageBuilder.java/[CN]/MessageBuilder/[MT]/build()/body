{
  if (this.originalMessage != null && this.headers.equals(this.originalMessage.getHeaders()) && this.payload.equals(this.originalMessage.getPayload())) {
    return this.originalMessage;
  }
  this.headers.remove(MessageHeaders.ID);
  this.headers.remove(MessageHeaders.TIMESTAMP);
  if (messageFactory == null) {
    return new GenericMessage<T>(this.payload,this.headers);
  }
 else {
    return messageFactory.createMessage(payload,headers);
  }
}
