{
  if (returnValue == null) {
    return;
  }
  SimpMessageHeaderAccessor inputHeaders=SimpMessageHeaderAccessor.wrap(message);
  String sessionId=inputHeaders.getSessionId();
  String subscriptionId=inputHeaders.getSubscriptionId();
  String destination=inputHeaders.getDestination();
  Assert.state(inputHeaders.getSubscriptionId() != null,"No subsriptiondId in input message. Add @ReplyTo or @ReplyToUser to method: " + returnType.getMethod());
  MessagePostProcessor postProcessor=new SubscriptionHeaderPostProcessor(sessionId,subscriptionId);
  this.messagingTemplate.convertAndSend(destination,returnValue,postProcessor);
}
