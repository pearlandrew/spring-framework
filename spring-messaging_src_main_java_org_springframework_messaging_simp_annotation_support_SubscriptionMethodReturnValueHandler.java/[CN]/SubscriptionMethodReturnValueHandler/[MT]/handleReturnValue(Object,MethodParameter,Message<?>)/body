{
  if (returnValue == null) {
    return;
  }
  MessageHeaders headers=message.getHeaders();
  String destination=SimpMessageHeaderAccessor.getDestination(headers);
  String sessionId=SimpMessageHeaderAccessor.getSessionId(headers);
  String subscriptionId=SimpMessageHeaderAccessor.getSubscriptionId(headers);
  Assert.state(subscriptionId != null,"No subscriptionId in message=" + message + ", method="+ returnType.getMethod());
  this.messagingTemplate.convertAndSend(destination,returnValue,createHeaders(sessionId,subscriptionId));
}
