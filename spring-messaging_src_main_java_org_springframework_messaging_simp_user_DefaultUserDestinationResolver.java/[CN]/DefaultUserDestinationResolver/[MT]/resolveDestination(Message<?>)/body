{
  String destination=SimpMessageHeaderAccessor.getDestination(message.getHeaders());
  DestinationInfo info=parseUserDestination(message);
  if (info == null) {
    return null;
  }
  Set<String> resolved=new HashSet<String>();
  for (  String sessionId : info.getSessionIds()) {
    String targetDestination=getTargetDestination(destination,info.getDestinationWithoutPrefix(),sessionId,info.getUser());
    if (targetDestination != null) {
      resolved.add(targetDestination);
    }
  }
  return new UserDestinationResult(destination,resolved,info.getSubscribeDestination(),info.getUser());
}
