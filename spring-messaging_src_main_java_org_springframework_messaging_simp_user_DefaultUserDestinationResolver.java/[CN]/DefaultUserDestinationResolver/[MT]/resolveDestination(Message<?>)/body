{
  SimpMessageHeaderAccessor headers=SimpMessageHeaderAccessor.wrap(message);
  DestinationInfo info=parseUserDestination(headers);
  if (info == null) {
    return null;
  }
  Set<String> targetDestinations=new HashSet<String>();
  for (  String sessionId : info.getSessionIds()) {
    targetDestinations.add(getTargetDestination(headers.getDestination(),info.getDestinationWithoutPrefix(),sessionId,info.getUser()));
  }
  return new UserDestinationResult(headers.getDestination(),targetDestinations,info.getSubscribeDestination(),info.getUser());
}
