{
  if (isPubSubDomain()) {
    if (isSubscriptionDurable()) {
      return ((TopicSession)session).createDurableSubscriber((Topic)destination,getDurableSubscriptionName(),getMessageSelector(),isPubSubNoLocal());
    }
 else {
      return ((TopicSession)session).createSubscriber((Topic)destination,getMessageSelector(),isPubSubNoLocal());
    }
  }
 else {
    return ((QueueSession)session).createReceiver((Queue)destination,getMessageSelector());
  }
}
