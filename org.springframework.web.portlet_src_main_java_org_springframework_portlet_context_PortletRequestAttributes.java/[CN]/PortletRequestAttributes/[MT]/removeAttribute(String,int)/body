{
  if (scope == SCOPE_REQUEST) {
    if (isRequestActive()) {
      this.request.removeAttribute(name);
      removeRequestDestructionCallback(name);
    }
  }
 else {
    PortletSession session=getSession(false);
    if (session != null) {
      if (scope == SCOPE_GLOBAL_SESSION) {
        session.removeAttribute(name,PortletSession.APPLICATION_SCOPE);
synchronized (this.globalSessionAttributesToUpdate) {
          this.globalSessionAttributesToUpdate.remove(name);
        }
      }
 else {
        session.removeAttribute(name);
synchronized (this.sessionAttributesToUpdate) {
          this.sessionAttributesToUpdate.remove(name);
        }
      }
    }
  }
}
