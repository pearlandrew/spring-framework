{
  Map map=(Map)target;
  Object o=map.get(name);
  if (o == null) {
    throw new AccessException("No message argument named '" + name + "' is defined in the argument map; arguments available are "+ map.keySet(),null);
  }
  if (o instanceof MessageSourceResolvable) {
    String message=messageSource.getMessage((MessageSourceResolvable)o,locale);
    return new TypedValue(message);
  }
 else {
    return new TypedValue(o);
  }
}
