{
  PortletContext portletContext=new MockPortletContext();
  MockPortletConfig portletConfig=new MockPortletConfig(portletContext);
  String testParam="testParam";
  String testValue="testValue";
  portletConfig.addInitParameter(testParam,testValue);
  TestPortletBean portletBean=new TestPortletBean();
  portletBean.addRequiredProperty("anotherParam");
  assertNull(portletBean.getTestParam());
  try {
    portletBean.init(portletConfig);
    fail("should have thrown PortletException");
  }
 catch (  PortletException ex) {
  }
  assertNull(portletBean.getTestParam());
}
