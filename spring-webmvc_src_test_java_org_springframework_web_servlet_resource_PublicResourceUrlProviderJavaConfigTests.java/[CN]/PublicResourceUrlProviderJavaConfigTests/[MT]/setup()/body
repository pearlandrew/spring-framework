{
  this.servlet=new TestServlet();
  this.filterChain=new MockFilterChain(this.servlet,new ResourceUrlEncodingFilter());
  AnnotationConfigWebApplicationContext cxt=new AnnotationConfigWebApplicationContext();
  cxt.setServletContext(new MockServletContext());
  cxt.register(WebConfig.class);
  cxt.refresh();
  PublicResourceUrlProvider urlProvider=cxt.getBean(PublicResourceUrlProvider.class);
  this.request=new MockHttpServletRequest("GET","/");
  request.setAttribute(PublicResourceUrlProviderExposingInterceptor.RESOURCE_URL_PROVIDER_ATTR,urlProvider);
}
