{
switch (filter.type()) {
case ANNOTATION:
    @SuppressWarnings("unchecked") Class<Annotation> filterClass=(Class<Annotation>)filter.value();
  return new AnnotationTypeFilter(filterClass);
case ASSIGNABLE_TYPE:
return new AssignableTypeFilter(filter.value());
case CUSTOM:
return BeanUtils.instantiateClass(filter.value(),TypeFilter.class);
default :
throw new IllegalArgumentException("unknown filter type " + filter.type());
}
}
