{
  JdbcPet pet;
  try {
    pet=this.simpleJdbcTemplate.queryForObject("SELECT id, name, birth_date, type_id, owner_id FROM pets WHERE id=?",new JdbcPetRowMapper(),id);
  }
 catch (  EmptyResultDataAccessException ex) {
    throw new ObjectRetrievalFailureException(Pet.class,new Integer(id));
  }
  Owner owner=loadOwner(pet.getOwnerId());
  owner.addPet(pet);
  pet.setType(EntityUtils.getById(getPetTypes(),PetType.class,pet.getTypeId()));
  loadVisits(pet);
  return pet;
}
