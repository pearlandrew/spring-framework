{
  Assert.notNull(configurationClass,"configurationClass must not be null");
  if (this.configuration != null) {
    throw new IllegalStateException("setConfigurationClass() must be called before the internal " + "Configuration instance has been created. Have you perhaps called " + "getConfiguration() or doWithConfiguration() earlier than your call "+ "to setConfiguration()?");
  }
  this.configurationClass=configurationClass;
  return this.instance;
}
