{
  VelocityView vv=new VelocityView();
  WebApplicationContext wac=mock(WebApplicationContext.class);
  given(wac.getBeansOfType(VelocityConfig.class,true,false)).willReturn(new HashMap<String,VelocityConfig>());
  vv.setUrl("anythingButNull");
  try {
    vv.setApplicationContext(wac);
    fail();
  }
 catch (  ApplicationContextException ex) {
    assertTrue(ex.getMessage().contains("VelocityConfig"));
  }
}
