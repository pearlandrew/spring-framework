{
  AnnotationConfigApplicationContext ctx=new AnnotationConfigApplicationContext();
  ctx.register(S1Config.class);
  ctx.refresh();
  ctx.getBean(S1Config.class);
  ctx.getBean("l0Bean");
  ctx.getBean(L0Config.L1Config.class);
  ctx.getBean("l1Bean");
  ctx.getBean(L0Config.L1Config.L2Config.class);
  ctx.getBean("l2Bean");
  assertThat(ctx.getBean("overrideBean",TestBean.class).getName(),is("override-s1"));
}
