{
  MockHttpOutputMessage outputMessage=new MockHttpOutputMessage();
  MyBean body=new MyBean();
  body.setString("Foo");
  body.setNumber(42);
  body.setFraction(42F);
  body.setArray(new String[]{"Foo","Bar"});
  body.setBool(true);
  body.setBytes(new byte[]{0x1,0x2});
  converter.write(body,outputMessage);
  Charset utf8=Charset.forName("UTF-8");
  String result=outputMessage.getBodyAsString(utf8);
  assertTrue(result.contains("\"string\":\"Foo\""));
  assertTrue(result.contains("\"number\":42"));
  assertTrue(result.contains("fraction\":42.0"));
  assertTrue(result.contains("\"array\":[\"Foo\",\"Bar\"]"));
  assertTrue(result.contains("\"bool\":true"));
  assertTrue(result.contains("\"bytes\":\"AQI=\""));
  assertEquals("Invalid content-type",new MediaType("application","json",utf8),outputMessage.getHeaders().getContentType());
}
