{
  try {
    if (this.currentStream != null && this.currentStream.available() > 0) {
      return this.currentStream;
    }
 else {
      if (!this.queue.hasNext()) {
        this.completed.set(true);
        return null;
      }
      DataBuffer signal=this.queue.next();
      this.currentStream=signal.asInputStream();
      return this.currentStream;
    }
  }
 catch (  Throwable error) {
    this.completed.set(true);
    throw new IOException(error);
  }
}
