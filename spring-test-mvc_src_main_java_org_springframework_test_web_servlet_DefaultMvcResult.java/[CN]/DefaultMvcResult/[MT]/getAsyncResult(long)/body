{
  HttpServletRequest request=this.mockRequest;
  if ((timeout != 0) && request.isAsyncStarted()) {
    if (!awaitAsyncResult(request,timeout)) {
      throw new IllegalStateException("Gave up waiting on async result from handler [" + this.handler + "] to complete");
    }
  }
  return this.asyncResult;
}
