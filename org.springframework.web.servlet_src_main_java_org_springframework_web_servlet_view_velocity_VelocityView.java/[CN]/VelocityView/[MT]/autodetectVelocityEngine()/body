{
  try {
    VelocityConfig velocityConfig=BeanFactoryUtils.beanOfTypeIncludingAncestors(getApplicationContext(),VelocityConfig.class,true,false);
    return velocityConfig.getVelocityEngine();
  }
 catch (  NoSuchBeanDefinitionException ex) {
    throw new ApplicationContextException("Must define a single VelocityConfig bean in this web application context " + "(may be inherited): VelocityConfigurer is the usual implementation. " + "This bean may be given any name.",ex);
  }
}
