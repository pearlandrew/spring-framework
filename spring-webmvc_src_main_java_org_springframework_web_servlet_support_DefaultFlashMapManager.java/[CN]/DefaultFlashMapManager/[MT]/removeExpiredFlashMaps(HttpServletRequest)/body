{
  List<FlashMap> allMaps=retrieveFlashMaps(request,false);
  if (CollectionUtils.isEmpty(allMaps)) {
    return;
  }
  List<FlashMap> expiredMaps=new ArrayList<FlashMap>();
  for (  FlashMap flashMap : allMaps) {
    if (flashMap.isExpired()) {
      if (logger.isDebugEnabled()) {
        logger.debug("Removing expired FlashMap: " + flashMap);
      }
      expiredMaps.add(flashMap);
    }
  }
  if (!expiredMaps.isEmpty()) {
    allMaps.removeAll(expiredMaps);
  }
}
