{
  try {
    List<MediaType> mediaTypes=exchange.getRequest().getHeaders().getAccept();
    MediaType.sortBySpecificityAndQuality(mediaTypes);
    return mediaTypes;
  }
 catch (  InvalidMediaTypeException ex) {
    String value=exchange.getRequest().getHeaders().getFirst("Accept");
    throw new HttpMediaTypeNotAcceptableException("Could not parse 'Accept' header [" + value + "]: "+ ex.getMessage());
  }
}
