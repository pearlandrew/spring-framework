{
  Resource resource=chain.resolveResource(exchange,requestPath,locations);
  if ((resource == null) || (exchange != null && !isGzipAccepted(exchange))) {
    return resource;
  }
  try {
    Resource gzipped=new GzippedResource(resource);
    if (gzipped.exists()) {
      return gzipped;
    }
  }
 catch (  IOException ex) {
    logger.trace("No gzipped resource for [" + resource.getFilename() + "]",ex);
  }
  return resource;
}
