{
  String propertyName=tokens.canonicalName;
  String actualName=tokens.actualName;
  PropertyDescriptor pd=getCachedIntrospectionResults().getPropertyDescriptor(actualName);
  if (pd == null || pd.getReadMethod() == null) {
    throw new NotReadablePropertyException(getRootClass(),this.nestedPath + propertyName);
  }
  final Method readMethod=pd.getReadMethod();
  try {
    if (!Modifier.isPublic(readMethod.getDeclaringClass().getModifiers()) && !readMethod.isAccessible()) {
      if (System.getSecurityManager() != null) {
        AccessController.doPrivileged(new PrivilegedAction<Object>(){
          public Object run(){
            readMethod.setAccessible(true);
            return null;
          }
        }
);
      }
 else {
        readMethod.setAccessible(true);
      }
    }
    Object value;
    if (System.getSecurityManager() != null) {
      try {
        value=AccessController.doPrivileged(new PrivilegedExceptionAction<Object>(){
          public Object run() throws Exception {
            return readMethod.invoke(object,(Object[])null);
          }
        }
,acc);
      }
 catch (      PrivilegedActionException pae) {
        throw pae.getException();
      }
    }
 else {
      value=readMethod.invoke(object,(Object[])null);
    }
    if (tokens.keys != null) {
      if (value == null) {
        if (this.autoGrowNestedPaths) {
          value=setDefaultValue(tokens.actualName);
        }
 else {
          throw new NullValueInNestedPathException(getRootClass(),this.nestedPath + propertyName,"Cannot access indexed value of property referenced in indexed " + "property path '" + propertyName + "': returned null");
        }
      }
      String indexedPropertyName=tokens.actualName;
      for (int i=0; i < tokens.keys.length; i++) {
        String key=tokens.keys[i];
        if (value == null) {
          throw new NullValueInNestedPathException(getRootClass(),this.nestedPath + propertyName,"Cannot access indexed value of property referenced in indexed " + "property path '" + propertyName + "': returned null");
        }
 else         if (value.getClass().isArray()) {
          int index=Integer.parseInt(key);
          value=growArrayIfNecessary(value,index,indexedPropertyName);
          value=Array.get(value,index);
        }
 else         if (value instanceof List) {
          int index=Integer.parseInt(key);
          List list=(List)value;
          growCollectionIfNecessary(list,index,indexedPropertyName,pd,i + 1);
          value=list.get(index);
        }
 else         if (value instanceof Set) {
          Set set=(Set)value;
          int index=Integer.parseInt(key);
          if (index < 0 || index >= set.size()) {
            throw new InvalidPropertyException(getRootClass(),this.nestedPath + propertyName,"Cannot get element with index " + index + " from Set of size "+ set.size()+ ", accessed using property path '"+ propertyName+ "'");
          }
          Iterator it=set.iterator();
          for (int j=0; it.hasNext(); j++) {
            Object elem=it.next();
            if (j == index) {
              value=elem;
              break;
            }
          }
        }
 else         if (value instanceof Map) {
          Map map=(Map)value;
          Class<?> mapKeyType=GenericCollectionTypeResolver.getMapKeyReturnType(pd.getReadMethod(),i + 1);
          TypeDescriptor typeDescriptor=mapKeyType != null ? TypeDescriptor.valueOf(mapKeyType) : TypeDescriptor.valueOf(Object.class);
          Object convertedMapKey=convertIfNecessary(null,null,key,mapKeyType,typeDescriptor);
          value=map.get(convertedMapKey);
        }
 else {
          throw new InvalidPropertyException(getRootClass(),this.nestedPath + propertyName,"Property referenced in indexed property path '" + propertyName + "' is neither an array nor a List nor a Set nor a Map; returned value was ["+ value+ "]");
        }
        indexedPropertyName+=PROPERTY_KEY_PREFIX + key + PROPERTY_KEY_SUFFIX;
      }
    }
    return value;
  }
 catch (  IndexOutOfBoundsException ex) {
    throw new InvalidPropertyException(getRootClass(),this.nestedPath + propertyName,"Index of out of bounds in property path '" + propertyName + "'",ex);
  }
catch (  NumberFormatException ex) {
    throw new InvalidPropertyException(getRootClass(),this.nestedPath + propertyName,"Invalid index in property path '" + propertyName + "'",ex);
  }
catch (  TypeMismatchException ex) {
    throw new InvalidPropertyException(getRootClass(),this.nestedPath + propertyName,"Invalid index in property path '" + propertyName + "'",ex);
  }
catch (  InvocationTargetException ex) {
    throw new InvalidPropertyException(getRootClass(),this.nestedPath + propertyName,"Getter for property '" + actualName + "' threw exception",ex);
  }
catch (  Exception ex) {
    throw new InvalidPropertyException(getRootClass(),this.nestedPath + propertyName,"Illegal attempt to get property '" + actualName + "' threw exception",ex);
  }
}
