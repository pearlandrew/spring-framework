{
  if (!(beanFactory instanceof ListableBeanFactory)) {
    throw new IllegalArgumentException("Cannot use PersistenceExceptionTranslator autodetection without ListableBeanFactory");
  }
  this.persistenceExceptionTranslationAdvisor=new PersistenceExceptionTranslationAdvisor((ListableBeanFactory)beanFactory,this.repositoryAnnotationType);
}
