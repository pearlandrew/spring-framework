{
  if (headerName != null && headerValue != null) {
    if (MessageHeaders.ERROR_CHANNEL.equals(headerName) || MessageHeaders.REPLY_CHANNEL.endsWith(headerName)) {
      Assert.isTrue(headerValue instanceof MessageChannel || headerValue instanceof String,"The '" + headerName + "' header value must be a MessageChannel or String.");
    }
  }
}
