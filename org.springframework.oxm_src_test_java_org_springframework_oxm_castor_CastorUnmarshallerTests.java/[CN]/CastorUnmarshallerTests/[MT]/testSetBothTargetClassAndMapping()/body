{
  CastorMarshaller unmarshaller=new CastorMarshaller();
  unmarshaller.setMappingLocation(new ClassPathResource("order-mapping.xml",CastorMarshaller.class));
  unmarshaller.setTargetClass(ArrayList.class);
  unmarshaller.afterPropertiesSet();
  String xml="<order>" + "<order-item id=\"1\" quantity=\"15\"/>" + "<order-item id=\"3\" quantity=\"20\"/>"+ "</order>";
  ArrayList result=(ArrayList)unmarshaller.unmarshal(new StreamSource(new StringReader(xml)));
  assertEquals("Invalid amount of items",2,result.size());
  OrderItem item=(OrderItem)result.get(0);
  assertEquals("Invalid items","1",item.getId());
  assertEquals("Invalid items",new Integer(15),item.getQuantity());
  item=(OrderItem)result.get(1);
  assertEquals("Invalid items","3",item.getId());
  assertEquals("Invalid items",new Integer(20),item.getQuantity());
}
