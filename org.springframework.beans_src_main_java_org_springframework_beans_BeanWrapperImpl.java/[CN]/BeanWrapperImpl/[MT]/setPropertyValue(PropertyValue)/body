{
  PropertyTokenHolder tokens=(PropertyTokenHolder)pv.resolvedTokens;
  if (tokens == null) {
    String propertyName=pv.getName();
    BeanWrapperImpl nestedBw;
    try {
      nestedBw=getBeanWrapperForPropertyPath(propertyName);
    }
 catch (    NotReadablePropertyException ex) {
      throw new NotWritablePropertyException(getRootClass(),this.nestedPath + propertyName,"Nested property in path '" + propertyName + "' does not exist",ex);
    }
    tokens=getPropertyNameTokens(getFinalPath(nestedBw,propertyName));
    if (nestedBw == this) {
      pv.getOriginalPropertyValue().resolvedTokens=tokens;
    }
    nestedBw.setPropertyValue(tokens,pv);
  }
 else {
    setPropertyValue(tokens,pv);
  }
}
