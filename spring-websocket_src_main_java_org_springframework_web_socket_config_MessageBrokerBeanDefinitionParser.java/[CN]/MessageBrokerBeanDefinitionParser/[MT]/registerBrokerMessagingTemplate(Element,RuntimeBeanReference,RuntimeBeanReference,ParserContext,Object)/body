{
  ConstructorArgumentValues cavs=new ConstructorArgumentValues();
  cavs.addIndexedArgumentValue(0,brokerChannelDef);
  RootBeanDefinition messagingTemplateDef=new RootBeanDefinition(SimpMessagingTemplate.class,cavs,null);
  String userDestinationPrefixAttribute=element.getAttribute("user-destination-prefix");
  if (!userDestinationPrefixAttribute.isEmpty()) {
    messagingTemplateDef.getPropertyValues().add("userDestinationPrefix",userDestinationPrefixAttribute);
  }
  messagingTemplateDef.getPropertyValues().add("messageConverter",messageConverterRef);
  return new RuntimeBeanReference(registerBeanDef(messagingTemplateDef,parserCxt,source));
}
