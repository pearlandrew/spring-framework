{
  if (isActive()) {
    try {
      writeFrameInternal(SockJsFrame.closeFrame(status.getCode(),status.getReason()));
    }
 catch (    Throwable ex) {
      logger.warn("Failed to send SockJS close frame: " + ex.getMessage());
    }
  }
  updateLastActiveTime();
  cancelHeartbeat();
  disconnect(status);
}
