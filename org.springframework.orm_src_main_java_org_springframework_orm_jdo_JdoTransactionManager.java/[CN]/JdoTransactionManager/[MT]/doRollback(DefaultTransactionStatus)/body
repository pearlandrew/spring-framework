{
  JdoTransactionObject txObject=(JdoTransactionObject)status.getTransaction();
  if (status.isDebug()) {
    logger.debug("Rolling back JDO transaction on PersistenceManager [" + txObject.getPersistenceManagerHolder().getPersistenceManager() + "]");
  }
  try {
    Transaction tx=txObject.getPersistenceManagerHolder().getPersistenceManager().currentTransaction();
    if (tx.isActive()) {
      tx.rollback();
    }
  }
 catch (  JDOException ex) {
    throw new TransactionSystemException("Could not roll back JDO transaction",ex);
  }
}
