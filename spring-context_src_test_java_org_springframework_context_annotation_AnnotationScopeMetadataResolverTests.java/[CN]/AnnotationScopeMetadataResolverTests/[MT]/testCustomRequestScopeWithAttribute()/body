{
  AnnotatedBeanDefinition bd=new AnnotatedGenericBeanDefinition(AnnotatedWithCustomRequestScopeWithAttribute.class);
  ScopeMetadata scopeMetadata=this.scopeMetadataResolver.resolveScopeMetadata(bd);
  assertNotNull("resolveScopeMetadata(..) must *never* return null.",scopeMetadata);
  assertEquals("request",scopeMetadata.getScopeName());
  assertEquals(ScopedProxyMode.TARGET_CLASS,scopeMetadata.getScopedProxyMode());
}
