{
  GenericBean<?> gb=new GenericBean<Object>();
  gb.setCollectionMap(new HashMap<Number,Collection<? extends Object>>());
  BeanWrapper bw=new BeanWrapperImpl(gb);
  bw.registerCustomEditor(Number.class,new CustomNumberEditor(Integer.class,false));
  HashSet<Integer> value1=new HashSet<Integer>();
  value1.add(new Integer(1));
  bw.setPropertyValue("collectionMap[1]",value1);
  assertTrue(gb.getCollectionMap().get(new Integer(1)) instanceof HashSet);
}
