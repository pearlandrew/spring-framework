{
  Lifecycle bean=(Lifecycle)lifecycleBeans.get(beanName);
  if (bean != null) {
    String[] dependentBeans=getBeanFactory().getDependentBeans(beanName);
    for (int i=0; i < dependentBeans.length; i++) {
      doStop(lifecycleBeans,dependentBeans[i]);
    }
    if (bean.isRunning()) {
      bean.stop();
    }
    lifecycleBeans.remove(beanName);
  }
}
