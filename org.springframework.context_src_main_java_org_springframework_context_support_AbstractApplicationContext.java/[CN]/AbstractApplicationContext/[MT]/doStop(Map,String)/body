{
  Lifecycle bean=(Lifecycle)lifecycleBeans.get(beanName);
  if (bean != null) {
    String[] dependentBeans=getBeanFactory().getDependentBeans(beanName);
    for (    String dependentBean : dependentBeans) {
      doStop(lifecycleBeans,dependentBean);
    }
    if (bean.isRunning()) {
      bean.stop();
    }
    lifecycleBeans.remove(beanName);
  }
}
