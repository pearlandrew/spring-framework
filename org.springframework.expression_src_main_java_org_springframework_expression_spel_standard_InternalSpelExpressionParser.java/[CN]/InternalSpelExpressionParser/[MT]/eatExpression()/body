{
  SpelNodeImpl expr=eatLogicalOrExpression();
  if (moreTokens()) {
    Token t=peekToken();
    if (t.kind == TokenKind.ASSIGN) {
      if (expr == null) {
        expr=new NullLiteral(toPos(t.startpos - 1,t.endpos - 1));
      }
      nextToken();
      SpelNodeImpl assignedValue=eatLogicalOrExpression();
      return new Assign(toPos(t),expr,assignedValue);
    }
 else     if (t.kind == TokenKind.ELVIS) {
      if (expr == null) {
        expr=new NullLiteral(toPos(t.startpos - 1,t.endpos - 2));
      }
      nextToken();
      SpelNodeImpl valueIfNull=eatExpression();
      if (valueIfNull == null) {
        valueIfNull=new NullLiteral(toPos(t.startpos + 1,t.endpos + 1));
      }
      return new Elvis(toPos(t),expr,valueIfNull);
    }
 else     if (t.kind == TokenKind.QMARK) {
      if (expr == null) {
        expr=new NullLiteral(toPos(t.startpos - 1,t.endpos - 1));
      }
      nextToken();
      SpelNodeImpl ifTrueExprValue=eatExpression();
      eatToken(TokenKind.COLON);
      SpelNodeImpl ifFalseExprValue=eatExpression();
      return new Ternary(toPos(t),expr,ifTrueExprValue,ifFalseExprValue);
    }
  }
  return expr;
}
