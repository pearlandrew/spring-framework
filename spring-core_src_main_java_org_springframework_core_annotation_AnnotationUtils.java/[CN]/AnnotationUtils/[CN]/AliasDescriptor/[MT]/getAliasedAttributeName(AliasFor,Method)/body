{
  String attributeName=aliasFor.attribute();
  String value=aliasFor.value();
  boolean attributeDeclared=StringUtils.hasText(attributeName);
  boolean valueDeclared=StringUtils.hasText(value);
  if (attributeDeclared && valueDeclared) {
    throw new AnnotationConfigurationException(String.format("In @AliasFor declared on attribute [%s] in annotation [%s], attribute 'attribute' and its alias 'value' " + "are present with values of [%s] and [%s], but only one is permitted.",attribute.getName(),attribute.getDeclaringClass().getName(),attributeName,value));
  }
  attributeName=(attributeDeclared ? attributeName : value);
  if (!StringUtils.hasText(attributeName)) {
    String msg=String.format("@AliasFor declaration on attribute [%s] in annotation [%s] is missing required 'attribute' value.",attribute.getName(),attribute.getDeclaringClass().getName());
    throw new AnnotationConfigurationException(msg);
  }
  return attributeName.trim();
}
