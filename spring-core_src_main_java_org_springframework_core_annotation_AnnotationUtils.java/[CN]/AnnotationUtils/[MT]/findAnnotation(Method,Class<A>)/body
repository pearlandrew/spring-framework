{
  A annotation=getAnnotation(method,annotationType);
  Class<?> clazz=method.getDeclaringClass();
  if (annotation == null) {
    annotation=searchOnInterfaces(method,annotationType,clazz.getInterfaces());
  }
  while (annotation == null) {
    clazz=clazz.getSuperclass();
    if (clazz == null || clazz.equals(Object.class)) {
      break;
    }
    try {
      Method equivalentMethod=clazz.getDeclaredMethod(method.getName(),method.getParameterTypes());
      annotation=getAnnotation(equivalentMethod,annotationType);
    }
 catch (    NoSuchMethodException ex) {
    }
    if (annotation == null) {
      annotation=searchOnInterfaces(method,annotationType,clazz.getInterfaces());
    }
  }
  return annotation;
}
