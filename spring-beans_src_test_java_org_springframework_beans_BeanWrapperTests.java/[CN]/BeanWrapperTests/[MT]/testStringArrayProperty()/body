{
  PropsTester pt=new PropsTester();
  BeanWrapper bw=new BeanWrapperImpl(pt);
  bw.setPropertyValue("stringArray",new String[]{"foo","fi","fi","fum"});
  assertTrue("stringArray length = 4",pt.stringArray.length == 4);
  assertTrue("correct values",pt.stringArray[0].equals("foo") && pt.stringArray[1].equals("fi") && pt.stringArray[2].equals("fi")&& pt.stringArray[3].equals("fum"));
  List<String> list=new ArrayList<String>();
  list.add("foo");
  list.add("fi");
  list.add("fi");
  list.add("fum");
  bw.setPropertyValue("stringArray",list);
  assertTrue("stringArray length = 4",pt.stringArray.length == 4);
  assertTrue("correct values",pt.stringArray[0].equals("foo") && pt.stringArray[1].equals("fi") && pt.stringArray[2].equals("fi")&& pt.stringArray[3].equals("fum"));
  Set<String> set=new HashSet<String>();
  set.add("foo");
  set.add("fi");
  set.add("fum");
  bw.setPropertyValue("stringArray",set);
  assertTrue("stringArray length = 3",pt.stringArray.length == 3);
  List<String> result=Arrays.asList(pt.stringArray);
  assertTrue("correct values",result.contains("foo") && result.contains("fi") && result.contains("fum"));
  bw.setPropertyValue("stringArray","one");
  assertTrue("stringArray length = 1",pt.stringArray.length == 1);
  assertTrue("stringArray elt is ok",pt.stringArray[0].equals("one"));
  bw.setPropertyValue("stringArray",null);
  assertTrue("stringArray is null",pt.stringArray == null);
}
