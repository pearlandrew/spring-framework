{
  ITestBean rod=new TestBean();
  MutablePropertyValues pvs=new MutablePropertyValues();
  pvs.addPropertyValue(new PropertyValue("name","rod"));
  pvs.addPropertyValue(new PropertyValue("graceful.rubbish","tony"));
  pvs.addPropertyValue(new PropertyValue("more.garbage",new Object()));
  BeanWrapper bw=new BeanWrapperImpl(rod);
  bw.setPropertyValues(pvs,true);
  assertTrue("Set valid and ignored invalid",rod.getName().equals("rod"));
  try {
    bw.setPropertyValues(pvs,false);
    fail("Shouldn't have ignored invalid updates");
  }
 catch (  NotWritablePropertyException ex) {
  }
}
