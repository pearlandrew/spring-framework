{
  PropsTester pt=new PropsTester();
  BeanWrapper bw=new BeanWrapperImpl(pt);
  bw.setPropertyValue("intArray",new int[]{4,5,2,3});
  assertTrue("intArray length = 4",pt.intArray.length == 4);
  assertTrue("correct values",pt.intArray[0] == 4 && pt.intArray[1] == 5 && pt.intArray[2] == 2 && pt.intArray[3] == 3);
  bw.setPropertyValue("intArray",new String[]{"4","5","2","3"});
  assertTrue("intArray length = 4",pt.intArray.length == 4);
  assertTrue("correct values",pt.intArray[0] == 4 && pt.intArray[1] == 5 && pt.intArray[2] == 2 && pt.intArray[3] == 3);
  List<Object> list=new ArrayList<Object>();
  list.add(new Integer(4));
  list.add("5");
  list.add(new Integer(2));
  list.add("3");
  bw.setPropertyValue("intArray",list);
  assertTrue("intArray length = 4",pt.intArray.length == 4);
  assertTrue("correct values",pt.intArray[0] == 4 && pt.intArray[1] == 5 && pt.intArray[2] == 2 && pt.intArray[3] == 3);
  Set<Object> set=new HashSet<Object>();
  set.add("4");
  set.add(new Integer(5));
  set.add("3");
  bw.setPropertyValue("intArray",set);
  assertTrue("intArray length = 3",pt.intArray.length == 3);
  List<Integer> result=new ArrayList<Integer>();
  result.add(new Integer(pt.intArray[0]));
  result.add(new Integer(pt.intArray[1]));
  result.add(new Integer(pt.intArray[2]));
  assertTrue("correct values",result.contains(new Integer(4)) && result.contains(new Integer(5)) && result.contains(new Integer(3)));
  bw.setPropertyValue("intArray",new Integer[]{new Integer(1)});
  assertTrue("intArray length = 4",pt.intArray.length == 1);
  assertTrue("correct values",pt.intArray[0] == 1);
  bw.setPropertyValue("intArray",new Integer(1));
  assertTrue("intArray length = 4",pt.intArray.length == 1);
  assertTrue("correct values",pt.intArray[0] == 1);
  bw.setPropertyValue("intArray",new String[]{"1"});
  assertTrue("intArray length = 4",pt.intArray.length == 1);
  assertTrue("correct values",pt.intArray[0] == 1);
  bw.setPropertyValue("intArray","1");
  assertTrue("intArray length = 4",pt.intArray.length == 1);
  assertTrue("correct values",pt.intArray[0] == 1);
}
