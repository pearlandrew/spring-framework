{
  GetterWithOptional foo=new GetterWithOptional();
  TestBean tb=new TestBean("x");
  BeanWrapperImpl bwi=new BeanWrapperImpl(foo);
  bwi.setPropertyValue("object",tb);
  assertSame(tb,foo.value);
  assertSame(tb,foo.getObject().get());
  assertSame(tb,((Optional<String>)bwi.getPropertyValue("object")).get());
  assertEquals("x",foo.value.getName());
  assertEquals("x",foo.getObject().get().getName());
  assertEquals("x",bwi.getPropertyValue("object.name"));
  bwi.setPropertyValue("object.name","y");
  assertSame(tb,foo.value);
  assertSame(tb,foo.getObject().get());
  assertSame(tb,((Optional<String>)bwi.getPropertyValue("object")).get());
  assertEquals("y",foo.value.getName());
  assertEquals("y",foo.getObject().get().getName());
  assertEquals("y",bwi.getPropertyValue("object.name"));
}
