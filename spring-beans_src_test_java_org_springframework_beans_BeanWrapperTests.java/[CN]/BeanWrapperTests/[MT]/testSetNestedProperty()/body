{
  ITestBean rod=new TestBean("rod",31);
  ITestBean kerry=new TestBean("kerry",0);
  BeanWrapper bw=new BeanWrapperImpl(rod);
  bw.setPropertyValue("spouse",kerry);
  assertTrue("nested set worked",rod.getSpouse() == kerry);
  assertTrue("no back relation",kerry.getSpouse() == null);
  bw.setPropertyValue(new PropertyValue("spouse.spouse",rod));
  assertTrue("nested set worked",kerry.getSpouse() == rod);
  assertTrue("kerry age not set",kerry.getAge() == 0);
  bw.setPropertyValue(new PropertyValue("spouse.age",new Integer(35)));
  assertTrue("Set primitive on spouse",kerry.getAge() == 35);
  assertEquals(kerry,bw.getPropertyValue("spouse"));
  assertEquals(rod,bw.getPropertyValue("spouse.spouse"));
}
