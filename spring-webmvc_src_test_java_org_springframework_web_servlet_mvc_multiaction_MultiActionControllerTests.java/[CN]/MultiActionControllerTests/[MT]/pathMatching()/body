{
  TestMaController mc=new TestMaController();
  HttpServletRequest request=new MockHttpServletRequest("GET","/welcome.html");
  HttpServletResponse response=new MockHttpServletResponse();
  Properties p=new Properties();
  p.put("/welc*.html","welcome");
  PropertiesMethodNameResolver mn=new PropertiesMethodNameResolver();
  mn.setMappings(p);
  mc.setMethodNameResolver(mn);
  ModelAndView mv=mc.handleRequest(request,response);
  assertTrue("Invoked welcome method",mc.wasInvoked("welcome"));
  assertTrue("view name is welcome",mv.getViewName().equals("welcome"));
  assertTrue("Only one method invoked",mc.getInvokedMethods() == 1);
  mc=new TestMaController();
  mc.setMethodNameResolver(mn);
  request=new MockHttpServletRequest("GET","/nomatch");
  response=new MockHttpServletResponse();
  try {
    mv=mc.handleRequest(request,response);
  }
 catch (  Exception expected) {
  }
  assertFalse("Not invoking welcome method",mc.wasInvoked("welcome"));
  assertTrue("No method invoked",mc.getInvokedMethods() == 0);
}
