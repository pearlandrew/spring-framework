{
  HttpHeaders headers=new HttpHeaders();
  headers.add("MyKey","MyValue");
  EmptyResponse emptyResponse=new EmptyResponse(201,headers);
  ServerWebExchange exchange=mock(ServerWebExchange.class);
  MockServerHttpResponse response=new MockServerHttpResponse();
  when(exchange.getResponse()).thenReturn(response);
  emptyResponse.writeTo(exchange).block();
  assertEquals(201,response.getStatusCode().value());
  assertEquals("MyValue",response.getHeaders().getFirst("MyKey"));
  assertNull(response.getBody());
}
