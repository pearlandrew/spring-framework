{
  Assert.notNull(instance,"The instance to match is mandatory.");
  boolean includesSet=!includes.isEmpty();
  boolean excludesSet=!excludes.isEmpty();
  if (!includesSet && !excludesSet) {
    return matchIfEmpty;
  }
  boolean matchIncludes=match(instance,includes);
  boolean matchExcludes=match(instance,excludes);
  if (!includesSet) {
    return !matchExcludes;
  }
  if (!excludesSet) {
    return matchIncludes;
  }
  return matchIncludes && !matchExcludes;
}
