{
  Resource mappingLocation=new ClassPathResource("org/springframework/mail/javamail/mime.types");
  if (mappingLocation.exists()) {
    if (logger.isTraceEnabled()) {
      logger.trace("Loading Java Activation Framework FileTypeMap from " + mappingLocation);
    }
    InputStream inputStream=null;
    try {
      inputStream=mappingLocation.getInputStream();
      return new MimetypesFileTypeMap(inputStream);
    }
 catch (    IOException ex) {
    }
 finally {
      if (inputStream != null) {
        try {
          inputStream.close();
        }
 catch (        IOException ex) {
        }
      }
    }
  }
  if (logger.isTraceEnabled()) {
    logger.trace("Loading default Java Activation Framework FileTypeMap");
  }
  return FileTypeMap.getDefaultFileTypeMap();
}
