{
  MediaType mediaType=null;
  if (mediaType == null) {
    mediaType=fileMediaTypeMap.getMediaType(resource.getFilename());
  }
  if (mediaType != null) {
    response.setContentType(mediaType.toString());
  }
  response.setContentLength(resource.getContentLength());
  response.setDateHeader("Last-Modified",resource.lastModified());
  if (this.maxAge > 0) {
    response.setDateHeader("Expires",System.currentTimeMillis() + this.maxAge * 1000L);
    response.setHeader("Cache-Control","max-age=" + this.maxAge);
  }
}
