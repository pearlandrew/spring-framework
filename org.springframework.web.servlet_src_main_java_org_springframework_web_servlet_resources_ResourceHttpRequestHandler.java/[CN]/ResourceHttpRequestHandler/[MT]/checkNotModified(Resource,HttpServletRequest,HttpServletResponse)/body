{
  long ifModifiedSince=request.getDateHeader("If-Modified-Since");
  boolean notModified=ifModifiedSince >= (resource.lastModified() / 1000 * 1000);
  if (notModified) {
    response.setStatus(HttpServletResponse.SC_NOT_MODIFIED);
  }
 else {
    response.setDateHeader("Last-Modified",resource.lastModified());
  }
  return notModified;
}
