{
  MediaType mediaType=null;
  int contentLength=0;
  for (  Resource resource : resources) {
    try {
      File file=resource.getFile();
      if (mediaType == null) {
        mediaType=fileMediaTypeMap.getMediaType(file.getName());
      }
      contentLength+=file.length();
    }
 catch (    IOException e) {
    }
  }
  if (mediaType != null) {
    response.setContentType(mediaType.toString());
  }
  response.setContentLength(contentLength);
  if (this.maxAge > 0) {
    response.setDateHeader("Expires",System.currentTimeMillis() + this.maxAge * 1000L);
    response.setHeader("Cache-Control","max-age=" + this.maxAge);
  }
}
