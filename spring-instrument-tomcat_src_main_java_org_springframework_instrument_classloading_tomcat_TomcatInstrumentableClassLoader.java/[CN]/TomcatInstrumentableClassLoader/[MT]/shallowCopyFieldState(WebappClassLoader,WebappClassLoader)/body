{
  Class<?> targetClass=WebappClassLoader.class;
  do {
    Field[] fields=targetClass.getDeclaredFields();
    for (    Field field : fields) {
      if (!(Modifier.isStatic(field.getModifiers()) || Modifier.isFinal(field.getModifiers()) || field.getName().equals("resourceEntries"))) {
        try {
          field.setAccessible(true);
          Object srcValue=field.get(src);
          field.set(dest,srcValue);
        }
 catch (        IllegalAccessException ex) {
          throw new IllegalStateException("Shouldn't be illegal to access field '" + field.getName() + "': "+ ex);
        }
      }
    }
    targetClass=targetClass.getSuperclass();
  }
 while (targetClass != null && targetClass != Object.class);
}
