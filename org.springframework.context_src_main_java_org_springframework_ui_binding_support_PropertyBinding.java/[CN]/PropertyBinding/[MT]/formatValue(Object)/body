{
  Formatter formatter;
  if (isList() || isMap()) {
    formatter=bindingContext.getElementFormatter();
  }
 else {
    formatter=bindingContext.getFormatter();
  }
  Class<?> formattedType=getFormattedObjectType(formatter.getClass());
  value=bindingContext.getTypeConverter().convert(value,formattedType);
  return formatter.format(value,getLocale());
}
