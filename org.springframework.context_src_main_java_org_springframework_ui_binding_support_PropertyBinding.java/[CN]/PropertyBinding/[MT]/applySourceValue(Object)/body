{
  assertEditable();
  assertEnabled();
  if (sourceValue instanceof String) {
    try {
      Object parsed=getFormatter().parse((String)sourceValue,getLocale());
      buffer.setValue(coerseToValueType(parsed));
      sourceValue=null;
      status=BindingStatus.DIRTY;
    }
 catch (    ParseException e) {
      this.sourceValue=sourceValue;
      invalidSourceValueCause=e;
      status=BindingStatus.INVALID_SOURCE_VALUE;
    }
catch (    ConversionFailedException e) {
      this.sourceValue=sourceValue;
      invalidSourceValueCause=e;
      status=BindingStatus.INVALID_SOURCE_VALUE;
    }
  }
 else   if (sourceValue instanceof String[]) {
    String[] sourceValues=(String[])sourceValue;
    Class<?> parsedType=getFormattedObjectType(bindingContext.getElementFormatter().getClass());
    if (parsedType == null) {
      parsedType=String.class;
    }
    Object parsed=Array.newInstance(parsedType,sourceValues.length);
    for (int i=0; i < sourceValues.length; i++) {
      Object parsedValue;
      try {
        parsedValue=bindingContext.getElementFormatter().parse(sourceValues[i],getLocale());
        Array.set(parsed,i,parsedValue);
      }
 catch (      ParseException e) {
        this.sourceValue=sourceValue;
        invalidSourceValueCause=e;
        status=BindingStatus.INVALID_SOURCE_VALUE;
        break;
      }
    }
    if (status != BindingStatus.INVALID_SOURCE_VALUE) {
      try {
        buffer.setValue(coerseToValueType(parsed));
        sourceValue=null;
        status=BindingStatus.DIRTY;
      }
 catch (      ConversionFailedException e) {
        this.sourceValue=sourceValue;
        invalidSourceValueCause=e;
        status=BindingStatus.INVALID_SOURCE_VALUE;
      }
    }
  }
 else {
    try {
      buffer.setValue(coerseToValueType(sourceValue));
      sourceValue=null;
      status=BindingStatus.DIRTY;
    }
 catch (    ConversionFailedException e) {
      this.sourceValue=sourceValue;
      invalidSourceValueCause=e;
      status=BindingStatus.INVALID_SOURCE_VALUE;
    }
  }
}
