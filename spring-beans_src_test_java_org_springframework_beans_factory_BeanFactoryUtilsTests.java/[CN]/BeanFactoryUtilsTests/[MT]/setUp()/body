{
  DefaultListableBeanFactory grandParent=new DefaultListableBeanFactory();
  new XmlBeanDefinitionReader(grandParent).loadBeanDefinitions(ROOT_CONTEXT);
  DefaultListableBeanFactory parent=new DefaultListableBeanFactory(grandParent);
  new XmlBeanDefinitionReader(parent).loadBeanDefinitions(MIDDLE_CONTEXT);
  DefaultListableBeanFactory child=new DefaultListableBeanFactory(parent);
  new XmlBeanDefinitionReader(child).loadBeanDefinitions(LEAF_CONTEXT);
  this.dependentBeansBF=new DefaultListableBeanFactory();
  new XmlBeanDefinitionReader((BeanDefinitionRegistry)this.dependentBeansBF).loadBeanDefinitions(DEPENDENT_BEANS_CONTEXT);
  dependentBeansBF.preInstantiateSingletons();
  this.listableBeanFactory=child;
}
