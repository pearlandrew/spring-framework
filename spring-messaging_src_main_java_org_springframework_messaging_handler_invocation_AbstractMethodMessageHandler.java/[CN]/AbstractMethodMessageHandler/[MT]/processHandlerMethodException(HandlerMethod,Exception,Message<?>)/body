{
  InvocableHandlerMethod invocable=getExceptionHandlerMethod(handlerMethod,ex);
  if (invocable == null) {
    logger.error("Unhandled exception",ex);
    return;
  }
  invocable.setMessageMethodArgumentResolvers(this.argumentResolvers);
  if (logger.isDebugEnabled()) {
    logger.debug("Invoking " + invocable.getShortLogMessage());
  }
  try {
    Object returnValue=invocable.invoke(message,ex);
    MethodParameter returnType=invocable.getReturnType();
    if (void.class.equals(returnType.getParameterType())) {
      return;
    }
    this.returnValueHandlers.handleReturnValue(returnValue,returnType,message);
  }
 catch (  Throwable t) {
    logger.error("Error while handling exception",t);
    return;
  }
}
