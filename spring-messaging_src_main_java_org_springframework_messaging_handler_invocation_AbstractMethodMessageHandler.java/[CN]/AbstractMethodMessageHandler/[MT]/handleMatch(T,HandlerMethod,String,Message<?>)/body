{
  if (logger.isDebugEnabled()) {
    logger.debug("Invoking " + handlerMethod.getShortLogMessage());
  }
  handlerMethod=handlerMethod.createWithResolvedBean();
  InvocableHandlerMethod invocable=new InvocableHandlerMethod(handlerMethod);
  invocable.setMessageMethodArgumentResolvers(this.argumentResolvers);
  try {
    Object returnValue=invocable.invoke(message);
    MethodParameter returnType=handlerMethod.getReturnType();
    if (void.class == returnType.getParameterType()) {
      return;
    }
    this.returnValueHandlers.handleReturnValue(returnValue,returnType,message);
  }
 catch (  Exception ex) {
    processHandlerMethodException(handlerMethod,ex,message);
  }
catch (  Throwable ex) {
    logger.error("Error while processing message " + message,ex);
  }
}
