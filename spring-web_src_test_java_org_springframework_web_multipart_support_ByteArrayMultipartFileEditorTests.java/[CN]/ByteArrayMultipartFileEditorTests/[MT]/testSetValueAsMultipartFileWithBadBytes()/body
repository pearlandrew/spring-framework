{
  ByteArrayMultipartFileEditor editor=new ByteArrayMultipartFileEditor();
  MultipartFile file=mock(MultipartFile.class);
  given(file.getBytes()).willThrow(new IOException());
  try {
    editor.setValue(file);
    fail("Must have thrown an IllegalArgumentException: IOException thrown when reading MultipartFile bytes");
  }
 catch (  IllegalArgumentException expected) {
  }
}
