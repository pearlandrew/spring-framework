{
  if ((resource != null) && !this.compareTimeStamp) {
    return resource;
  }
  for (  Resource location : locations) {
    String baseFilename=StringUtils.getFilename(path);
    try {
      Resource basePath=location.createRelative(StringUtils.delete(path,baseFilename));
      if (basePath.getFile().isDirectory()) {
        for (        String fileName : basePath.getFile().list(new ExtensionFilenameFilter(baseFilename))) {
          Resource matched=basePath.createRelative(fileName);
          if ((resource == null) || (matched.lastModified() > resource.lastModified())) {
            return matched;
          }
 else {
            return resource;
          }
        }
      }
    }
 catch (    IOException e) {
      logger.trace("Error occurred locating resource based on file extension mapping",e);
    }
  }
  return resource;
}
