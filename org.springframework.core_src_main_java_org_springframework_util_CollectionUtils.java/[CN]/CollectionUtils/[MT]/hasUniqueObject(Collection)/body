{
  if (isEmpty(collection)) {
    return false;
  }
  boolean hasCandidate=false;
  Object candidate=null;
  for (Iterator it=collection.iterator(); it.hasNext(); ) {
    Object elem=it.next();
    if (!hasCandidate) {
      hasCandidate=true;
      candidate=elem;
    }
 else     if (candidate != elem) {
      return false;
    }
  }
  return true;
}
