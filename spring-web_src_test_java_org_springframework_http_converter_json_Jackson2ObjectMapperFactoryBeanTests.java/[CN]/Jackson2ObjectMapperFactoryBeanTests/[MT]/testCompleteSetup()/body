{
  NopAnnotationIntrospector annotationIntrospector=NopAnnotationIntrospector.instance;
  ObjectMapper objectMapper=new ObjectMapper();
  assertTrue(this.factory.isSingleton());
  assertEquals(ObjectMapper.class,this.factory.getObjectType());
  Map<Class<?>,JsonDeserializer<?>> deserializers=new HashMap<Class<?>,JsonDeserializer<?>>();
  deserializers.put(Date.class,new DateDeserializer());
  this.factory.setObjectMapper(objectMapper);
  this.factory.setSerializers(new ClassSerializer());
  this.factory.setDeserializersByType(deserializers);
  this.factory.setAnnotationIntrospector(annotationIntrospector);
  this.factory.setFeaturesToEnable(SerializationFeature.FAIL_ON_EMPTY_BEANS,DeserializationFeature.UNWRAP_ROOT_VALUE,JsonParser.Feature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER,JsonGenerator.Feature.WRITE_NUMBERS_AS_STRINGS);
  this.factory.setFeaturesToDisable(MapperFeature.AUTO_DETECT_GETTERS,MapperFeature.AUTO_DETECT_FIELDS,JsonParser.Feature.AUTO_CLOSE_SOURCE,JsonGenerator.Feature.QUOTE_FIELD_NAMES);
  assertFalse(getSerializerFactoryConfig(objectMapper).hasSerializers());
  assertFalse(getDeserializerFactoryConfig(objectMapper).hasDeserializers());
  this.factory.afterPropertiesSet();
  assertTrue(objectMapper == this.factory.getObject());
  assertTrue(getSerializerFactoryConfig(objectMapper).hasSerializers());
  assertTrue(getDeserializerFactoryConfig(objectMapper).hasDeserializers());
  assertTrue(annotationIntrospector == objectMapper.getSerializationConfig().getAnnotationIntrospector());
  assertTrue(annotationIntrospector == objectMapper.getDeserializationConfig().getAnnotationIntrospector());
  assertTrue(objectMapper.getSerializationConfig().isEnabled(SerializationFeature.FAIL_ON_EMPTY_BEANS));
  assertTrue(objectMapper.getDeserializationConfig().isEnabled(DeserializationFeature.UNWRAP_ROOT_VALUE));
  assertTrue(objectMapper.getJsonFactory().isEnabled(JsonParser.Feature.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER));
  assertTrue(objectMapper.getJsonFactory().isEnabled(JsonGenerator.Feature.WRITE_NUMBERS_AS_STRINGS));
  assertFalse(objectMapper.getSerializationConfig().isEnabled(MapperFeature.AUTO_DETECT_GETTERS));
  assertFalse(objectMapper.getDeserializationConfig().isEnabled(MapperFeature.AUTO_DETECT_FIELDS));
  assertFalse(objectMapper.getJsonFactory().isEnabled(JsonParser.Feature.AUTO_CLOSE_SOURCE));
  assertFalse(objectMapper.getJsonFactory().isEnabled(JsonGenerator.Feature.QUOTE_FIELD_NAMES));
}
