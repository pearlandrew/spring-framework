{
  Map<Class<?>,JsonSerializer<?>> serializers=new HashMap<>();
  serializers.put(DateTime.class,new DateTimeSerializer(new JacksonJodaDateFormat(DateTimeFormat.forPattern("YYYY-MM-dd").withZoneUTC())));
  this.factory.setSerializersByType(serializers);
  this.factory.setFeaturesToDisable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);
  this.factory.afterPropertiesSet();
  ObjectMapper objectMapper=this.factory.getObject();
  DateTime dateTime=new DateTime(1322903730000L,DateTimeZone.UTC);
  assertEquals("\"2011-12-03\"",new String(objectMapper.writeValueAsBytes(dateTime),"UTF-8"));
}
