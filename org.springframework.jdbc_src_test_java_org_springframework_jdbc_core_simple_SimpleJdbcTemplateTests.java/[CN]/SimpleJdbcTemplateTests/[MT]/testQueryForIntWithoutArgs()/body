{
  String sql="SELECT COUNT(0) FROM BAR";
  int expectedResult=666;
  MockControl mc=MockControl.createControl(JdbcOperations.class);
  JdbcOperations jo=(JdbcOperations)mc.getMock();
  jo.queryForInt(sql);
  mc.setReturnValue(expectedResult);
  mc.replay();
  SimpleJdbcTemplate jth=new SimpleJdbcTemplate(jo);
  assertSame(jo,jth.getJdbcOperations());
  int result=jth.queryForInt(sql);
  assertEquals(expectedResult,result);
  mc.verify();
}
