{
  if (this.principal != null) {
    return this.principal;
  }
  checkNativeSessionInitialized();
  return getNativeSession().getUpgradeRequest().getUserPrincipal();
}
