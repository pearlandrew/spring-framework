{
  if (this.objectMapper == null) {
    this.objectMapper=new ObjectMapper();
  }
  if (this.annotationIntrospector != null) {
    this.objectMapper.setSerializationConfig(this.objectMapper.getSerializationConfig().withAnnotationIntrospector(this.annotationIntrospector));
    this.objectMapper.setDeserializationConfig(this.objectMapper.getDeserializationConfig().withAnnotationIntrospector(this.annotationIntrospector));
  }
  if (this.dateFormat != null) {
    this.objectMapper.setDateFormat(this.dateFormat);
  }
  for (  Map.Entry<Object,Boolean> entry : this.features.entrySet()) {
    configureFeature(entry.getKey(),entry.getValue());
  }
}
