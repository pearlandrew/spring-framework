{
  AssertThrows at=new AssertThrows(IllegalStateException.class){
    public void test() throws Exception {
      ApplicationContext ctx=new ClassPathXmlApplicationContext(xmlFile);
      Calculator calc=(Calculator)ctx.getBean("delegatingCalculator");
      calc.add(1,2);
    }
  }
;
  at.runTest();
  assertEquals("Gotcha",at.getActualException().getMessage());
}
