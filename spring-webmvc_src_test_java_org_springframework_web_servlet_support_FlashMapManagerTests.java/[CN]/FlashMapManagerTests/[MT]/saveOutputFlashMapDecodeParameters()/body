{
  this.request.setCharacterEncoding("UTF-8");
  FlashMap flashMap=new FlashMap();
  flashMap.put("anyKey","anyValue");
  flashMap.addTargetRequestParam("key","%D0%90%D0%90");
  flashMap.addTargetRequestParam("key","%D0%91%D0%91");
  flashMap.addTargetRequestParam("key","%D0%92%D0%92");
  flashMap.addTargetRequestParam("%3A%2F%3F%23%5B%5D%40","value");
  this.flashMapManager.saveOutputFlashMap(flashMap,this.request,this.response);
  MultiValueMap<String,String> targetRequestParams=flashMap.getTargetRequestParams();
  assertEquals(Arrays.asList("\u0410\u0410","\u0411\u0411","\u0412\u0412"),targetRequestParams.get("key"));
  assertEquals(Arrays.asList("value"),targetRequestParams.get(":/?#[]@"));
}
