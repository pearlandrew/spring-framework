{
  String[] valueProfiles=annAttrs.getStringArray("value");
  String[] profiles=annAttrs.getStringArray("profiles");
  boolean valueDeclared=!ObjectUtils.isEmpty(valueProfiles);
  boolean profilesDeclared=!ObjectUtils.isEmpty(profiles);
  if (valueDeclared && profilesDeclared) {
    String msg=String.format("Class [%s] has been configured with @ActiveProfiles' 'value' [%s] " + "and 'profiles' [%s] attributes. Only one declaration of active bean " + "definition profiles is permitted per @ActiveProfiles annotation.",declaringClass.getName(),ObjectUtils.nullSafeToString(valueProfiles),ObjectUtils.nullSafeToString(profiles));
    logger.error(msg);
    throw new IllegalStateException(msg);
  }
}
