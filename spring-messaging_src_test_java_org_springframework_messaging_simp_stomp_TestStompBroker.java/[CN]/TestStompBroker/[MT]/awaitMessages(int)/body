{
synchronized (this.messageMonitor) {
    while (this.messages.size() < messageCount) {
      this.messageMonitor.wait();
    }
    return this.messages;
  }
}
