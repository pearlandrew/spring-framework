{
  Assert.hasText(beanName,"Bean name must not be null");
  Assert.notNull(beanFactory,"BeanFactory must not be null");
  if (!beanFactory.containsBean(beanName)) {
    throw new IllegalArgumentException("BeanFactory [" + beanFactory + "] does not contain bean with name '"+ beanName+ "'");
  }
  this.bean=beanName;
  this.beanFactory=beanFactory;
  Class<?> beanType=this.beanFactory.getType(beanName);
  this.order=initOrderFromBeanType(beanType);
  ControllerAdvice annotation=AnnotationUtils.findAnnotation(beanType,ControllerAdvice.class);
  Assert.notNull(annotation,"BeanType [" + beanType.getName() + "] is not annotated @ControllerAdvice");
  this.basePackages.addAll(initBasePackagesFromBeanType(beanType,annotation));
  this.annotations.addAll(Arrays.asList(annotation.annotations()));
  this.assignableTypes.addAll(Arrays.asList(annotation.assignableTypes()));
}
