{
  if (codes == null && defaultMessage == null) {
    throw new IllegalStateException("A message code or the message text is required to build this message resolver");
  }
  String[] codesArray=(String[])codes.toArray(new String[codes.size()]);
  return new DefaultMessageResolver(codesArray,args,defaultMessage,expressionParser);
}
