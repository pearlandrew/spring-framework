{
  try {
    String jndiName=this.mbeanHomeName;
    if (jndiName == null) {
      Class mbeanHomeClass=getClass().getClassLoader().loadClass(WEBLOGIC_MBEAN_HOME_CLASS);
      jndiName=(String)mbeanHomeClass.getField(LOCAL_JNDI_NAME_FIELD).get(null);
    }
    Object mbeanHome=lookup(jndiName);
    this.mbeanServer=(MBeanServer)mbeanHome.getClass().getMethod(GET_MBEAN_SERVER_METHOD,null).invoke(mbeanHome,null);
  }
 catch (  NamingException ex) {
    throw new MBeanServerNotFoundException("Could not find WebLogic's MBeanHome object in JNDI",ex);
  }
catch (  ClassNotFoundException ex) {
    throw new MBeanServerNotFoundException("Could not find WebLogic's MBeanHome class",ex);
  }
catch (  InvocationTargetException ex) {
    throw new MBeanServerNotFoundException("WebLogic's MBeanHome.getMBeanServer method failed",ex.getTargetException());
  }
catch (  Exception ex) {
    throw new MBeanServerNotFoundException("Could not access WebLogic's MBeanHome/getMBeanServer method",ex);
  }
}
