{
  this.headers=new HttpHeaders();
  this.response=mock(ClientHttpResponse.class);
  given(this.response.getHeaders()).willReturn(headers);
  this.messageConverters=Arrays.asList(new CodecHttpMessageConverter<>(new StringEncoder(),new StringDecoder()),new CodecHttpMessageConverter<>(new JacksonJsonEncoder(),new JacksonJsonDecoder()));
  this.webClientConfig=mock(WebClientConfig.class);
  this.errorHandler=mock(ResponseErrorHandler.class);
  given(this.webClientConfig.getMessageConverters()).willReturn(this.messageConverters);
  given(this.webClientConfig.getResponseErrorHandler()).willReturn(this.errorHandler);
}
