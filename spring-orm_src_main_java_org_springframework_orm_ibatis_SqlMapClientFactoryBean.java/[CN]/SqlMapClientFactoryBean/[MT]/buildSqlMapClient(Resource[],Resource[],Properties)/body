{
  if (ObjectUtils.isEmpty(configLocations)) {
    throw new IllegalArgumentException("At least 1 'configLocation' entry is required");
  }
  SqlMapClient client=null;
  SqlMapConfigParser configParser=new SqlMapConfigParser();
  for (  Resource configLocation : configLocations) {
    InputStream is=configLocation.getInputStream();
    try {
      client=configParser.parse(is,properties);
    }
 catch (    RuntimeException ex) {
      throw new NestedIOException("Failed to parse config resource: " + configLocation,ex.getCause());
    }
  }
  if (mappingLocations != null) {
    SqlMapParser mapParser=SqlMapParserFactory.createSqlMapParser(configParser);
    for (    Resource mappingLocation : mappingLocations) {
      try {
        mapParser.parse(mappingLocation.getInputStream());
      }
 catch (      NodeletException ex) {
        throw new NestedIOException("Failed to parse mapping resource: " + mappingLocation,ex);
      }
    }
  }
  return client;
}
