{
  PersonDto source=new PersonDto();
  final NestedDto nested=new NestedDto();
  nested.foo="bar";
  source.setNested(nested);
  Person target=new Person();
  Mapper<PersonDto,Person> mapper=MapperFactory.mapperBuilder(PersonDto.class,Person.class).setAutoMappingEnabled(false).addMapping("nested",new Converter<NestedDto,Nested>(){
    public Nested convert(    NestedDto source){
      Mapper<NestedDto,Nested> nestedMapper=MapperFactory.mapperBuilder(NestedDto.class,Nested.class).addMapping("foo",new Converter<String,String>(){
        public String convert(        String source){
          return source + " and baz";
        }
      }
).getMapper();
      return nestedMapper.map(source,new Nested());
    }
  }
).getMapper();
  mapper.map(source,target);
  assertEquals("bar and baz",target.nested.foo);
}
