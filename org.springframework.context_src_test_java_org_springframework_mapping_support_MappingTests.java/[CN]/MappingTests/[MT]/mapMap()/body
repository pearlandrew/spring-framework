{
  PersonDto source=new PersonDto();
  Map<String,String> friendRankings=new HashMap<String,String>();
  friendRankings.put("Keri","1");
  friendRankings.put("Alf","2");
  source.setFriendRankings(friendRankings);
  Person target=new Person();
  Mapper<PersonDto,Person> mapper=MapperFactory.mapperBuilder(PersonDto.class,Person.class).setAutoMappingEnabled(false).addMapping("friendRankings").addConverter(new Converter<String,Person>(){
    public Person convert(    String source){
      return new Person(source);
    }
  }
).getMapper();
  mapper.map(source,target);
  mapper.map(source,target);
  assertEquals(new Integer(1),target.friendRankings.get(new Person("Keri")));
  assertEquals(new Integer(2),target.friendRankings.get(new Person("Alf")));
}
