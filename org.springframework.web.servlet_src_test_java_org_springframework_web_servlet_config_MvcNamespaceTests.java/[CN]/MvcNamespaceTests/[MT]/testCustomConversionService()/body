{
  XmlBeanDefinitionReader reader=new XmlBeanDefinitionReader(container);
  reader.loadBeanDefinitions(new ClassPathResource("mvc-config-custom-conversion-service.xml",getClass()));
  assertEquals(4,container.getBeanDefinitionCount());
  DefaultAnnotationHandlerMapping mapping=container.getBean(DefaultAnnotationHandlerMapping.class);
  assertNotNull(mapping);
  assertEquals(0,mapping.getOrder());
  AnnotationMethodHandlerAdapter adapter=container.getBean(AnnotationMethodHandlerAdapter.class);
  assertNotNull(adapter);
  assertNotNull(container.getBean(LocalValidatorFactoryBean.class));
  TestController handler=new TestController();
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.addParameter("date","2009-10-31");
  MockHttpServletResponse response=new MockHttpServletResponse();
  adapter.handle(request,response,handler);
}
