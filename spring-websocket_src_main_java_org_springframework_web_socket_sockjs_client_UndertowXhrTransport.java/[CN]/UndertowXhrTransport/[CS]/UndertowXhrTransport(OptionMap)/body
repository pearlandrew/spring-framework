{
  Assert.notNull(optionMap,"OptionMap is required");
  this.optionMap=optionMap;
  this.httpClient=UndertowClient.getInstance();
  this.worker=Xnio.getInstance().createWorker(optionMap);
  this.undertowBufferSupport=(undertow13Present ? new Undertow13BufferSupport() : new UndertowXnioBufferSupport());
}
