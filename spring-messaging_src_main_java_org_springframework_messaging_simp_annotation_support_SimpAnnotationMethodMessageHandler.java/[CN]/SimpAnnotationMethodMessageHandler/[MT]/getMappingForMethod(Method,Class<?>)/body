{
  MessageMapping typeAnnotation=AnnotationUtils.findAnnotation(handlerType,MessageMapping.class);
  MessageMapping messageAnnotation=AnnotationUtils.findAnnotation(method,MessageMapping.class);
  if (messageAnnotation != null) {
    SimpMessageMappingInfo result=createMessageMappingCondition(messageAnnotation);
    if (typeAnnotation != null) {
      result=createMessageMappingCondition(typeAnnotation).combine(result);
    }
    return result;
  }
  SubscribeMapping subscribeAnnotation=AnnotationUtils.findAnnotation(method,SubscribeMapping.class);
  if (subscribeAnnotation != null) {
    SimpMessageMappingInfo result=createSubscribeCondition(subscribeAnnotation);
    if (typeAnnotation != null) {
      result=createMessageMappingCondition(typeAnnotation).combine(result);
    }
    return result;
  }
  return null;
}
