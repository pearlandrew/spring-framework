{
  String matchedPattern=mapping.getDestinationConditions().getPatterns().iterator().next();
  Map<String,String> vars=getPathMatcher().extractUriTemplateVariables(matchedPattern,lookupDestination);
  if (!CollectionUtils.isEmpty(vars)) {
    MessageHeaderAccessor accessor=MessageHeaderAccessor.getAccessor(message,MessageHeaderAccessor.class);
    Assert.state(accessor != null && accessor.isMutable());
    accessor.setHeader(DestinationVariableMethodArgumentResolver.DESTINATION_TEMPLATE_VARIABLES_HEADER,vars);
  }
  super.handleMatch(mapping,handlerMethod,lookupDestination,message);
}
