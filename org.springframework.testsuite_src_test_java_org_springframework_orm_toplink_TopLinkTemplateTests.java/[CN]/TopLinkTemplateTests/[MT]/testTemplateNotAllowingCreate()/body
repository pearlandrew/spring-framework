{
  MockControl sessionControl=MockControl.createControl(Session.class);
  Session session=(Session)sessionControl.getMock();
  SessionFactory factory=new SingleSessionFactory(session);
  TopLinkTemplate template=new TopLinkTemplate();
  template.setAllowCreate(false);
  template.setSessionFactory(factory);
  try {
    template.execute(new TopLinkCallback(){
      public Object doInTopLink(      Session session) throws TopLinkException {
        return null;
      }
    }
);
    fail();
  }
 catch (  Exception e) {
  }
}
