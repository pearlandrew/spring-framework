{
  HttpStatusCodeException ex1=new HttpClientErrorException(HttpStatus.BAD_REQUEST,null,null,Charset.forName("US-ASCII"));
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  new ObjectOutputStream(out).writeObject(ex1);
  ByteArrayInputStream in=new ByteArrayInputStream(out.toByteArray());
  HttpStatusCodeException ex2=(HttpStatusCodeException)new ObjectInputStream(in).readObject();
  assertThat(ex2.getResponseBodyAsString(),equalTo(ex1.getResponseBodyAsString()));
}
