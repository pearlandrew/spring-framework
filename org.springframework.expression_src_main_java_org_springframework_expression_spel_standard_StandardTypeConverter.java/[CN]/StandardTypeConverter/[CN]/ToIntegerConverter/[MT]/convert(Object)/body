{
  if (value instanceof String) {
    try {
      return Integer.parseInt((String)value);
    }
 catch (    NumberFormatException nfe) {
      throw new SpelException(SpelMessages.PROBLEM_DURING_TYPE_CONVERSION,"cannot parse string '" + value + "' as an integer");
    }
  }
 else {
    try {
      return Integer.parseInt(((Long)value).toString());
    }
 catch (    NumberFormatException nfe) {
      throw new SpelException(SpelMessages.PROBLEM_DURING_TYPE_CONVERSION,"long value '" + value + "' cannot be represented as an int");
    }
  }
}
