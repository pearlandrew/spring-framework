{
  logger.error("Error for WebSocket session: " + session.getId(),exception);
  try {
    WebSocketSession webSocketSession=getSession(session.getId());
    this.webSocketHandler.handleException(webSocketSession,exception);
  }
 catch (  Throwable ex) {
    logger.error("Failed to handle error",ex);
  }
}
