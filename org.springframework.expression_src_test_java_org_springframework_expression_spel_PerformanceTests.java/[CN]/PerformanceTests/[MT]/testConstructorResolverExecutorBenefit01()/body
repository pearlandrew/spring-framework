{
  long starttime=0;
  long endtime=0;
  for (int i=0; i < ITERATIONS; i++) {
    Expression expr=parser.parseExpression("new Integer(5)");
    if (expr == null) {
      fail("Parser returned null for expression");
    }
    Object value=expr.getValue(eContext);
  }
  starttime=System.currentTimeMillis();
  for (int i=0; i < ITERATIONS; i++) {
    Expression expr=parser.parseExpression("new Integer(5)");
    if (expr == null) {
      fail("Parser returned null for expression");
    }
    Object value=expr.getValue(eContext);
  }
  endtime=System.currentTimeMillis();
  long freshParseTime=endtime - starttime;
  Expression expr=parser.parseExpression("new Integer(5)");
  if (expr == null) {
    fail("Parser returned null for expression");
  }
  try {
    ConstructorReference.useCaching=false;
    starttime=System.currentTimeMillis();
    for (int i=0; i < ITERATIONS; i++) {
      Object value=expr.getValue(eContext);
    }
  }
  finally {
    ConstructorReference.useCaching=true;
  }
  endtime=System.currentTimeMillis();
  long cachingOffReuseTime=endtime - starttime;
  expr=parser.parseExpression("new Integer(5)");
  if (expr == null) {
    fail("Parser returned null for expression");
  }
  starttime=System.currentTimeMillis();
  for (int i=0; i < ITERATIONS; i++) {
    Object value=expr.getValue(eContext);
  }
  endtime=System.currentTimeMillis();
  long reuseTime=endtime - starttime;
  if (report) {
    System.out.println("Timings for constructor execution 'new Integer(5)'");
    System.out.println("Fresh parse every time, " + ITERATIONS + " iterations = "+ freshParseTime+ "ms");
    System.out.println("Reuse SpelExpression (caching off), " + ITERATIONS + " iterations = "+ cachingOffReuseTime+ "ms");
    System.out.println("Reuse SpelExpression, " + ITERATIONS + " iterations = "+ reuseTime+ "ms");
  }
  if (reuseTime > freshParseTime) {
    fail("Should have been quicker to reuse a parsed expression!");
  }
  if (reuseTime > cachingOffReuseTime) {
    fail("Should have been quicker to reuse cached!");
  }
}
