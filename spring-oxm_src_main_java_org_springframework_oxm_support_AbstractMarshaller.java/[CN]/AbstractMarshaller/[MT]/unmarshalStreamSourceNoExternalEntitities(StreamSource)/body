{
  InputSource inputSource;
  if (streamSource.getInputStream() != null) {
    inputSource=new InputSource(streamSource.getInputStream());
    inputSource.setEncoding(getDefaultEncoding());
  }
 else   if (streamSource.getReader() != null) {
    inputSource=new InputSource(streamSource.getReader());
  }
 else {
    inputSource=new InputSource(streamSource.getSystemId());
  }
  return unmarshalSaxSource(new SAXSource(inputSource));
}
