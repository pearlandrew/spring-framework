{
  if (StringUtils.hasLength(beanName)) {
    return (FactoryBean.class.isAssignableFrom(beanClass) ? BeanFactory.FACTORY_BEAN_PREFIX + beanName : beanName);
  }
 else {
    return beanClass;
  }
}
