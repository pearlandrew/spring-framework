{
  if (this.evaluationContext == null) {
    this.evaluationContext=createEvaluationContext(pageContext);
  }
  if (this.var != null) {
    Object result=this.expression.getValue(this.evaluationContext);
    pageContext.setAttribute(this.var,result,this.scope);
  }
 else {
    try {
      String result=this.expression.getValue(this.evaluationContext,String.class);
      result=ObjectUtils.getDisplayString(result);
      result=(isHtmlEscape() ? HtmlUtils.htmlEscape(result) : result);
      result=(this.javaScriptEscape ? JavaScriptUtils.javaScriptEscape(result) : result);
      pageContext.getOut().print(result);
    }
 catch (    IOException ex) {
      throw new JspException(ex);
    }
  }
  return EVAL_PAGE;
}
