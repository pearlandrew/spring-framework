{
  beanFactory.registerResolvableDependency(FacesContext.class,new ObjectFactory<FacesContext>(){
    public FacesContext getObject(){
      return FacesContext.getCurrentInstance();
    }
  }
);
  beanFactory.registerResolvableDependency(ExternalContext.class,new ObjectFactory<ExternalContext>(){
    public ExternalContext getObject(){
      return FacesContext.getCurrentInstance().getExternalContext();
    }
  }
);
}
