{
  InputStream is=resource.getInputStream();
  ClassReader classReader=null;
  try {
    classReader=new ClassReader(is);
  }
  finally {
    is.close();
  }
  AnnotationMetadataReadingVisitor visitor=new AnnotationMetadataReadingVisitor(classLoader);
  classReader.accept(visitor,true);
  this.annotationMetadata=visitor;
  this.classMetadata=visitor;
  this.resource=resource;
}
