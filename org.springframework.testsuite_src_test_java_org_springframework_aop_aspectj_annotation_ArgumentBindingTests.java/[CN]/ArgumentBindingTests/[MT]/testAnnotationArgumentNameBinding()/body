{
  TransactionalBean tb=new TransactionalBean();
  AspectJProxyFactory proxyFactory=new AspectJProxyFactory(tb);
  proxyFactory.addAspect(PointcutWithAnnotationArgument.class);
  final ITransactionalBean proxiedTestBean=(ITransactionalBean)proxyFactory.getProxy();
  new AssertThrows(IllegalStateException.class){
    public void test() throws Exception {
      proxiedTestBean.doInTransaction();
    }
  }
.runTest();
}
