{
  if (logger.isDebugEnabled()) {
    logger.debug("Stopping " + this.getClass().getSimpleName());
  }
  try {
    if (isConnected()) {
      closeConnection();
    }
  }
 catch (  Throwable e) {
    logger.error("Failed to stop WebSocket connection",e);
  }
 finally {
    this.isRunning=false;
  }
}
