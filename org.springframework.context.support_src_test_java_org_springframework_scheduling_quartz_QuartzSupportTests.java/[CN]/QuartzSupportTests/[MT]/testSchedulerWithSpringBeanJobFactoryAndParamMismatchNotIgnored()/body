{
  DummyJob.param=0;
  DummyJob.count=0;
  JobDetail jobDetail=new JobDetail();
  jobDetail.setJobClass(DummyJob.class);
  jobDetail.setName("myJob");
  jobDetail.getJobDataMap().put("para","10");
  jobDetail.getJobDataMap().put("ignoredParam","10");
  SimpleTriggerBean trigger=new SimpleTriggerBean();
  trigger.setName("myTrigger");
  trigger.setJobDetail(jobDetail);
  trigger.setStartDelay(1);
  trigger.setRepeatInterval(500);
  trigger.setRepeatCount(1);
  trigger.afterPropertiesSet();
  SchedulerFactoryBean bean=new SchedulerFactoryBean();
  SpringBeanJobFactory jobFactory=new SpringBeanJobFactory();
  jobFactory.setIgnoredUnknownProperties(new String[]{"ignoredParam"});
  bean.setJobFactory(jobFactory);
  bean.setTriggers(new Trigger[]{trigger});
  bean.setJobDetails(new JobDetail[]{jobDetail});
  bean.afterPropertiesSet();
  Thread.sleep(500);
  assertEquals(0,DummyJob.param);
  assertTrue(DummyJob.count == 0);
  bean.destroy();
}
