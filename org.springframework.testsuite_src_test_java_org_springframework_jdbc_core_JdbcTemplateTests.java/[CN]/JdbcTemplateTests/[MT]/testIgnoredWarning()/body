{
  String sql="SELECT forename from custmr";
  SQLWarning warnings=new SQLWarning("My warning");
  MockControl ctrlResultSet=MockControl.createControl(ResultSet.class);
  ResultSet mockResultSet=(ResultSet)ctrlResultSet.getMock();
  mockResultSet.next();
  ctrlResultSet.setReturnValue(false);
  mockResultSet.close();
  ctrlResultSet.setVoidCallable();
  MockControl ctrlStatement=MockControl.createControl(PreparedStatement.class);
  PreparedStatement mockStatement=(PreparedStatement)ctrlStatement.getMock();
  mockStatement.executeQuery(sql);
  ctrlStatement.setReturnValue(mockResultSet);
  if (debugEnabled) {
    mockStatement.getWarnings();
    ctrlStatement.setReturnValue(null);
  }
  mockStatement.close();
  ctrlStatement.setVoidCallable();
  mockConnection.createStatement();
  ctrlConnection.setReturnValue(mockStatement);
  ctrlResultSet.replay();
  ctrlStatement.replay();
  replay();
  JdbcTemplate template=new JdbcTemplate(mockDataSource);
  template.setIgnoreWarnings(true);
  template.query(sql,new RowCallbackHandler(){
    public void processRow(    ResultSet rs) throws java.sql.SQLException {
      rs.getByte(1);
    }
  }
);
  ctrlResultSet.verify();
  ctrlStatement.verify();
}
