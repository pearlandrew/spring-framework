{
  String path=flashMap.getTargetRequestPath();
  if (path != null) {
    path=urlPathHelper.decodeRequestString(request,path);
    if (path.charAt(0) != '/') {
      String requestUri=this.urlPathHelper.getRequestUri(request);
      path=requestUri.substring(0,requestUri.lastIndexOf('/') + 1) + path;
      path=StringUtils.cleanPath(path);
    }
    flashMap.setTargetRequestPath(path);
  }
}
