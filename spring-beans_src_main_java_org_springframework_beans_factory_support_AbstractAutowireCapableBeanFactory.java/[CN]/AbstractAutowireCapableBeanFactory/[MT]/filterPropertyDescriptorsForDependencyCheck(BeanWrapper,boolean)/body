{
  PropertyDescriptor[] filtered=this.filteredPropertyDescriptorsCache.get(bw.getWrappedClass());
  if (filtered == null) {
    if (cache) {
synchronized (this.filteredPropertyDescriptorsCache) {
        filtered=this.filteredPropertyDescriptorsCache.get(bw.getWrappedClass());
        if (filtered == null) {
          filtered=filterPropertyDescriptorsForDependencyCheck(bw);
          this.filteredPropertyDescriptorsCache.put(bw.getWrappedClass(),filtered);
        }
      }
    }
 else {
      filtered=filterPropertyDescriptorsForDependencyCheck(bw);
    }
  }
  return filtered;
}
