{
  bf.registerBeanDefinition("componentWithConcreteBeanMethod",new RootBeanDefinition(ComponentWithConcreteBeanMethod.class));
  RootBeanDefinition beanMethodBeanDef=new RootBeanDefinition();
  beanMethodBeanDef.setFactoryBeanName("componentWithConcreteBeanMethod");
  beanMethodBeanDef.setFactoryMethodName("aBeanMethod");
  bf.registerBeanDefinition("aBeanMethod",beanMethodBeanDef);
  EarlyBeanReferenceProxyCreator pc=new EarlyBeanReferenceProxyCreator(bf);
  ComponentWithConcreteBeanMethod proxy=(ComponentWithConcreteBeanMethod)pc.createProxyIfPossible(descriptorFor(ComponentWithConcreteBeanMethod.class));
  TestBean bean=proxy.aBeanMethod();
  assertThat(bean.getName(),equalTo("concrete"));
}
