{
  if (this.detectInterceptors) {
    Map<String,HandlerInterceptor> handlerInterceptors=getApplicationContext().getBeansOfType(HandlerInterceptor.class);
    if (handlerInterceptors != null && !handlerInterceptors.isEmpty()) {
      this.interceptors.addAll(handlerInterceptors.values());
    }
    Map<String,WebRequestInterceptor> webInterceptors=getApplicationContext().getBeansOfType(WebRequestInterceptor.class);
    if (webInterceptors != null && !webInterceptors.isEmpty()) {
      for (      WebRequestInterceptor interceptor : webInterceptors.values()) {
        this.interceptors.add(new WebRequestHandlerInterceptorAdapter(interceptor));
      }
    }
  }
  if (!this.interceptors.isEmpty()) {
    this.adaptedInterceptors=new HandlerInterceptor[this.interceptors.size()];
    for (int i=0; i < this.interceptors.size(); i++) {
      Object interceptor=this.interceptors.get(i);
      if (interceptor == null) {
        throw new IllegalArgumentException("Entry number " + i + " in interceptors array is null");
      }
      this.adaptedInterceptors[i]=adaptInterceptor(interceptor);
    }
  }
}
