{
  Set<ProduceRequestCondition> matchingConditions=new LinkedHashSet<ProduceRequestCondition>(getConditions());
  for (Iterator<ProduceRequestCondition> iterator=matchingConditions.iterator(); iterator.hasNext(); ) {
    ProduceRequestCondition condition=iterator.next();
    if (!condition.match(request)) {
      iterator.remove();
    }
  }
  if (matchingConditions.isEmpty()) {
    return null;
  }
 else {
    return new ProducesRequestCondition(matchingConditions);
  }
}
