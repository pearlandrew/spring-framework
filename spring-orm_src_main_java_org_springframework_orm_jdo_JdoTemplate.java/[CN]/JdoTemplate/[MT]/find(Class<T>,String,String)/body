{
  return execute(new JdoCallback<Collection<T>>(){
    @SuppressWarnings("unchecked") public Collection<T> doInJdo(    PersistenceManager pm) throws JDOException {
      Query query=(filter != null ? pm.newQuery(entityClass,filter) : pm.newQuery(entityClass));
      prepareQuery(query);
      if (ordering != null) {
        query.setOrdering(ordering);
      }
      return (Collection<T>)query.execute();
    }
  }
,true);
}
