{
  TestBean beanInstance=new TestBean();
  BeanDefinitionBuilder builder=BeanDefinitionBuilder.rootBeanDefinition(TestBean.class);
  builder.addConstructorArgValue("David Gavurin");
  DefaultListableBeanFactory factory=new DefaultListableBeanFactory();
  factory.registerBeanDefinition("Mmm, I fancy a salad!",builder.getBeanDefinition());
  MockControl mock=MockControl.createControl(BeanWiringInfoResolver.class);
  BeanWiringInfoResolver resolver=(BeanWiringInfoResolver)mock.getMock();
  resolver.resolveWiringInfo(beanInstance);
  mock.setReturnValue(new BeanWiringInfo(BeanWiringInfo.AUTOWIRE_BY_TYPE,false));
  mock.replay();
  BeanConfigurerSupport configurer=new StubBeanConfigurerSupport();
  configurer.setBeanFactory(factory);
  configurer.setBeanWiringInfoResolver(resolver);
  configurer.configureBean(beanInstance);
  assertEquals("Bean is evidently not being configured (for some reason)","David Gavurin",beanInstance.getSpouse().getName());
  mock.verify();
}
