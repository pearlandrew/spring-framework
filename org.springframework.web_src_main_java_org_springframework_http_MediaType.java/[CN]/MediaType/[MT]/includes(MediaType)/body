{
  if (this == other) {
    return true;
  }
  if (this.type.equals(other.type)) {
    if (this.subtype.equals(other.subtype) || isWildcardSubtype()) {
      return true;
    }
    int thisPlusIdx=this.subtype.indexOf('+');
    int otherPlusIdx=other.subtype.indexOf('+');
    if (thisPlusIdx != -1 && otherPlusIdx != -1) {
      String thisSubtypeNoSuffix=this.subtype.substring(0,thisPlusIdx);
      String thisSubtypeSuffix=this.subtype.substring(thisPlusIdx + 1);
      String otherSubtypeSuffix=other.subtype.substring(otherPlusIdx + 1);
      if (thisSubtypeSuffix.equals(otherSubtypeSuffix) && WILDCARD_TYPE.equals(thisSubtypeNoSuffix)) {
        return true;
      }
    }
  }
  return isWildcardType();
}
