{
  ByteBuf abc=Unpooled.copiedBuffer(new byte[]{'a','b','c'});
  ByteBuf def=Unpooled.copiedBuffer(new byte[]{'d','e','f'});
  queue.putBuffer(abc);
  queue.putBuffer(def);
  queue.complete();
  int ch=is.read();
  assertEquals('a',ch);
  ch=is.read();
  assertEquals('b',ch);
  ch=is.read();
  assertEquals('c',ch);
  ch=is.read();
  assertEquals('d',ch);
  ch=is.read();
  assertEquals('e',ch);
  ch=is.read();
  assertEquals('f',ch);
  ch=is.read();
  assertEquals(-1,ch);
}
