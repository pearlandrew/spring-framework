{
  if (element.hasAttribute("conversion-service")) {
    return new RuntimeBeanReference(element.getAttribute("conversion-service"));
  }
 else {
    RootBeanDefinition conversionDef=new RootBeanDefinition(FormattingConversionServiceFactoryBean.class);
    conversionDef.setSource(source);
    conversionDef.setRole(BeanDefinition.ROLE_INFRASTRUCTURE);
    String conversionName=parserContext.getReaderContext().registerWithGeneratedName(conversionDef);
    parserContext.registerComponent(new BeanComponentDefinition(conversionDef,conversionName));
    return new RuntimeBeanReference(conversionName);
  }
}
