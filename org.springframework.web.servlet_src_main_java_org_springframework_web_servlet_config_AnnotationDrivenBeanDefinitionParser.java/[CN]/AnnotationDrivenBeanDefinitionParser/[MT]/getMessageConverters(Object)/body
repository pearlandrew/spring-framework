{
  ManagedList<RootBeanDefinition> messageConverters=new ManagedList<RootBeanDefinition>();
  messageConverters.setSource(source);
  messageConverters.add(new RootBeanDefinition(ByteArrayHttpMessageConverter.class));
  messageConverters.add(new RootBeanDefinition(StringHttpMessageConverter.class));
  messageConverters.add(new RootBeanDefinition(ResourceHttpMessageConverter.class));
  messageConverters.add(new RootBeanDefinition(SourceHttpMessageConverter.class));
  messageConverters.add(new RootBeanDefinition(XmlAwareFormHttpMessageConverter.class));
  if (jaxb2Present) {
    messageConverters.add(new RootBeanDefinition(Jaxb2RootElementHttpMessageConverter.class));
  }
  if (jacksonPresent) {
    messageConverters.add(new RootBeanDefinition(MappingJacksonHttpMessageConverter.class));
  }
  if (romePresent) {
    messageConverters.add(new RootBeanDefinition(AtomFeedHttpMessageConverter.class));
    messageConverters.add(new RootBeanDefinition(RssChannelHttpMessageConverter.class));
  }
  return messageConverters;
}
