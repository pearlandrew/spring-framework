{
  DefaultListableBeanFactory beanFactory=new DefaultListableBeanFactory();
  Properties props=new Properties();
  props.setProperty("test1","classpath:org/springframework/context/support/contextA.xml");
  props.setProperty("test2","classpath:org/springframework/context/support/contextB.xml");
  MutablePropertyValues pvs=new MutablePropertyValues();
  pvs.addPropertyValue("properties",props);
  RootBeanDefinition bd=new RootBeanDefinition(ResourceMapFactoryBean.class,pvs);
  beanFactory.registerBeanDefinition("resourceMap",bd);
  Map result=(Map)beanFactory.getBean("resourceMap");
  assertEquals(2,result.size());
  assertTrue(result.get("test1") instanceof ClassPathResource);
  assertTrue(((Resource)result.get("test1")).getDescription().indexOf("contextA.xml") != -1);
  assertTrue(((Resource)result.get("test2")).getDescription().indexOf("contextB.xml") != -1);
}
