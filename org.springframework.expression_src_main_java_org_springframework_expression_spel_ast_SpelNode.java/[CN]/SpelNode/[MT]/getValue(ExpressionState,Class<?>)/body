{
  Object result=getValue(state);
  if (result != null && desiredReturnType != null) {
    Class<?> resultType=result.getClass();
    if (desiredReturnType.isAssignableFrom(resultType)) {
      return result;
    }
    return ExpressionUtils.convert(state.getEvaluationContext(),result,desiredReturnType);
  }
  return result;
}
