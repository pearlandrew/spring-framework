{
  logger.debug("Complete buffer: " + (buffer == null));
  if (complete.compareAndSet(false,true) && buffer == null) {
    this.synchronizer.writeComplete();
  }
}
