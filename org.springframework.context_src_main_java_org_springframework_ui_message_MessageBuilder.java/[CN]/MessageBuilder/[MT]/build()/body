{
  if (severity == null) {
    severity=Severity.INFO;
  }
  if (codes == null && defaultText == null) {
    throw new IllegalArgumentException("A message code or the message text is required to build this message resolver");
  }
  String[] codesArray=(String[])codes.toArray(new String[codes.size()]);
  Object[] argsArray=args.toArray(new Object[args.size()]);
  return new DefaultMessageResolver(severity,codesArray,argsArray,defaultText);
}
