{
  String text=(String)source;
  if (!StringUtils.hasText(text)) {
    return null;
  }
  Object result;
  try {
    result=this.parser.parse(text,LocaleContextHolder.getLocale());
  }
 catch (  ParseException ex) {
    throw new IllegalArgumentException("Unable to parse '" + text + "'",ex);
  }
  if (result == null) {
    throw new IllegalStateException("Parsers are not allowed to return null");
  }
  TypeDescriptor resultType=TypeDescriptor.valueOf(result.getClass());
  if (!resultType.isAssignableTo(targetType)) {
    result=this.conversionService.convert(result,resultType,targetType);
  }
  return result;
}
