{
  Assert.notEmpty(uriComponents,"'uriComponents' must not be empty");
  Assert.hasLength(encoding,"'encoding' must not be empty");
  Map<UriComponents.Type,String> encodedUriComponents=new EnumMap<UriComponents.Type,String>(UriComponents.Type.class);
  for (  Map.Entry<UriComponents.Type,String> entry : uriComponents.entrySet()) {
    if (entry.getValue() != null) {
      String encodedValue=encodeUriComponent(entry.getValue(),encoding,entry.getKey(),null);
      encodedUriComponents.put(entry.getKey(),encodedValue);
    }
  }
  return buildUri(encodedUriComponents);
}
