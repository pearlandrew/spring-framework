{
  Assert.hasLength(encoding,"'encoding' must not be empty");
  if (scheme != null) {
    scheme=encodeScheme(scheme,encoding);
  }
  if (authority != null) {
    authority=encodeAuthority(authority,encoding);
  }
  if (userInfo != null) {
    userInfo=encodeUserInfo(userInfo,encoding);
  }
  if (host != null) {
    host=encodeHost(host,encoding);
  }
  if (port != null) {
    port=encodePort(port,encoding);
  }
  if (path != null) {
    path=encodePath(path,encoding);
  }
  if (query != null) {
    query=encodeQuery(query,encoding);
  }
  if (fragment != null) {
    fragment=encodeFragment(fragment,encoding);
  }
  return buildUri(scheme,authority,userInfo,host,port,path,query,fragment);
}
