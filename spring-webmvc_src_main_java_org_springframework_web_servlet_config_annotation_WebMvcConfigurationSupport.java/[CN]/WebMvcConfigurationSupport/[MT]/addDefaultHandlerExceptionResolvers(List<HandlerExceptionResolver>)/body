{
  ExceptionHandlerExceptionResolver exceptionHandlerResolver=createExceptionHandlerExceptionResolver();
  exceptionHandlerResolver.setContentNegotiationManager(mvcContentNegotiationManager());
  exceptionHandlerResolver.setMessageConverters(getMessageConverters());
  exceptionHandlerResolver.setCustomArgumentResolvers(getArgumentResolvers());
  exceptionHandlerResolver.setCustomReturnValueHandlers(getReturnValueHandlers());
  if (jackson2Present) {
    List<ResponseBodyAdvice<?>> interceptors=new ArrayList<>();
    interceptors.add(new JsonViewResponseBodyAdvice());
    exceptionHandlerResolver.setResponseBodyAdvice(interceptors);
  }
  exceptionHandlerResolver.setApplicationContext(this.applicationContext);
  exceptionHandlerResolver.afterPropertiesSet();
  exceptionResolvers.add(exceptionHandlerResolver);
  ResponseStatusExceptionResolver responseStatusResolver=new ResponseStatusExceptionResolver();
  responseStatusResolver.setMessageSource(this.applicationContext);
  exceptionResolvers.add(responseStatusResolver);
  exceptionResolvers.add(new DefaultHandlerExceptionResolver());
}
