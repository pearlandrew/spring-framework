{
  ExceptionHandlerExceptionResolver exceptionHandlerExceptionResolver=new ExceptionHandlerExceptionResolver();
  exceptionHandlerExceptionResolver.setApplicationContext(this.applicationContext);
  exceptionHandlerExceptionResolver.setContentNegotiationManager(mvcContentNegotiationManager());
  exceptionHandlerExceptionResolver.setMessageConverters(getMessageConverters());
  if (jackson2Present) {
    List<ResponseBodyInterceptor<?>> interceptors=new ArrayList<ResponseBodyInterceptor<?>>();
    interceptors.add(new JsonViewResponseBodyInterceptor());
    exceptionHandlerExceptionResolver.setResponseBodyInterceptors(interceptors);
  }
  exceptionHandlerExceptionResolver.afterPropertiesSet();
  exceptionResolvers.add(exceptionHandlerExceptionResolver);
  exceptionResolvers.add(new ResponseStatusExceptionResolver());
  exceptionResolvers.add(new DefaultHandlerExceptionResolver());
}
