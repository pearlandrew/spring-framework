{
  ViewResolverRegistry registry=new ViewResolverRegistry();
  registry.setContentNegotiationManager(mvcContentNegotiationManager());
  registry.setApplicationContext(this.applicationContext);
  configureViewResolvers(registry);
  List<ViewResolver> viewResolvers=registry.getViewResolvers();
  if (viewResolvers.isEmpty()) {
    viewResolvers.add(new InternalResourceViewResolver());
  }
  ViewResolverComposite composite=new ViewResolverComposite();
  composite.setOrder(registry.getOrder());
  composite.setViewResolvers(viewResolvers);
  composite.setApplicationContext(this.applicationContext);
  composite.setServletContext(this.servletContext);
  return composite;
}
