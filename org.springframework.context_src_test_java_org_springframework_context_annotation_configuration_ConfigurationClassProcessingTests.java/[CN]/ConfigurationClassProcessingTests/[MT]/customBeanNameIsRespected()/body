{
  GenericApplicationContext ac=new GenericApplicationContext();
  AnnotationConfigUtils.registerAnnotationConfigProcessors(ac);
  ac.registerBeanDefinition("config",new RootBeanDefinition(ConfigWithBeanWithCustomName.class));
  ac.refresh();
  assertSame(ac.getBean("customName"),ConfigWithBeanWithCustomName.testBean);
  try {
    ac.getBean("methodName");
    fail("bean should not have been registered with 'methodName'");
  }
 catch (  NoSuchBeanDefinitionException ex) {
  }
}
