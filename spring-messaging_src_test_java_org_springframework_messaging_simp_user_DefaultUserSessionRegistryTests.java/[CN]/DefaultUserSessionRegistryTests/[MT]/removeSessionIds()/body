{
  DefaultUserSessionRegistry resolver=new DefaultUserSessionRegistry();
  for (  String sessionId : sessionIds) {
    resolver.registerSessionId(user,sessionId);
  }
  assertEquals(new LinkedHashSet<>(sessionIds),resolver.getSessionIds(user));
  resolver.unregisterSessionId(user,sessionIds.get(1));
  resolver.unregisterSessionId(user,sessionIds.get(2));
  assertEquals(Collections.singleton(sessionIds.get(0)),resolver.getSessionIds(user));
  resolver.unregisterSessionId(user,sessionIds.get(0));
  assertSame(Collections.emptySet(),resolver.getSessionIds(user));
}
