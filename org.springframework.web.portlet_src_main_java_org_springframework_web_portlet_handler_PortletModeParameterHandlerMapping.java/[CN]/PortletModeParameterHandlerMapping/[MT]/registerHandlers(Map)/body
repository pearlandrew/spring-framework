{
  if (CollectionUtils.isEmpty(portletModeParameterMap)) {
    logger.warn("'portletModeParameterMap' not set on PortletModeParameterHandlerMapping");
  }
 else {
    for (Iterator it=portletModeParameterMap.entrySet().iterator(); it.hasNext(); ) {
      Map.Entry entry=(Map.Entry)it.next();
      String modeKey=(String)entry.getKey();
      PortletMode mode=new PortletMode(modeKey);
      Object parameterMap=entry.getValue();
      if (!(parameterMap instanceof Map)) {
        throw new IllegalArgumentException("The value for the portlet mode must be a Map of parameter Strings to handler Objects");
      }
      registerHandler(mode,(Map)parameterMap);
    }
  }
}
