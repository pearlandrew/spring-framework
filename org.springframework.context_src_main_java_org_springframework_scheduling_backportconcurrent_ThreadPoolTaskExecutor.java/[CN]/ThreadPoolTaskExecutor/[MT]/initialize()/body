{
  if (logger.isInfoEnabled()) {
    logger.info("Initializing ThreadPoolExecutor" + (this.beanName != null ? " '" + this.beanName + "'" : ""));
  }
  if (!this.threadNamePrefixSet && this.beanName != null) {
    setThreadNamePrefix(this.beanName + "-");
  }
  BlockingQueue queue=createQueue(this.queueCapacity);
  this.threadPoolExecutor=new ThreadPoolExecutor(this.corePoolSize,this.maxPoolSize,this.keepAliveSeconds,TimeUnit.SECONDS,queue,this.threadFactory,this.rejectedExecutionHandler);
  if (this.allowCoreThreadTimeOut) {
    this.threadPoolExecutor.allowCoreThreadTimeOut(true);
  }
}
