{
  initDispatcherServlet(ModelAndViewResolverController.class,new BeanDefinitionRegistrar(){
    public void register(    GenericWebApplicationContext wac){
      RootBeanDefinition adapterDef=new RootBeanDefinition(RequestMappingHandlerMethodAdapter.class);
      ModelAndViewResolver[] mavResolvers=new ModelAndViewResolver[]{new MyModelAndViewResolver()};
      adapterDef.getPropertyValues().add("customModelAndViewResolvers",mavResolvers);
      wac.registerBeanDefinition("handlerAdapter",adapterDef);
    }
  }
);
  MockHttpServletRequest request=new MockHttpServletRequest("GET","/");
  MockHttpServletResponse response=new MockHttpServletResponse();
  servlet.service(request,response);
  assertEquals("myValue",response.getContentAsString());
}
