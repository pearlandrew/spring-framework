{
  ScheduledFuture<?> task=mock(ScheduledFuture.class);
  doReturn(task).when(this.taskScheduler).schedule(any(Runnable.class),any(Date.class));
  this.session.setActive(true);
  this.session.scheduleHeartbeat();
  verify(this.taskScheduler).schedule(any(Runnable.class),any(Date.class));
  verifyNoMoreInteractions(this.taskScheduler);
  doReturn(false).when(task).isDone();
  this.session.cancelHeartbeat();
  verify(task).isDone();
  verify(task).cancel(false);
  verifyNoMoreInteractions(task);
}
