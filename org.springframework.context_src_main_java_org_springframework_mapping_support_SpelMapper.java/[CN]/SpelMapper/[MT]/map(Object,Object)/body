{
  EvaluationContext sourceContext=getMappingContext(source);
  EvaluationContext targetContext=getMappingContext(target);
  List<MappingFailure> failures=new LinkedList<MappingFailure>();
  for (  Mapping mapping : this.mappings) {
    mapping.map(sourceContext,targetContext,failures);
  }
  Set<Mapping> autoMappings=getAutoMappings(sourceContext,targetContext);
  for (  Mapping mapping : autoMappings) {
    mapping.map(sourceContext,targetContext,failures);
  }
  if (!failures.isEmpty()) {
    throw new MappingException(failures);
  }
  return target;
}
