{
  EvaluationContext sourceContext=getMappingContext(source);
  EvaluationContext targetContext=getMappingContext(target);
  List<MappingFailure> failures=new LinkedList<MappingFailure>();
  for (  SpelMapping mapping : this.mappings) {
    mapping.map(sourceContext,targetContext,failures);
  }
  Set<SpelMapping> autoMappings=getAutoMappings(sourceContext,targetContext);
  for (  SpelMapping mapping : autoMappings) {
    mapping.map(sourceContext,targetContext,failures);
  }
  if (!failures.isEmpty()) {
    throw new MappingException(failures);
  }
  return target;
}
