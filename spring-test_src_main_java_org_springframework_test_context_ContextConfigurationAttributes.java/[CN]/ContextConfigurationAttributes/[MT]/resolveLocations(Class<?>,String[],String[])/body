{
  Assert.notNull(declaringClass,"declaringClass must not be null");
  if (!ObjectUtils.isEmpty(value) && !ObjectUtils.isEmpty(locations)) {
    String msg=String.format("Test class [%s] has been configured with @ContextConfiguration's 'value' %s " + "and 'locations' %s attributes. Only one declaration of resource " + "locations is permitted per @ContextConfiguration annotation.",declaringClass.getName(),ObjectUtils.nullSafeToString(value),ObjectUtils.nullSafeToString(locations));
    logger.error(msg);
    throw new IllegalStateException(msg);
  }
 else   if (!ObjectUtils.isEmpty(value)) {
    locations=value;
  }
  return locations;
}
