{
  if (isValidating() && object != null) {
    XmlOptions validateOptions=getXmlOptions() != null ? getXmlOptions() : new XmlOptions();
    List errorsList=new ArrayList();
    validateOptions.setErrorListener(errorsList);
    if (!object.validate(validateOptions)) {
      StringBuilder builder=new StringBuilder("Could not validate XmlObject :");
      for (      Object anErrorsList : errorsList) {
        XmlError xmlError=(XmlError)anErrorsList;
        if (xmlError instanceof XmlValidationError) {
          builder.append(xmlError.toString());
        }
      }
      throw new ValidationFailureException("XMLBeans validation failure",new XmlException(builder.toString(),null,errorsList));
    }
  }
}
