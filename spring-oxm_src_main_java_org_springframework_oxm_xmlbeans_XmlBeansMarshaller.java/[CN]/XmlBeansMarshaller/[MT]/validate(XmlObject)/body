{
  if (isValidating() && object != null) {
    XmlOptions validateOptions=getXmlOptions();
    if (validateOptions == null) {
      validateOptions=new XmlOptions();
    }
    List<XmlError> errorsList=new ArrayList<XmlError>();
    validateOptions.setErrorListener(errorsList);
    if (!object.validate(validateOptions)) {
      StringBuilder sb=new StringBuilder("Failed to validate XmlObject: ");
      boolean first=true;
      for (      XmlError error : errorsList) {
        if (error instanceof XmlValidationError) {
          if (!first) {
            sb.append("; ");
          }
          sb.append(error.toString());
          first=false;
        }
      }
      throw new ValidationFailureException("XMLBeans validation failure",new XmlException(sb.toString(),null,errorsList));
    }
  }
}
