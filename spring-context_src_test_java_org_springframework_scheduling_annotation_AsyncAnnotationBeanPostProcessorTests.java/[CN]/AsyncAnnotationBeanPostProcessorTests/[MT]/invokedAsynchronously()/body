{
  ConfigurableApplicationContext context=initContext(new RootBeanDefinition(AsyncAnnotationBeanPostProcessor.class));
  ITestBean testBean=(ITestBean)context.getBean("target");
  testBean.test();
  Thread mainThread=Thread.currentThread();
  testBean.await(3000);
  Thread asyncThread=testBean.getThread();
  assertNotSame(mainThread,asyncThread);
  context.close();
}
