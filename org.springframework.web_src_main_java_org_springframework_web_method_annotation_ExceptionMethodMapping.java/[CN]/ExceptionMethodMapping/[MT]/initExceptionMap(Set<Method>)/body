{
  for (  Method method : methods) {
    for (    Class<? extends Throwable> exceptionType : getMappedExceptionTypes(method)) {
      Method prevMethod=mappedExceptionTypes.put(exceptionType,method);
      if (prevMethod != null && !prevMethod.equals(method)) {
        throw new IllegalStateException("Ambiguous exception handler mapped for [" + exceptionType + "]: {"+ prevMethod+ ", "+ method+ "}.");
      }
    }
  }
}
