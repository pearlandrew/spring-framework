{
  FlashMap flashMap=new FlashMap();
  flashMap.setExpectedUrlPath(new MockHttpServletRequest(),"http://example.com");
  assertTrue(flashMap.matches(new MockHttpServletRequest("GET","")));
  assertTrue(flashMap.matches(new MockHttpServletRequest("GET","/")));
  assertFalse(flashMap.matches(new MockHttpServletRequest("GET","/no")));
  flashMap.setExpectedUrlPath(null,"http://example.com/");
  assertTrue(flashMap.matches(new MockHttpServletRequest("GET","")));
  assertTrue(flashMap.matches(new MockHttpServletRequest("GET","/")));
  assertFalse(flashMap.matches(new MockHttpServletRequest("GET","/no")));
  flashMap.setExpectedUrlPath(null,"http://example.com/yes");
  assertTrue(flashMap.matches(new MockHttpServletRequest("GET","/yes")));
  assertTrue(flashMap.matches(new MockHttpServletRequest("GET","/yes/")));
  assertFalse(flashMap.matches(new MockHttpServletRequest("GET","/no")));
  assertFalse(flashMap.matches(new MockHttpServletRequest("GET","/yes/no")));
  flashMap.setExpectedUrlPath(null,"http://example.com/yes?a=1");
  assertTrue(flashMap.matches(new MockHttpServletRequest("GET","/yes")));
}
