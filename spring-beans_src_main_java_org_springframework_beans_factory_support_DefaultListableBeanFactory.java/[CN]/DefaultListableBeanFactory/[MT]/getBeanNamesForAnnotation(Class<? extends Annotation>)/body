{
  List<String> results=new ArrayList<String>();
  for (  String beanName : getBeanDefinitionNames()) {
    BeanDefinition beanDefinition=getBeanDefinition(beanName);
    if (!beanDefinition.isAbstract() && findAnnotationOnBean(beanName,annotationType) != null) {
      results.add(beanName);
    }
  }
  for (  String beanName : getSingletonNames()) {
    if (!results.contains(beanName) && findAnnotationOnBean(beanName,annotationType) != null) {
      results.add(beanName);
    }
  }
  return results.toArray(new String[results.size()]);
}
