{
  Map<String,Object> results=new LinkedHashMap<String,Object>();
  for (  String beanName : getBeanDefinitionNames()) {
    BeanDefinition beanDefinition=getBeanDefinition(beanName);
    if (!beanDefinition.isAbstract() && (findAnnotationOnBean(beanName,annotationType) != null)) {
      results.put(beanName,getBean(beanName));
    }
  }
  for (  String beanName : getSingletonNames()) {
    if (findAnnotationOnBean(beanName,annotationType) != null) {
      results.put(beanName,getBean(beanName));
    }
  }
  return results;
}
