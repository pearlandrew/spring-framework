{
  if (type == null || !allowEagerInit) {
    return this.doGetBeanNamesForType(type,includeNonSingletons,allowEagerInit);
  }
  Map<Class<?>,String[]> cache=includeNonSingletons ? this.nonSingletonBeanNamesByType : this.singletonBeanNamesByType;
  String[] resolvedBeanNames=cache.get(type);
  if (resolvedBeanNames != null) {
    return resolvedBeanNames;
  }
  resolvedBeanNames=this.doGetBeanNamesForType(type,includeNonSingletons,allowEagerInit);
  cache.put(type,resolvedBeanNames);
  return resolvedBeanNames;
}
