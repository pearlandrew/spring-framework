{
  RootBeanDefinition beanDefinition=getRootBeanDefinition(this.instancesToBeanNames.get(obj));
  if (beanDefinition == null) {
    return null;
  }
  List<Object> sources=new ArrayList<Object>();
  Method factoryMethod=beanDefinition.getResolvedFactoryMethod();
  if (factoryMethod != null) {
    sources.add(factoryMethod);
  }
  Class<?> targetType=beanDefinition.getTargetType();
  if (targetType != null && !targetType.equals(obj.getClass())) {
    sources.add(targetType);
  }
  return sources.toArray(new Object[sources.size()]);
}
