{
  filter.setIncludeQueryString(true);
  final MockHttpServletRequest request=new MockHttpServletRequest("POST","/hotels");
  MockHttpServletResponse response=new MockHttpServletResponse();
  request.setQueryString("booking=42");
  FilterChain filterChain=new NoopFilterChain();
  filter.doFilter(request,response,filterChain);
  assertNotNull(filter.beforeRequestMessage);
  assertTrue(filter.beforeRequestMessage.indexOf("uri=/hotels?booking=42") != -1);
  assertNotNull(filter.afterRequestMessage);
  assertTrue(filter.afterRequestMessage.indexOf("uri=/hotels?booking=42") != -1);
}
