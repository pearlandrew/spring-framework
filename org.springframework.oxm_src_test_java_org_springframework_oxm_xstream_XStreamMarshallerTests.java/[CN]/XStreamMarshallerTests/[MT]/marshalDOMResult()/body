{
  DocumentBuilderFactory documentBuilderFactory=DocumentBuilderFactory.newInstance();
  DocumentBuilder builder=documentBuilderFactory.newDocumentBuilder();
  Document document=builder.newDocument();
  DOMResult domResult=new DOMResult(document);
  marshaller.marshal(flight,domResult);
  Document expected=builder.newDocument();
  Element flightElement=expected.createElement("flight");
  expected.appendChild(flightElement);
  Element numberElement=expected.createElement("flightNumber");
  flightElement.appendChild(numberElement);
  Text text=expected.createTextNode("42");
  numberElement.appendChild(text);
  assertXMLEqual("Marshaller writes invalid DOMResult",expected,document);
}
