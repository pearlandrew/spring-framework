{
  try {
    byte[] bytes=new byte[chunkSize];
    int read;
    InputStream is=sub.context();
    if ((read=is.read(bytes)) > 0) {
      boolean release=true;
      DataBuffer dataBuffer=this.allocator.allocateBuffer(read);
      try {
        dataBuffer.write(bytes,0,read);
        release=false;
        sub.onNext(dataBuffer);
      }
  finally {
        if (release) {
        }
      }
    }
 else {
      sub.onComplete();
    }
  }
 catch (  IOException ex) {
    sub.onError(ex);
  }
}
