{
  Assert.notNull(messageBrokerChannel,"messageBrokerChannel is required");
  Assert.notNull(messageBrokerGateway,"messageBrokerGateway is required");
  if (!this.messageHandlers.contains(messageBrokerGateway)) {
    this.clientInputChannel.subscribe(messageBrokerGateway);
  }
  this.messageBrokerChannel=messageBrokerChannel;
  this.messageBrokerChannel.subscribe(messageBrokerGateway);
  this.messageHandlers.add(messageBrokerGateway);
  return this;
}
