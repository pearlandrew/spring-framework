{
  Assert.isAssignable(HttpEntity.class,methodParam.getParameterType());
  ParameterizedType type=(ParameterizedType)methodParam.getGenericParameterType();
  if (type.getActualTypeArguments().length == 1) {
    Type typeArgument=type.getActualTypeArguments()[0];
    if (typeArgument instanceof Class) {
      return (Class<?>)typeArgument;
    }
 else     if (typeArgument instanceof GenericArrayType) {
      Type componentType=((GenericArrayType)typeArgument).getGenericComponentType();
      if (componentType instanceof Class) {
        Object array=Array.newInstance((Class<?>)componentType,0);
        return array.getClass();
      }
    }
  }
  throw new IllegalArgumentException("HttpEntity parameter (" + methodParam.getParameterName() + ") is not parameterized");
}
