{
  if (value == null) {
    if (boolean.class == paramType) {
      return Boolean.FALSE;
    }
 else     if (paramType.isPrimitive()) {
      throw new IllegalStateException("Optional " + paramType + " parameter '"+ name+ "' is not present but cannot be translated into a null value due to being declared as a "+ "primitive type. Consider declaring it as object wrapper for the corresponding primitive type.");
    }
  }
  return value;
}
