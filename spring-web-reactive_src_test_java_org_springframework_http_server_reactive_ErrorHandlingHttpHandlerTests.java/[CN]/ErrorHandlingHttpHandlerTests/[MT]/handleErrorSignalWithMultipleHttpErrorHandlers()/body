{
  HttpExceptionHandler[] exceptionHandlers=new HttpExceptionHandler[]{new UnresolvedExceptionHandler(),new UnresolvedExceptionHandler(),new InternalServerErrorExceptionHandler(),new UnresolvedExceptionHandler()};
  HttpHandler targetHandler=new TestHttpHandler(new IllegalStateException("boo"));
  HttpHandler httpHandler=new ErrorHandlingHttpHandler(targetHandler,exceptionHandlers);
  Publisher<Void> publisher=httpHandler.handle(this.request,this.response);
  Streams.wrap(publisher).toList().await(5,TimeUnit.SECONDS);
  assertEquals(HttpStatus.INTERNAL_SERVER_ERROR,this.response.getStatus());
}
