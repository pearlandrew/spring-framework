{
  if (source instanceof String) {
    Formatter formatter=this.formatterRegistry.getFormatter(targetType);
    if (formatter != null) {
      try {
        return formatter.parse((String)source,LocaleContextHolder.getLocale());
      }
 catch (      ParseException ex) {
        throw new ConversionFailedException(source,String.class,targetType.getType(),ex);
      }
    }
  }
  return this.targetConversionService.convert(source,targetType);
}
