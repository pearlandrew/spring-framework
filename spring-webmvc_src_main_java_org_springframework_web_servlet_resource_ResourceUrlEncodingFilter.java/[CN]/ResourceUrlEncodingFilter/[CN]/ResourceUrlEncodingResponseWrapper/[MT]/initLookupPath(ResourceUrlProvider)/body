{
  if (this.indexLookupPath == null) {
    String requestUri=urlProvider.getPathHelper().getRequestUri(this.request);
    String lookupPath=urlProvider.getPathHelper().getLookupPathForRequest(this.request);
    this.indexLookupPath=requestUri.lastIndexOf(lookupPath);
    this.prefixLookupPath=requestUri.substring(0,this.indexLookupPath);
    if ("/".equals(lookupPath) && !"/".equals(requestUri)) {
      String contextPath=urlProvider.getPathHelper().getContextPath(this.request);
      if (requestUri.equals(contextPath)) {
        this.indexLookupPath=requestUri.length();
        this.prefixLookupPath=requestUri;
      }
    }
  }
}
