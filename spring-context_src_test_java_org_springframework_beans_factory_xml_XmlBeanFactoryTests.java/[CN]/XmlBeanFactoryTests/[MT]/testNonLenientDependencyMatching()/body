{
  XmlBeanFactory xbf=new XmlBeanFactory(CONSTRUCTOR_ARG_CONTEXT);
  AbstractBeanDefinition bd=(AbstractBeanDefinition)xbf.getBeanDefinition("lenientDependencyTestBean");
  bd.setLenientConstructorResolution(false);
  try {
    xbf.getBean("lenientDependencyTestBean");
    fail("Should have thrown BeanCreationException");
  }
 catch (  BeanCreationException ex) {
    ex.printStackTrace();
    assertTrue(ex.getMostSpecificCause().getMessage().contains("Ambiguous"));
  }
}
