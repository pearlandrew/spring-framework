{
  if (targetType == null || targetType.isArray() || unknownEditorTypes.containsKey(targetType)) {
    return null;
  }
  ClassLoader cl=targetType.getClassLoader();
  if (cl == null) {
    try {
      cl=ClassLoader.getSystemClassLoader();
      if (cl == null) {
        return null;
      }
    }
 catch (    Throwable ex) {
      if (logger.isDebugEnabled()) {
        logger.debug("Could not access system ClassLoader: " + ex);
      }
      return null;
    }
  }
  String editorName=targetType.getName() + "Editor";
  try {
    Class<?> editorClass=cl.loadClass(editorName);
    if (!PropertyEditor.class.isAssignableFrom(editorClass)) {
      if (logger.isWarnEnabled()) {
        logger.warn("Editor class [" + editorName + "] does not implement [java.beans.PropertyEditor] interface");
      }
      unknownEditorTypes.put(targetType,Boolean.TRUE);
      return null;
    }
    return (PropertyEditor)instantiateClass(editorClass);
  }
 catch (  ClassNotFoundException ex) {
    if (logger.isDebugEnabled()) {
      logger.debug("No property editor [" + editorName + "] found for type "+ targetType.getName()+ " according to 'Editor' suffix convention");
    }
    unknownEditorTypes.put(targetType,Boolean.TRUE);
    return null;
  }
}
