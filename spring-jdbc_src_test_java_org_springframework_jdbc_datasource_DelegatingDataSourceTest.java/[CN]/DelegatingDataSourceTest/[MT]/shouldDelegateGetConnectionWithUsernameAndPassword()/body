{
  Connection connection=EasyMock.createMock(Connection.class);
  String username="username";
  String password="password";
  EasyMock.expect(delegate.getConnection(username,password)).andReturn(connection);
  EasyMock.replay(delegate);
  assertThat(dataSource.getConnection(username,password),is(connection));
  EasyMock.verify(delegate);
}
