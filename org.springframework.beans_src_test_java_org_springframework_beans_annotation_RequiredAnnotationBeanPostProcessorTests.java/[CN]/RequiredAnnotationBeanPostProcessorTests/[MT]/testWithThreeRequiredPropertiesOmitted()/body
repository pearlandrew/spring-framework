{
  try {
    DefaultListableBeanFactory factory=new DefaultListableBeanFactory();
    BeanDefinition beanDef=BeanDefinitionBuilder.genericBeanDefinition(RequiredTestBean.class).addPropertyValue("name","Rob Harrop").getBeanDefinition();
    factory.registerBeanDefinition("testBean",beanDef);
    factory.addBeanPostProcessor(new RequiredAnnotationBeanPostProcessor());
    factory.preInstantiateSingletons();
    fail("Should have thrown BeanCreationException");
  }
 catch (  BeanCreationException ex) {
    String message=ex.getCause().getMessage();
    assertTrue(message.indexOf("Properties") > -1);
    assertTrue(message.indexOf("age") > -1);
    assertTrue(message.indexOf("favouriteColour") > -1);
    assertTrue(message.indexOf("jobTitle") > -1);
    assertTrue(message.indexOf("testBean") > -1);
  }
}
