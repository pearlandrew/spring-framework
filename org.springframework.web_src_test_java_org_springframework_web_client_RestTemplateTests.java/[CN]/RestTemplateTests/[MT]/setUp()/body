{
  requestFactory=createMock(ClientHttpRequestFactory.class);
  request=createMock(ClientHttpRequest.class);
  response=createMock(ClientHttpResponse.class);
  errorHandler=createMock(ResponseErrorHandler.class);
  converter=createMock(HttpMessageConverter.class);
  template=new RestTemplate(requestFactory);
  template.setErrorHandler(errorHandler);
  template.setMessageConverters(Collections.<HttpMessageConverter<?>>singletonList(converter));
}
