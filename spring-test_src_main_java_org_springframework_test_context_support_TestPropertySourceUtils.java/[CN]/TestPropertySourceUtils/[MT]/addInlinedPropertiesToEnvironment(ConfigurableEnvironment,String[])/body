{
  Assert.notNull(environment,"environment must not be null");
  Assert.notNull(inlinedProperties,"inlinedProperties must not be null");
  if (!ObjectUtils.isEmpty(inlinedProperties)) {
    if (logger.isDebugEnabled()) {
      logger.debug("Adding inlined properties to environment: " + ObjectUtils.nullSafeToString(inlinedProperties));
    }
    MapPropertySource ps=new MapPropertySource(INLINED_PROPERTIES_PROPERTY_SOURCE_NAME,convertInlinedPropertiesToMap(inlinedProperties));
    environment.getPropertySources().addFirst(ps);
  }
}
