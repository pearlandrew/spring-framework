{
  Person person=new Person();
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("male","bogus");
  GenericBinder binder=new GenericBinder();
  MockMessageSource messageSource=new MockMessageSource();
  messageSource.addMessage("typeMismatch",Locale.US,"Please enter true or false for the value of the #{label} field; you entered #{value}");
  binder.setMessageSource(messageSource);
  LocaleContextHolder.setLocale(Locale.US);
  BindingResults results=binder.bind(map,person);
  assertEquals("Please enter true or false for the value of the male field; you entered bogus",results.get(0).getAlert().getMessage());
  LocaleContextHolder.setLocale(null);
}
