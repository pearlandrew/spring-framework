{
  Map systemProperties;
  try {
    systemProperties=System.getProperties();
  }
 catch (  AccessControlException ex) {
    systemProperties=new ReadOnlySystemAttributesMap(){
      @Override protected String getSystemAttribute(      String propertyName){
        try {
          return System.getProperty(propertyName);
        }
 catch (        AccessControlException ex) {
          if (logger.isInfoEnabled()) {
            logger.info(format("Caught AccessControlException when accessing system property " + "[%s]; its value will be returned [null]. Reason: %s",propertyName,ex.getMessage()));
          }
          return null;
        }
      }
    }
;
  }
  return systemProperties;
}
