{
  ScopedBeanInterceptor interceptor=new ScopedBeanInterceptor();
  final Object realObject=new Object();
  ProxyFactory proxyFactory=new ProxyFactory();
  proxyFactory.setTarget(realObject);
  proxyFactory.setProxyTargetClass(true);
  final Object proxy=proxyFactory.getProxy();
  ScopedObject scoped=new ScopedObject(){
    @Override public Object getTargetObject(){
      return proxy;
    }
    @Override public void removeFromScope(){
    }
  }
;
  assertEquals(realObject.getClass().getName(),interceptor.getEntityName(scoped));
}
