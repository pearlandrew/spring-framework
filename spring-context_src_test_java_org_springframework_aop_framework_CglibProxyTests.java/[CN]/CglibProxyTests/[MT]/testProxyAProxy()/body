{
  ITestBean target=new TestBean();
  mockTargetSource.setTarget(target);
  AdvisedSupport as=new AdvisedSupport(new Class[]{});
  as.setTargetSource(mockTargetSource);
  as.addAdvice(new NopInterceptor());
  Cglib2AopProxy cglib=new Cglib2AopProxy(as);
  ITestBean proxy1=(ITestBean)cglib.getProxy();
  mockTargetSource.setTarget(proxy1);
  as=new AdvisedSupport(new Class[]{});
  as.setTargetSource(mockTargetSource);
  as.addAdvice(new NopInterceptor());
  cglib=new Cglib2AopProxy(as);
  assertThat(cglib.getProxy(),instanceOf(ITestBean.class));
}
