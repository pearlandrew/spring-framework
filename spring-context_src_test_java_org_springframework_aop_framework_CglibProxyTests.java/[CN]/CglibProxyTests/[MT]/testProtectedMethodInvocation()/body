{
  ProtectedMethodTestBean bean=new ProtectedMethodTestBean();
  mockTargetSource.setTarget(bean);
  AdvisedSupport as=new AdvisedSupport(new Class[]{});
  as.setTargetSource(mockTargetSource);
  as.addAdvice(new NopInterceptor());
  AopProxy aop=new CglibAopProxy(as);
  Object proxy=aop.getProxy();
  assertTrue(AopUtils.isCglibProxy(proxy));
}
