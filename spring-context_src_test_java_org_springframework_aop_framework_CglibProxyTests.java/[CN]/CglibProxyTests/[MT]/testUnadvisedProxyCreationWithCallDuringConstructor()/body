{
  CglibTestBean target=new CglibTestBean();
  target.setName("Rob Harrop");
  AdvisedSupport pc=new AdvisedSupport(new Class[]{});
  pc.setFrozen(true);
  pc.setTarget(target);
  Cglib2AopProxy aop=new Cglib2AopProxy(pc);
  CglibTestBean proxy=(CglibTestBean)aop.getProxy();
  assertNotNull("Proxy should not be null",proxy);
  assertEquals("Constructor overrode the value of name","Rob Harrop",proxy.getName());
}
