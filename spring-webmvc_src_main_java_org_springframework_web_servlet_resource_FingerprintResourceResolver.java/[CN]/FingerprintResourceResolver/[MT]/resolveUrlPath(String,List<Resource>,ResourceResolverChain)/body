{
  String baseUrl=chain.resolveUrlPath(resourcePath,locations);
  if (StringUtils.hasText(baseUrl)) {
    Resource original=chain.resolveResource(null,resourcePath,locations);
    String hash=calculateHash(original);
    return StringUtils.stripFilenameExtension(baseUrl) + "-" + hash+ "."+ StringUtils.getFilenameExtension(baseUrl);
  }
  return baseUrl;
}
