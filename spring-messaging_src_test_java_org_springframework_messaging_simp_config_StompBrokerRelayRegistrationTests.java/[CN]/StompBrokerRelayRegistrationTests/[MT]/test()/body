{
  SubscribableChannel clientInboundChannel=new StubMessageChannel();
  MessageChannel clientOutboundChannel=new StubMessageChannel();
  SubscribableChannel brokerChannel=new StubMessageChannel();
  String[] destinationPrefixes=new String[]{"/foo","/bar"};
  StompBrokerRelayRegistration registration=new StompBrokerRelayRegistration(clientInboundChannel,clientOutboundChannel,destinationPrefixes);
  registration.setClientLogin("clientlogin");
  registration.setClientPasscode("clientpasscode");
  registration.setSystemLogin("syslogin");
  registration.setSystemPasscode("syspasscode");
  registration.setSystemHeartbeatReceiveInterval(123);
  registration.setSystemHeartbeatSendInterval(456);
  registration.setVirtualHost("example.org");
  StompBrokerRelayMessageHandler relayMessageHandler=registration.getMessageHandler(brokerChannel);
  assertEquals(Arrays.asList(destinationPrefixes),relayMessageHandler.getDestinationPrefixes());
  assertEquals("clientlogin",relayMessageHandler.getClientLogin());
  assertEquals("clientpasscode",relayMessageHandler.getClientPasscode());
  assertEquals("syslogin",relayMessageHandler.getSystemLogin());
  assertEquals("syspasscode",relayMessageHandler.getSystemPasscode());
  assertEquals(123,relayMessageHandler.getSystemHeartbeatReceiveInterval());
  assertEquals(456,relayMessageHandler.getSystemHeartbeatSendInterval());
  assertEquals("example.org",relayMessageHandler.getVirtualHost());
}
