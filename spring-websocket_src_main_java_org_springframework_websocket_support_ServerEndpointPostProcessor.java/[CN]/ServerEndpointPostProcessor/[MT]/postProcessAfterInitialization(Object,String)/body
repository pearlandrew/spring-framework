{
  if (bean instanceof ServerEndpointConfig) {
    ServerEndpointConfig sec=(ServerEndpointConfig)bean;
    ServerContainer serverContainer=ServerContainerProvider.getServerContainer();
    try {
      logger.debug("Registering javax.websocket.Endpoint for path " + sec.getPath());
      serverContainer.addEndpoint(sec);
    }
 catch (    DeploymentException e) {
      throw new IllegalStateException("Failed to deploy Endpoint " + bean,e);
    }
  }
  return bean;
}
