{
  String actualPath=(path.endsWith("/") ? path : path + "/");
  Resource resource=this.resourceLoader.getResource(getResourceLocation(actualPath));
  try {
    File file=resource.getFile();
    String[] fileList=file.list();
    if (ObjectUtils.isEmpty(fileList)) {
      return null;
    }
    Set<String> resourcePaths=new LinkedHashSet<String>(fileList.length);
    for (    String fileEntry : fileList) {
      String resultPath=actualPath + fileEntry;
      if (resource.createRelative(fileEntry).getFile().isDirectory()) {
        resultPath+="/";
      }
      resourcePaths.add(resultPath);
    }
    return resourcePaths;
  }
 catch (  IOException ex) {
    logger.warn("Couldn't get resource paths for " + resource,ex);
    return null;
  }
}
