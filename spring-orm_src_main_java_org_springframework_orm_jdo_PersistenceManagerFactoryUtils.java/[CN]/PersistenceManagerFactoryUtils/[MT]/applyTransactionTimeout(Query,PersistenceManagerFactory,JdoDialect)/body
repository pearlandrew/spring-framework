{
  Assert.notNull(query,"No Query object specified");
  PersistenceManagerHolder pmHolder=(PersistenceManagerHolder)TransactionSynchronizationManager.getResource(pmf);
  if (pmHolder != null && pmHolder.hasTimeout()) {
    jdoDialect.applyQueryTimeout(query,pmHolder.getTimeToLiveInSeconds());
  }
}
