{
  if (ex instanceof JDOObjectNotFoundException) {
    throw new JdoObjectRetrievalFailureException((JDOObjectNotFoundException)ex);
  }
  if (ex instanceof JDOOptimisticVerificationException) {
    throw new JdoOptimisticLockingFailureException((JDOOptimisticVerificationException)ex);
  }
  if (ex instanceof JDODataStoreException) {
    return new JdoResourceFailureException((JDODataStoreException)ex);
  }
  if (ex instanceof JDOFatalDataStoreException) {
    return new JdoResourceFailureException((JDOFatalDataStoreException)ex);
  }
  if (ex instanceof JDOUserException) {
    return new JdoUsageException((JDOUserException)ex);
  }
  if (ex instanceof JDOFatalUserException) {
    return new JdoUsageException((JDOFatalUserException)ex);
  }
  return new JdoSystemException(ex);
}
