{
  if (!ObjectUtils.isEmpty(params)) {
    for (    String param : params) {
      int separator=param.indexOf('=');
      if (separator == -1) {
        if (param.startsWith("!")) {
          if (WebUtils.hasSubmitParameter(request,param.substring(1))) {
            return false;
          }
        }
 else         if (!WebUtils.hasSubmitParameter(request,param)) {
          return false;
        }
      }
 else {
        boolean negated=separator > 0 && param.charAt(separator - 1) == '!';
        String key=!negated ? param.substring(0,separator) : param.substring(0,separator - 1);
        String value=param.substring(separator + 1);
        boolean match=value.equals(request.getParameter(key));
        if (negated) {
          match=!match;
        }
        if (!match) {
          return false;
        }
      }
    }
  }
  return true;
}
