{
  String key=getSubscriptionReplyKey(session,subscriptionId);
  List<Registration<?>> list=this.registrationsBySession.get(session.getId());
  for (  Registration<?> registration : list) {
    if (registration.getSelector().matches(key)) {
      if (logger.isDebugEnabled()) {
        logger.debug("Cancelling subscription, key=" + key);
      }
      list.remove(registration);
      registration.cancel();
    }
  }
}
