{
  if (context.getEnvironment() != null && metadata.isAnnotated(Profile.class.getName())) {
    AnnotationAttributes profile=AnnotationAttributes.fromMap(metadata.getAnnotationAttributes(Profile.class.getName()));
    if (!context.getEnvironment().acceptsProfiles(profile.getStringArray("value"))) {
      return false;
    }
  }
  return true;
}
