{
  ApplicationContext ctx=new ClassPathXmlApplicationContext("jruby-with-xsd.xml",getClass());
  TestBean testBean=(TestBean)ctx.getBean("testBean");
  Messenger messenger=(Messenger)ctx.getBean("messenger");
  assertEquals("Hello World!",messenger.getMessage());
  assertFalse(messenger instanceof Refreshable);
  TestBeanAwareMessenger messengerByType=(TestBeanAwareMessenger)ctx.getBean("messengerByType");
  assertEquals(testBean,messengerByType.getTestBean());
  TestBeanAwareMessenger messengerByName=(TestBeanAwareMessenger)ctx.getBean("messengerByName");
  assertEquals(testBean,messengerByName.getTestBean());
}
