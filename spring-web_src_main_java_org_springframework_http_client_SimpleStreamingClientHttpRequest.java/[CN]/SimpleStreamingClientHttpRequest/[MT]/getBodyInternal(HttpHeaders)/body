{
  if (this.body == null) {
    int contentLength=(int)headers.getContentLength();
    if (contentLength >= 0) {
      this.connection.setFixedLengthStreamingMode(contentLength);
    }
 else {
      this.connection.setChunkedStreamingMode(this.chunkSize);
    }
    writeHeaders(headers);
    this.connection.connect();
    this.body=this.connection.getOutputStream();
  }
  return new NonClosingOutputStream(this.body);
}
