{
  Set<TransportHandler> result=new HashSet<TransportHandler>();
  result.add(new XhrPollingTransportHandler());
  result.add(new XhrTransportHandler());
  result.add(new JsonpPollingTransportHandler());
  result.add(new JsonpTransportHandler());
  result.add(new XhrStreamingTransportHandler());
  result.add(new EventSourceTransportHandler());
  result.add(new HtmlFileTransportHandler());
  if (isWebSocketEnabled()) {
    try {
      result.add(new WebSocketTransportHandler(new DefaultHandshakeHandler()));
    }
 catch (    Exception ex) {
      if (logger.isWarnEnabled()) {
        logger.warn("Failed to add default WebSocketTransportHandler: " + ex.getMessage());
      }
    }
  }
  return result;
}
