{
  TransportHandler transportHandler=this.transportHandlers.get(TransportType.WEBSOCKET);
  if ((transportHandler != null) && transportHandler instanceof HandshakeHandler) {
    HandshakeHandler handshakeHandler=(HandshakeHandler)transportHandler;
    handshakeHandler.doHandshake(request,response);
  }
 else {
    logger.debug("No handler found for raw WebSocket messages");
    response.setStatusCode(HttpStatus.NOT_FOUND);
  }
}
