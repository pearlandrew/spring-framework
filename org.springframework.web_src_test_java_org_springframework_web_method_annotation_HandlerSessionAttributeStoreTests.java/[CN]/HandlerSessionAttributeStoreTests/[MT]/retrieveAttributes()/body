{
  sessionAttributes.storeAttribute(request,"attr1","value1");
  sessionAttributes.storeAttribute(request,"attr2","value2");
  sessionAttributes.storeAttribute(request,"attr3",new TestBean());
  assertTrue(handlerSessionAttributes.isHandlerSessionAttribute("attr1",null));
  assertTrue(handlerSessionAttributes.isHandlerSessionAttribute("attr3",TestBean.class));
  Map<String,?> attributes=handlerSessionAttributes.retrieveHandlerSessionAttributes(request);
  assertEquals(new HashSet<String>(asList("attr1","attr3")),attributes.keySet());
}
