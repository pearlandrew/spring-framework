{
  Assert.notNull(callback,"'callback' must not be null");
synchronized (mutex) {
switch (state) {
case NEW:
      failureCallbacks.add(callback);
    break;
case FAILURE:
  callback.onFailure((Throwable)result);
break;
}
}
}
