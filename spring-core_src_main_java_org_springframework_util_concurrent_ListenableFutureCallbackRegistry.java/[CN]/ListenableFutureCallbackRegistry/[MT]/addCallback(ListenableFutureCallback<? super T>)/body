{
  Assert.notNull(callback,"'callback' must not be null");
synchronized (this.mutex) {
switch (this.state) {
case NEW:
      this.successCallbacks.add(callback);
    this.failureCallbacks.add(callback);
  break;
case SUCCESS:
callback.onSuccess((T)this.result);
break;
case FAILURE:
callback.onFailure((Throwable)this.result);
break;
}
}
}
