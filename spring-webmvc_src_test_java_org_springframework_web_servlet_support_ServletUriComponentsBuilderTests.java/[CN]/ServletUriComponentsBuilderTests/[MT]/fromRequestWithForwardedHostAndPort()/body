{
  this.request.addHeader("X-Forwarded-Host","foobarhost");
  this.request.addHeader("X-Forwarded-Port","9090");
  this.request.setServerPort(8080);
  UriComponents uriComponents=ServletUriComponentsBuilder.fromRequest(this.request).build();
  assertEquals("foobarhost",uriComponents.getHost());
  assertEquals(9090,uriComponents.getPort());
}
