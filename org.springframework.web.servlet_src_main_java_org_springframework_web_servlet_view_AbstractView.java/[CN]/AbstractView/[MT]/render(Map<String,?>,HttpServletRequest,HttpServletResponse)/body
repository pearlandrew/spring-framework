{
  if (logger.isTraceEnabled()) {
    logger.trace("Rendering view with name '" + this.beanName + "' with model "+ model+ " and static attributes "+ this.staticAttributes);
  }
  @SuppressWarnings("unchecked") Map<String,Object> pathVars=this.exposePathVariables ? (Map<String,Object>)request.getAttribute(View.PATH_VARIABLES) : null;
  int size=this.staticAttributes.size();
  size+=(model != null) ? model.size() : 0;
  size+=(pathVars != null) ? pathVars.size() : 0;
  Map<String,Object> mergedModel=new HashMap<String,Object>(size);
  mergedModel.putAll(this.staticAttributes);
  if (pathVars != null) {
    mergedModel.putAll(pathVars);
  }
  if (model != null) {
    mergedModel.putAll(model);
  }
  if (this.requestContextAttribute != null) {
    mergedModel.put(this.requestContextAttribute,createRequestContext(request,response,mergedModel));
  }
  prepareResponse(request,response);
  renderMergedOutputModel(mergedModel,request,response);
}
