{
  Iterator it=model.entrySet().iterator();
  while (it.hasNext()) {
    Map.Entry entry=(Map.Entry)it.next();
    if (!(entry.getKey() instanceof String)) {
      throw new IllegalArgumentException("Invalid key [" + entry.getKey() + "] in model Map: only Strings allowed as model keys");
    }
    String modelName=(String)entry.getKey();
    Object modelValue=entry.getValue();
    if (modelValue != null) {
      request.setAttribute(modelName,modelValue);
      if (logger.isDebugEnabled()) {
        logger.debug("Added model object '" + modelName + "' of type ["+ modelValue.getClass().getName()+ "] to request in view with name '"+ getBeanName()+ "'");
      }
    }
 else {
      request.removeAttribute(modelName);
      if (logger.isDebugEnabled()) {
        logger.debug("Removed model object '" + modelName + "' from request in view with name '"+ getBeanName()+ "'");
      }
    }
  }
}
