{
  super.doVisitEnd(annotationClass);
  List<AnnotationAttributes> attributes=this.attributesMap.get(this.annotationType);
  if (attributes == null) {
    this.attributesMap.add(this.annotationType,this.attributes);
  }
 else {
    attributes.add(0,this.attributes);
  }
  Set<Annotation> visited=new LinkedHashSet<Annotation>();
  Annotation[] metaAnnotations=AnnotationUtils.getAnnotations(annotationClass);
  if (!ObjectUtils.isEmpty(metaAnnotations)) {
    for (    Annotation metaAnnotation : metaAnnotations) {
      if (!AnnotationUtils.isInJavaLangAnnotationPackage(metaAnnotation)) {
        recursivelyCollectMetaAnnotations(visited,metaAnnotation);
      }
    }
  }
  if (this.metaAnnotationMap != null) {
    Set<String> metaAnnotationTypeNames=new LinkedHashSet<String>(visited.size());
    for (    Annotation ann : visited) {
      metaAnnotationTypeNames.add(ann.annotationType().getName());
    }
    this.metaAnnotationMap.put(annotationClass.getName(),metaAnnotationTypeNames);
  }
}
