{
  Formatter formatter;
  try {
    formatter=getFormatter();
  }
 catch (  EvaluationException e) {
    return new ExpressionEvaluationErrorResult(property.getExpressionString(),formatted,e);
  }
  Class parsedType=getFormattedObjectType(formatter);
  if (parsedType == null) {
    parsedType=String.class;
  }
  Object parsed=Array.newInstance(parsedType,formatted.length);
  for (int i=0; i < formatted.length; i++) {
    Object parsedValue;
    try {
      parsedValue=formatter.parse(formatted[i],LocaleContextHolder.getLocale());
    }
 catch (    ParseException e) {
      return new InvalidFormatResult(property.getExpressionString(),formatted,e);
    }
    Array.set(parsed,i,parsedValue);
  }
  return setValue(parsed,formatted);
}
