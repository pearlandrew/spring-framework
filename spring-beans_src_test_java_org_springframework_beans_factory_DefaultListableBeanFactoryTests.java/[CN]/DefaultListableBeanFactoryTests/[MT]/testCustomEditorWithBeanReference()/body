{
  DefaultListableBeanFactory lbf=new DefaultListableBeanFactory();
  lbf.addPropertyEditorRegistrar(new PropertyEditorRegistrar(){
    @Override public void registerCustomEditors(    PropertyEditorRegistry registry){
      NumberFormat nf=NumberFormat.getInstance(Locale.GERMAN);
      registry.registerCustomEditor(Float.class,new CustomNumberEditor(Float.class,nf,true));
    }
  }
);
  MutablePropertyValues pvs=new MutablePropertyValues();
  pvs.add("myFloat",new RuntimeBeanReference("myFloat"));
  lbf.registerBeanDefinition("testBean",new RootBeanDefinition(TestBean.class,pvs));
  lbf.registerSingleton("myFloat","1,1");
  TestBean testBean=(TestBean)lbf.getBean("testBean");
  assertTrue(testBean.getMyFloat().floatValue() == 1.1f);
}
