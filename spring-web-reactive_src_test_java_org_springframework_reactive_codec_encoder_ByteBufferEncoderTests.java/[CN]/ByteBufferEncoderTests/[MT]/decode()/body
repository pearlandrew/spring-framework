{
  ByteBuffer fooBuffer=Buffer.wrap("foo").byteBuffer();
  ByteBuffer barBuffer=Buffer.wrap("bar").byteBuffer();
  Stream<ByteBuffer> source=Streams.just(fooBuffer,barBuffer);
  List<ByteBuffer> results=Streams.from(encoder.encode(source,ResolvableType.forClassWithGenerics(Publisher.class,ByteBuffer.class),null)).toList().get();
  assertEquals(2,results.size());
  assertEquals(fooBuffer,results.get(0));
  assertEquals(barBuffer,results.get(1));
}
