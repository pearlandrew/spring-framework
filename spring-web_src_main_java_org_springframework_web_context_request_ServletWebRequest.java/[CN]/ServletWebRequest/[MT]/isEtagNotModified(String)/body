{
  if (StringUtils.hasLength(etag)) {
    String ifNoneMatch=getRequest().getHeader(HEADER_IF_NONE_MATCH);
    if (StringUtils.hasLength(ifNoneMatch)) {
      String[] clientEtags=StringUtils.delimitedListToStringArray(ifNoneMatch,","," ");
      for (      String clientEtag : clientEtags) {
        if (StringUtils.hasLength(clientEtag) && (clientEtag.replaceFirst("^W/","").equals(etag.replaceFirst("^W/","")) || clientEtag.equals("*"))) {
          return true;
        }
      }
    }
  }
  return false;
}
