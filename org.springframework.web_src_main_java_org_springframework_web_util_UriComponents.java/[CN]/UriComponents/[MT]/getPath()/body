{
  if (!pathSegments.isEmpty()) {
    StringBuilder pathBuilder=new StringBuilder();
    for (    String pathSegment : pathSegments) {
      if (StringUtils.hasLength(pathSegment)) {
        boolean startsWithSlash=pathSegment.charAt(0) == PATH_DELIMITER;
        boolean endsWithSlash=pathBuilder.length() > 0 && pathBuilder.charAt(pathBuilder.length() - 1) == PATH_DELIMITER;
        if (!endsWithSlash && !startsWithSlash) {
          pathBuilder.append('/');
        }
 else         if (endsWithSlash && startsWithSlash) {
          pathSegment=pathSegment.substring(1);
        }
        pathBuilder.append(pathSegment);
      }
    }
    return pathBuilder.toString();
  }
 else {
    return null;
  }
}
