{
  Map<String,Class<?>> result=new LinkedHashMap<String,Class<?>>(map.size());
  for (  Map.Entry<String,?> entry : map.entrySet()) {
    String key=entry.getKey();
    Object value=entry.getValue();
    Class type;
    if (value instanceof Class) {
      type=(Class)value;
    }
 else     if (value instanceof String) {
      String s=(String)value;
      type=ClassUtils.forName(s,classLoader);
    }
 else {
      throw new IllegalArgumentException("Unknown value [" + value + "], expected String or Class");
    }
    result.put(key,type);
  }
  return result;
}
