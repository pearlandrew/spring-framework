{
  Class<?> sourceClass=sourceType.getWrapperTypeIfPrimitive();
  Class<?> targetClass=targetType.getWrapperTypeIfPrimitive();
  if (sourceClass.isInterface()) {
    LinkedList classQueue=new LinkedList();
    classQueue.addFirst(sourceClass);
    while (!classQueue.isEmpty()) {
      Class currentClass=(Class)classQueue.removeLast();
      Map converters=getConvertersForSource(currentClass);
      Converter converter=getConverter(converters,targetClass);
      if (converter != null) {
        return converter;
      }
      Class[] interfaces=currentClass.getInterfaces();
      for (int i=0; i < interfaces.length; i++) {
        classQueue.addFirst(interfaces[i]);
      }
    }
    Map objectConverters=getConvertersForSource(Object.class);
    return getConverter(objectConverters,targetClass);
  }
 else {
    LinkedList classQueue=new LinkedList();
    classQueue.addFirst(sourceClass);
    while (!classQueue.isEmpty()) {
      Class currentClass=(Class)classQueue.removeLast();
      Map converters=getConvertersForSource(currentClass);
      Converter converter=getConverter(converters,targetClass);
      if (converter != null) {
        return converter;
      }
      if (currentClass.getSuperclass() != null) {
        classQueue.addFirst(currentClass.getSuperclass());
      }
      Class[] interfaces=currentClass.getInterfaces();
      for (int i=0; i < interfaces.length; i++) {
        classQueue.addFirst(interfaces[i]);
      }
    }
    return null;
  }
}
