{
  Object result=getValueInternal(state);
  if (result != null && desiredReturnType != null) {
    Class<?> resultType=result.getClass();
    if (desiredReturnType.isAssignableFrom(resultType)) {
      return (T)result;
    }
    return ExpressionUtils.convert(state.getEvaluationContext(),result,desiredReturnType);
  }
  return (T)result;
}
