{
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  @SuppressWarnings("deprecation") JsonGenerator jsonGenerator=this.objectMapper.getJsonFactory().createJsonGenerator(out,JsonEncoding.UTF8);
  if (this.objectMapper.isEnabled(SerializationFeature.INDENT_OUTPUT)) {
    jsonGenerator.useDefaultPrettyPrinter();
  }
  try {
    if (this.prefixJson) {
      jsonGenerator.writeRaw("{} && ");
    }
    this.objectMapper.writeValue(jsonGenerator,object);
  }
 catch (  JsonProcessingException ex) {
    throw new IllegalStateException("Could not write JSON: " + ex.getMessage(),ex);
  }
  return out.toByteArray();
}
