{
  Type resolvedType=getRawType(genericType,typeVariableMap);
  if (resolvedType instanceof GenericArrayType) {
    Type componentType=((GenericArrayType)resolvedType).getGenericComponentType();
    Class<?> componentClass=resolveType(componentType,typeVariableMap);
    resolvedType=Array.newInstance(componentClass,0).getClass();
  }
  return (resolvedType instanceof Class ? (Class)resolvedType : Object.class);
}
