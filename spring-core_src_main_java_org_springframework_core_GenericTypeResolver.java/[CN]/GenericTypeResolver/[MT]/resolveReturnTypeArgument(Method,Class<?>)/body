{
  Assert.notNull(method,"method must not be null");
  Type returnType=method.getReturnType();
  Type genericReturnType=method.getGenericReturnType();
  if (returnType.equals(genericIfc)) {
    if (genericReturnType instanceof ParameterizedType) {
      ParameterizedType targetType=(ParameterizedType)genericReturnType;
      Type[] actualTypeArguments=targetType.getActualTypeArguments();
      Type typeArg=actualTypeArguments[0];
      if (!(typeArg instanceof WildcardType)) {
        return (Class<?>)typeArg;
      }
    }
 else {
      return null;
    }
  }
  return resolveTypeArgument((Class<?>)returnType,genericIfc);
}
