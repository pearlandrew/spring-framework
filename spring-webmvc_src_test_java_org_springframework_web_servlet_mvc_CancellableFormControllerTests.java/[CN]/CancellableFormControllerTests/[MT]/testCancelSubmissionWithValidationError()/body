{
  String cancelView="cancelView";
  String cancelParameterKey="cancelRequest";
  TestController ctl=new TestController();
  ctl.setCancelParamKey(cancelParameterKey);
  ctl.setCancelView(cancelView);
  TestValidator val=new TestValidator();
  ctl.setValidator(val);
  MockHttpServletRequest request=new MockHttpServletRequest();
  MockHttpServletResponse response=new MockHttpServletResponse();
  request.setMethod("POST");
  request.addParameter("name","Rob Harrop");
  request.addParameter("age","23");
  request.addParameter("cancelRequest","true");
  ModelAndView mv=ctl.handleRequest(request,response);
  assertEquals("Incorrect view name",cancelView,mv.getViewName());
  assertFalse(val.invoked);
}
