{
  MethodParameter returnType=(headers != null ? (MethodParameter)headers.get(METHOD_PARAMETER_HINT_HEADER) : null);
  if (returnType == null) {
    return null;
  }
  JsonView annotation=returnType.getMethodAnnotation(JsonView.class);
  if (annotation == null) {
    return null;
  }
  Class<?>[] classes=annotation.value();
  if (classes.length != 1) {
    throw new IllegalArgumentException("@JsonView only supported for handler methods with exactly 1 class argument: " + returnType);
  }
  return classes[0];
}
