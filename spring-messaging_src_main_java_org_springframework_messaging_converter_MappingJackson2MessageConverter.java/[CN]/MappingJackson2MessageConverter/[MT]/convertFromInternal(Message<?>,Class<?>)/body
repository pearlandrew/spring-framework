{
  JavaType javaType=this.objectMapper.constructType(targetClass);
  Object payload=message.getPayload();
  try {
    if (payload instanceof byte[]) {
      return this.objectMapper.readValue((byte[])payload,javaType);
    }
 else {
      return this.objectMapper.readValue((String)payload,javaType);
    }
  }
 catch (  IOException ex) {
    throw new MessageConversionException(message,"Could not read JSON: " + ex.getMessage(),ex);
  }
}
