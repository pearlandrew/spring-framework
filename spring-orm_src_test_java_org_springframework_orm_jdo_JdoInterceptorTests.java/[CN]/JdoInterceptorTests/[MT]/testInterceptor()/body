{
  MockControl pmfControl=MockControl.createControl(PersistenceManagerFactory.class);
  PersistenceManagerFactory pmf=(PersistenceManagerFactory)pmfControl.getMock();
  MockControl pmControl=MockControl.createControl(PersistenceManager.class);
  PersistenceManager pm=(PersistenceManager)pmControl.getMock();
  pmf.getPersistenceManager();
  pmfControl.setReturnValue(pm,1);
  pm.close();
  pmControl.setVoidCallable(1);
  pmfControl.replay();
  pmControl.replay();
  JdoInterceptor interceptor=new JdoInterceptor();
  interceptor.setPersistenceManagerFactory(pmf);
  try {
    interceptor.invoke(new TestInvocation(pmf));
  }
 catch (  Throwable t) {
    fail("Should not have thrown Throwable: " + t.getMessage());
  }
  pmfControl.verify();
  pmControl.verify();
}
