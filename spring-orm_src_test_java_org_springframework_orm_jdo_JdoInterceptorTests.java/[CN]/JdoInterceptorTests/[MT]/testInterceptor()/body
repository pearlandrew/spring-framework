{
  PersistenceManagerFactory pmf=mock(PersistenceManagerFactory.class);
  PersistenceManager pm=mock(PersistenceManager.class);
  given(pmf.getPersistenceManager()).willReturn(pm);
  JdoInterceptor interceptor=new JdoInterceptor();
  interceptor.setPersistenceManagerFactory(pmf);
  try {
    interceptor.invoke(new TestInvocation(pmf));
  }
 catch (  Throwable t) {
    fail("Should not have thrown Throwable: " + t.getMessage());
  }
  verify(pm).close();
}
