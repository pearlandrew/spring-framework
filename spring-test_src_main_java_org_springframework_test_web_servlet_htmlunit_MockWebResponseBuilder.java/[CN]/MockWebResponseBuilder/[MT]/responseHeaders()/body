{
  Collection<String> headerNames=response.getHeaderNames();
  List<NameValuePair> responseHeaders=new ArrayList<NameValuePair>(headerNames.size());
  for (  String headerName : headerNames) {
    List<Object> headerValues=response.getHeaderValues(headerName);
    for (    Object value : headerValues) {
      responseHeaders.add(new NameValuePair(headerName,String.valueOf(value)));
    }
  }
  String location=response.getRedirectedUrl();
  if (location != null) {
    responseHeaders.add(new NameValuePair("Location",location));
  }
  return responseHeaders;
}
