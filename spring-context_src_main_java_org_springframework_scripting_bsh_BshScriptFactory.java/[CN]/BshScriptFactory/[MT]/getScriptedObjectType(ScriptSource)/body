{
  try {
synchronized (this.scriptClassMonitor) {
      if (scriptSource.isModified()) {
        this.wasModifiedForTypeCheck=true;
        this.scriptClass=BshScriptUtils.determineBshObjectType(scriptSource.getScriptAsString());
      }
      return this.scriptClass;
    }
  }
 catch (  EvalError ex) {
    throw new ScriptCompilationException(scriptSource,ex);
  }
}
