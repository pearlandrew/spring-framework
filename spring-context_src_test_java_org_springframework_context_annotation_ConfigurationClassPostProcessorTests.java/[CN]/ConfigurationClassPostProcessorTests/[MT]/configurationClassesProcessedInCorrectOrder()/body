{
  beanFactory.registerBeanDefinition("config1",new RootBeanDefinition(OverridingSingletonBeanConfig.class));
  beanFactory.registerBeanDefinition("config2",new RootBeanDefinition(SingletonBeanConfig.class));
  ConfigurationClassPostProcessor pp=new ConfigurationClassPostProcessor();
  pp.postProcessBeanFactory(beanFactory);
  assertTrue(beanFactory.getBean(Foo.class) instanceof ExtendedFoo);
  beanFactory.getBean(Bar.class);
}
