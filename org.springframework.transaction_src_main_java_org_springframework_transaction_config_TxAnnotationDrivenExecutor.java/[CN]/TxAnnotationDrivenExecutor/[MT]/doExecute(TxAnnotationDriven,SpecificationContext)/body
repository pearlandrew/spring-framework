{
  BeanDefinitionRegistry registry=specificationContext.getRegistry();
  ComponentRegistrar registrar=specificationContext.getRegistrar();
switch (txSpec.mode()) {
case ASPECTJ:
    registerTransactionAspect(txSpec,registry,registrar);
  break;
case PROXY:
AopAutoProxyConfigurer.configureAutoProxyCreator(txSpec,registry,registrar);
break;
default :
throw new IllegalArgumentException(String.format("AdviceMode %s is not supported",txSpec.mode()));
}
}
