{
  MockJavaMailSender sender=new MockJavaMailSender();
  sender.setHost(null);
  sender.setUsername("username");
  sender.setPassword("password");
  SimpleMailMessage simpleMessage1=new SimpleMailMessage();
  try {
    sender.send(simpleMessage1);
    fail("Should have thrown MailSendException");
  }
 catch (  MailSendException ex) {
    assertTrue(ex.getFailedMessages() != null);
    assertTrue(ex.getFailedMessages().isEmpty());
  }
}
