{
  SpringWildcardServletTilesApplicationContext preliminaryContext=new SpringWildcardServletTilesApplicationContext(this.servletContext);
  if (this.tilesInitializer == null) {
    this.tilesInitializer=new SpringTilesInitializer();
  }
  this.tilesInitializer.initialize(preliminaryContext);
  if (this.completeAutoload) {
    logger.debug("Registering Tiles 3.0 SpringLocaleResolver for complete-autoload setup");
    BasicTilesContainer container=(BasicTilesContainer)TilesAccess.getContainer(preliminaryContext);
    BeanWrapper bw=PropertyAccessorFactory.forBeanPropertyAccess(container.getDefinitionsFactory());
    if (bw.isWritableProperty("localeResolver")) {
      bw.setPropertyValue("localeResolver",new SpringLocaleResolver());
    }
  }
}
