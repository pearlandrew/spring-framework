{
  DispatcherPortlet complexDispatcherPortlet=new DispatcherPortlet();
  complexDispatcherPortlet.setContextClass(ComplexPortletApplicationContext.class);
  complexDispatcherPortlet.setNamespace("test");
  complexDispatcherPortlet.setDetectAllHandlerMappings(false);
  complexDispatcherPortlet.init(new MockPortletConfig(getPortletContext(),"complex"));
  MockActionRequest request=new MockActionRequest();
  MockActionResponse response=new MockActionResponse();
  request.setPortletMode(PortletMode.EDIT);
  complexDispatcherPortlet.processAction(request,response);
  String exceptionParam=response.getRenderParameter(DispatcherPortlet.ACTION_EXCEPTION_RENDER_PARAMETER);
  assertNotNull(exceptionParam);
  assertTrue(exceptionParam.startsWith(NoHandlerFoundException.class.getName()));
}
