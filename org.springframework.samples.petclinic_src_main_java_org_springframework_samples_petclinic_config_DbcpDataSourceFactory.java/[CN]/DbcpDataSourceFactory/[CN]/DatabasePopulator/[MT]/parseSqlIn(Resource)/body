{
  InputStream is=null;
  try {
    is=resource.getInputStream();
    BufferedReader reader=new BufferedReader(new InputStreamReader(is));
    StringWriter sw=new StringWriter();
    BufferedWriter writer=new BufferedWriter(sw);
    for (int c=reader.read(); c != -1; c=reader.read()) {
      writer.write(c);
    }
    writer.flush();
    return sw.toString();
  }
  finally {
    if (is != null) {
      is.close();
    }
  }
}
