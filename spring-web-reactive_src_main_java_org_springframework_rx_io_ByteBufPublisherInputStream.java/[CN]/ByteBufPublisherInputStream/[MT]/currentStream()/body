{
  try {
    if (this.currentStream != null && this.currentStream.available() > 0) {
      return this.currentStream;
    }
 else     if (this.queue.isComplete()) {
      return null;
    }
 else     if (this.queue.isHeadBuffer()) {
      ByteBuf current=this.queue.pollBuffer();
      this.currentStream=new ByteBufInputStream(current);
      return this.currentStream;
    }
 else     if (this.queue.isHeadError()) {
      Throwable t=this.queue.pollError();
      throw toIOException(t);
    }
  }
 catch (  InterruptedException ex) {
    Thread.currentThread().interrupt();
  }
  return null;
}
