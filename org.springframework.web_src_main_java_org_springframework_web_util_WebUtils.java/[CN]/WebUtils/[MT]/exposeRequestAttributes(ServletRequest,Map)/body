{
  Assert.notNull(request,"Request must not be null");
  Iterator it=attributes.entrySet().iterator();
  while (it.hasNext()) {
    Map.Entry entry=(Map.Entry)it.next();
    if (!(entry.getKey() instanceof String)) {
      throw new IllegalArgumentException("Invalid key [" + entry.getKey() + "] in attributes Map - only Strings allowed as attribute keys");
    }
    request.setAttribute((String)entry.getKey(),entry.getValue());
  }
}
