{
  Assert.notNull(this.cacheManager,"A backing EhCache CacheManager is required");
  Status status=this.cacheManager.getStatus();
  Assert.isTrue(Status.STATUS_ALIVE.equals(status),"An 'alive' EhCache CacheManager is required - current cache is " + status.toString());
  String[] names=this.cacheManager.getCacheNames();
  Collection<Cache> caches=new LinkedHashSet<Cache>(names.length);
  for (  String name : names) {
    caches.add(new EhCacheCache(this.cacheManager.getEhcache(name)));
  }
  return caches;
}
