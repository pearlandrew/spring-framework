{
  if (source == null) {
    return this.conversionService.convertNullSource(sourceType,targetType);
  }
  Collection<?> sourceCollection=(Collection<?>)source;
  if (sourceCollection.size() == 0) {
    return "";
  }
 else {
    TypeDescriptor sourceElementType=sourceType.getElementTypeDescriptor();
    if (sourceElementType == TypeDescriptor.NULL) {
      sourceElementType=ConversionUtils.getElementType(sourceCollection);
    }
    if (sourceElementType == TypeDescriptor.NULL || sourceElementType.isAssignableTo(targetType)) {
      StringBuilder string=new StringBuilder();
      int i=0;
      for (      Object element : sourceCollection) {
        if (i > 0) {
          string.append(DELIMITER);
        }
        string.append(element);
        i++;
      }
      return string.toString();
    }
 else {
      GenericConverter converter=this.conversionService.getConverter(sourceElementType,targetType);
      if (converter == null) {
        throw new ConverterNotFoundException(sourceElementType,targetType);
      }
      StringBuilder string=new StringBuilder();
      int i=0;
      for (      Object sourceElement : sourceCollection) {
        if (i > 0) {
          string.append(DELIMITER);
        }
        Object targetElement=ConversionUtils.invokeConverter(converter,sourceElement,sourceElementType,targetType);
        string.append(targetElement);
        i++;
      }
      return string.toString();
    }
  }
}
