{
  PropertyEditor editor=null;
  if (typeDescriptor instanceof BeanTypeDescriptor) {
    PropertyDescriptor pd=((BeanTypeDescriptor)typeDescriptor).getPropertyDescriptor();
    editor=pd.createPropertyEditor(this.targetObject);
  }
  if (editor == null && requiredType != null) {
    editor=this.propertyEditorRegistry.getDefaultEditor(requiredType);
    if (editor == null && !String.class.equals(requiredType)) {
      editor=BeanUtils.findEditorByConvention(requiredType);
    }
  }
  return editor;
}
