{
  Object o=new Object();
  String name="foo";
  MockControl mc=MockControl.createControl(Context.class);
  final Context mock=(Context)mc.getMock();
  mock.lookup(name);
  mc.setReturnValue(o);
  mock.close();
  mc.setVoidCallable(1);
  mc.replay();
  JndiTemplate jt=new JndiTemplate(){
    protected Context createInitialContext(){
      return mock;
    }
  }
;
  try {
    jt.lookup(name,String.class);
    fail("Should have thrown TypeMismatchNamingException");
  }
 catch (  TypeMismatchNamingException ex) {
  }
  mc.verify();
}
