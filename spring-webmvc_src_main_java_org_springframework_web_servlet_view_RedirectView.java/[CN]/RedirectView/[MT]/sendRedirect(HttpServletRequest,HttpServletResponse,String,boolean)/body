{
  String encodedRedirectURL=response.encodeRedirectURL(targetUrl);
  if (http10Compatible) {
    HttpStatus attributeStatusCode=(HttpStatus)request.getAttribute(View.RESPONSE_STATUS_ATTRIBUTE);
    if (this.statusCode != null) {
      response.setStatus(this.statusCode.value());
      response.setHeader("Location",encodedRedirectURL);
    }
 else     if (attributeStatusCode != null) {
      response.setStatus(attributeStatusCode.value());
      response.setHeader("Location",encodedRedirectURL);
    }
 else {
      response.sendRedirect(encodedRedirectURL);
    }
  }
 else {
    HttpStatus statusCode=getHttp11StatusCode(request,response,targetUrl);
    response.setStatus(statusCode.value());
    response.setHeader("Location",encodedRedirectURL);
  }
}
