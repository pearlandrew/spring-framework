{
  Map caseInsensitiveParameterNames=new HashMap();
  if (parameterSource instanceof BeanPropertySqlParameterSource) {
    String[] propertyNames=((BeanPropertySqlParameterSource)parameterSource).getReadablePropertyNames();
    for (int i=0; i < propertyNames.length; i++) {
      String name=propertyNames[i];
      caseInsensitiveParameterNames.put(name.toLowerCase(),name);
    }
  }
 else   if (parameterSource instanceof MapSqlParameterSource) {
    for (Iterator it=((MapSqlParameterSource)parameterSource).getValues().keySet().iterator(); it.hasNext(); ) {
      String name=(String)it.next();
      caseInsensitiveParameterNames.put(name.toLowerCase(),name);
    }
  }
  return caseInsensitiveParameterNames;
}
