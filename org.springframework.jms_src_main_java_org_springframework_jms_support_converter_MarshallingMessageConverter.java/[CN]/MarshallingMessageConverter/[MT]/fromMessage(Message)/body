{
  try {
    if (message instanceof TextMessage) {
      TextMessage textMessage=(TextMessage)message;
      return unmarshalFromTextMessage(textMessage,unmarshaller);
    }
 else     if (message instanceof BytesMessage) {
      BytesMessage bytesMessage=(BytesMessage)message;
      return unmarshalFromBytesMessage(bytesMessage,unmarshaller);
    }
 else {
      return unmarshalFromMessage(message,unmarshaller);
    }
  }
 catch (  UnmarshallingFailureException ex) {
    throw new MessageConversionException("Could not unmarshal message [" + message + "]",ex);
  }
catch (  IOException ex) {
    throw new MessageConversionException("Could not unmarshal message [" + message + "]",ex);
  }
}
