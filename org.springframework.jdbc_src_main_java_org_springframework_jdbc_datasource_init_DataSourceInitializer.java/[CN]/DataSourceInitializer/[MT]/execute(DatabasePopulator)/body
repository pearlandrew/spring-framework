{
  if (this.enabled) {
    Assert.state(this.dataSource != null,"DataSource must be provided");
    Assert.state(populator != null,"DatabasePopulator must be provided");
    try {
      Connection connection=this.dataSource.getConnection();
      try {
        populator.populate(connection);
      }
  finally {
        try {
          connection.close();
        }
 catch (        SQLException ex) {
        }
      }
    }
 catch (    Exception ex) {
      throw new DataAccessResourceFailureException("Failed to execute database script",ex);
    }
  }
}
