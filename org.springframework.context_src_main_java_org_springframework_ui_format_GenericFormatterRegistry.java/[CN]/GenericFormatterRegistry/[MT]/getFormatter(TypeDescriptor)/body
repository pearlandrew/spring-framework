{
  Assert.notNull(type,"The TypeDescriptor is required");
  Annotation[] annotations=type.getAnnotations();
  for (  Annotation a : annotations) {
    AnnotationFormatterFactory factory=annotationFormatters.get(a.annotationType());
    if (factory != null) {
      return factory.getFormatter(a);
    }
  }
  return getFormatter(type.getType());
}
