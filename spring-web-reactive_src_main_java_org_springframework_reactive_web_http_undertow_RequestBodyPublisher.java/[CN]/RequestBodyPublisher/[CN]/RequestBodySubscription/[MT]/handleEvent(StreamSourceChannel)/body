{
  if (subscriptionClosed) {
    return;
  }
  try {
    ByteBuffer buffer=pooledBuffer.getBuffer();
    int count;
    do {
      count=channel.read(buffer);
      if (count == 0) {
        return;
      }
 else       if (count == -1) {
        if (buffer.position() > 0) {
          doOnNext(buffer);
        }
        doOnComplete();
      }
 else {
        if (buffer.remaining() == 0) {
          if (demand == 0) {
            channel.suspendReads();
          }
          doOnNext(buffer);
          if (demand > 0) {
            scheduleNextMessage();
          }
          break;
        }
      }
    }
 while (count > 0);
  }
 catch (  IOException e) {
    doOnError(e);
  }
}
