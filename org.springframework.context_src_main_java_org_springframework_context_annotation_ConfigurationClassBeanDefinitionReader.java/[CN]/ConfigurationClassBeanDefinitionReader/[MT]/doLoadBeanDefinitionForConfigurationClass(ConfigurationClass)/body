{
  if (configClass.getBeanName() == null) {
    GenericBeanDefinition configBeanDef=new GenericBeanDefinition();
    configBeanDef.setBeanClassName(configClass.getMetadata().getClassName());
    new ConfigurationClassPostProcessor().checkConfigurationClassCandidate(configBeanDef);
    String configBeanName=BeanDefinitionReaderUtils.registerWithGeneratedName(configBeanDef,this.registry);
    configClass.setBeanName(configBeanName);
    if (logger.isDebugEnabled()) {
      logger.debug(String.format("Registered bean definition for imported @Configuration class %s",configBeanName));
    }
  }
}
