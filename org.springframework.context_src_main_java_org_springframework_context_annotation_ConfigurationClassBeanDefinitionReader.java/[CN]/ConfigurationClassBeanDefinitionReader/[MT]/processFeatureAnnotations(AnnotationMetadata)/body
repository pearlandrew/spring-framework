{
  try {
    for (    String annotationType : metadata.getAnnotationTypes()) {
      MetadataReader metadataReader=new SimpleMetadataReaderFactory().getMetadataReader(annotationType);
      if (metadataReader.getAnnotationMetadata().isAnnotated(FeatureAnnotation.class.getName())) {
        Map<String,Object> annotationAttributes=metadataReader.getAnnotationMetadata().getAnnotationAttributes(FeatureAnnotation.class.getName(),true);
        FeatureAnnotationParser processor=(FeatureAnnotationParser)BeanUtils.instantiateClass(Class.forName((String)annotationAttributes.get("parser")));
        FeatureSpecification spec=processor.process(metadata);
        spec.execute(this.specificationContext);
      }
    }
  }
 catch (  BeanDefinitionParsingException ex) {
    throw ex;
  }
catch (  Exception ex) {
    throw new RuntimeException(ex);
  }
}
