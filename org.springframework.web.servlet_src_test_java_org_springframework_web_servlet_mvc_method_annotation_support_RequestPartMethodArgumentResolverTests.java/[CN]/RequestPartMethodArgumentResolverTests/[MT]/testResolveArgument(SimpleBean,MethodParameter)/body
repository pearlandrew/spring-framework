{
  MediaType contentType=MediaType.TEXT_PLAIN;
  multipartRequest.addHeader("Content-Type",contentType.toString());
  expect(messageConverter.canRead(SimpleBean.class,contentType)).andReturn(true);
  expect(messageConverter.read(eq(SimpleBean.class),isA(RequestPartServletServerHttpRequest.class))).andReturn(expectedValue);
  replay(messageConverter);
  ModelAndViewContainer mavContainer=new ModelAndViewContainer();
  Object actualValue=resolver.resolveArgument(parameter,mavContainer,webRequest,new ValidatingBinderFactory());
  assertEquals("Invalid argument value",expectedValue,actualValue);
  assertTrue("The ResolveView flag shouldn't change",mavContainer.isResolveView());
  verify(messageConverter);
}
