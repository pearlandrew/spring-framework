{
  if (!(requestEvent.getServletRequest() instanceof HttpServletRequest)) {
    throw new IllegalArgumentException("Request is not an HttpServletRequest: " + requestEvent.getServletRequest());
  }
  HttpServletRequest request=(HttpServletRequest)requestEvent.getServletRequest();
  ServletRequestAttributes attributes=new ServletRequestAttributes(request);
  request.setAttribute(REQUEST_ATTRIBUTES_ATTRIBUTE,attributes);
  LocaleContextHolder.setLocale(request.getLocale());
  RequestContextHolder.setRequestAttributes(attributes);
  if (logger.isDebugEnabled()) {
    logger.debug("Bound request context to thread: " + request);
  }
}
