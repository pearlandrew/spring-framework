{
  if (locale != null) {
    formatter=formatter.withLocale(locale);
  }
  JodaTimeContext context=getJodaTimeContext();
  return (context != null ? context.getFormatter(formatter) : formatter);
}
