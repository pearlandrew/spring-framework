{
  if (this.index >= this.collection.size()) {
    if (this.growCollection) {
      growCollection(this.collectionEntryTypeDescriptor,this.index,this.collection);
    }
 else {
      throw new SpelEvaluationException(getStartPosition(),SpelMessage.COLLECTION_INDEX_OUT_OF_BOUNDS,this.collection.size(),this.index);
    }
  }
  if (this.collection instanceof List) {
    List list=(List)this.collection;
    if (this.collectionEntryTypeDescriptor.getElementTypeDescriptor() != null) {
      newValue=this.typeConverter.convertValue(newValue,TypeDescriptor.forObject(newValue),this.collectionEntryTypeDescriptor.getElementTypeDescriptor());
    }
    list.set(this.index,newValue);
  }
 else {
    throw new SpelEvaluationException(getStartPosition(),SpelMessage.INDEXING_NOT_SUPPORTED_FOR_TYPE,this.collectionEntryTypeDescriptor.toString());
  }
}
