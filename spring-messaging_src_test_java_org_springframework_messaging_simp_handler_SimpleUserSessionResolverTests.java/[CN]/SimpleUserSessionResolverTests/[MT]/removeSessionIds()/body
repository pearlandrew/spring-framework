{
  SimpleUserSessionResolver resolver=new SimpleUserSessionResolver();
  for (  String sessionId : sessionIds) {
    resolver.addUserSessionId(user,sessionId);
  }
  assertEquals(new LinkedHashSet<>(sessionIds),resolver.resolveUserSessionIds(user));
  resolver.removeUserSessionId(user,sessionIds.get(1));
  resolver.removeUserSessionId(user,sessionIds.get(2));
  assertEquals(Collections.singleton(sessionIds.get(0)),resolver.resolveUserSessionIds(user));
  resolver.removeUserSessionId(user,sessionIds.get(0));
  assertSame(Collections.emptySet(),resolver.resolveUserSessionIds(user));
}
