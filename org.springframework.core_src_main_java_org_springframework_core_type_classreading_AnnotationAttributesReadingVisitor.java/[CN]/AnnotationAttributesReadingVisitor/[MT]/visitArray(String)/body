{
  return new AnnotationVisitor(){
    public void visit(    String name,    Object value){
      Object newValue=value;
      if (newValue instanceof Type) {
        newValue=((Type)value).getClassName();
      }
      Object existingValue=attributes.get(attrName);
      if (existingValue != null) {
        newValue=ObjectUtils.addObjectToArray((Object[])existingValue,newValue);
      }
 else {
        Object[] newArray=(Object[])Array.newInstance(newValue.getClass(),1);
        newArray[0]=newValue;
        newValue=newArray;
      }
      attributes.put(attrName,newValue);
    }
    public void visitEnum(    String name,    String desc,    String value){
    }
    public AnnotationVisitor visitAnnotation(    String name,    String desc){
      return new EmptyVisitor();
    }
    public AnnotationVisitor visitArray(    String name){
      return new EmptyVisitor();
    }
    public void visitEnd(){
    }
  }
;
}
